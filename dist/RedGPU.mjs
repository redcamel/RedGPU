/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ var __webpack_modules__ = ({

/***/ "./node_modules/dat.gui/build/dat.gui.module.js":
/*!******************************************************!*\
  !*** ./node_modules/dat.gui/build/dat.gui.module.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GUI\": () => (/* binding */ GUI$1),\n/* harmony export */   \"color\": () => (/* binding */ color),\n/* harmony export */   \"controllers\": () => (/* binding */ controllers),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"dom\": () => (/* binding */ dom$1),\n/* harmony export */   \"gui\": () => (/* binding */ gui)\n/* harmony export */ });\n/**\n * dat-gui JavaScript Controller Library\n * https://github.com/dataarts/dat.gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction ___$insertStyle(css) {\n  if (!css) {\n    return;\n  }\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  var style = document.createElement('style');\n\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  document.head.appendChild(style);\n\n  return css;\n}\n\nfunction colorToString (color, forceCSSHex) {\n  var colorFormat = color.__state.conversionName.toString();\n  var r = Math.round(color.r);\n  var g = Math.round(color.g);\n  var b = Math.round(color.b);\n  var a = color.a;\n  var h = Math.round(color.h);\n  var s = color.s.toFixed(1);\n  var v = color.v.toFixed(1);\n  if (forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX') {\n    var str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n  return 'unknown format';\n}\n\nvar ARR_EACH = Array.prototype.forEach;\nvar ARR_SLICE = Array.prototype.slice;\nvar Common = {\n  BREAK: {},\n  extend: function extend(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function (obj) {\n      var keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function (key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n    return target;\n  },\n  defaults: function defaults(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function (obj) {\n      var keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function (key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n    return target;\n  },\n  compose: function compose() {\n    var toCall = ARR_SLICE.call(arguments);\n    return function () {\n      var args = ARR_SLICE.call(arguments);\n      for (var i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n  each: function each(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) {\n      var key = void 0;\n      var l = void 0;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (var _key in obj) {\n        if (itr.call(scope, obj[_key], _key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n  defer: function defer(fnc) {\n    setTimeout(fnc, 0);\n  },\n  debounce: function debounce(func, threshold, callImmediately) {\n    var timeout = void 0;\n    return function () {\n      var obj = this;\n      var args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n      var callNow = callImmediately || !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n  toArray: function toArray(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n  isUndefined: function isUndefined(obj) {\n    return obj === undefined;\n  },\n  isNull: function isNull(obj) {\n    return obj === null;\n  },\n  isNaN: function (_isNaN) {\n    function isNaN(_x) {\n      return _isNaN.apply(this, arguments);\n    }\n    isNaN.toString = function () {\n      return _isNaN.toString();\n    };\n    return isNaN;\n  }(function (obj) {\n    return isNaN(obj);\n  }),\n  isArray: Array.isArray || function (obj) {\n    return obj.constructor === Array;\n  },\n  isObject: function isObject(obj) {\n    return obj === Object(obj);\n  },\n  isNumber: function isNumber(obj) {\n    return obj === obj + 0;\n  },\n  isString: function isString(obj) {\n    return obj === obj + '';\n  },\n  isBoolean: function isBoolean(obj) {\n    return obj === false || obj === true;\n  },\n  isFunction: function isFunction(obj) {\n    return obj instanceof Function;\n  }\n};\n\nvar INTERPRETATIONS = [\n{\n  litmus: Common.isString,\n  conversions: {\n    THREE_CHAR_HEX: {\n      read: function read(original) {\n        var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'HEX',\n          hex: parseInt('0x' + test[1].toString() + test[1].toString() + test[2].toString() + test[2].toString() + test[3].toString() + test[3].toString(), 0)\n        };\n      },\n      write: colorToString\n    },\n    SIX_CHAR_HEX: {\n      read: function read(original) {\n        var test = original.match(/^#([A-F0-9]{6})$/i);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'HEX',\n          hex: parseInt('0x' + test[1].toString(), 0)\n        };\n      },\n      write: colorToString\n    },\n    CSS_RGB: {\n      read: function read(original) {\n        var test = original.match(/^rgb\\(\\s*(\\S+)\\s*,\\s*(\\S+)\\s*,\\s*(\\S+)\\s*\\)/);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'RGB',\n          r: parseFloat(test[1]),\n          g: parseFloat(test[2]),\n          b: parseFloat(test[3])\n        };\n      },\n      write: colorToString\n    },\n    CSS_RGBA: {\n      read: function read(original) {\n        var test = original.match(/^rgba\\(\\s*(\\S+)\\s*,\\s*(\\S+)\\s*,\\s*(\\S+)\\s*,\\s*(\\S+)\\s*\\)/);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'RGB',\n          r: parseFloat(test[1]),\n          g: parseFloat(test[2]),\n          b: parseFloat(test[3]),\n          a: parseFloat(test[4])\n        };\n      },\n      write: colorToString\n    }\n  }\n},\n{\n  litmus: Common.isNumber,\n  conversions: {\n    HEX: {\n      read: function read(original) {\n        return {\n          space: 'HEX',\n          hex: original,\n          conversionName: 'HEX'\n        };\n      },\n      write: function write(color) {\n        return color.hex;\n      }\n    }\n  }\n},\n{\n  litmus: Common.isArray,\n  conversions: {\n    RGB_ARRAY: {\n      read: function read(original) {\n        if (original.length !== 3) {\n          return false;\n        }\n        return {\n          space: 'RGB',\n          r: original[0],\n          g: original[1],\n          b: original[2]\n        };\n      },\n      write: function write(color) {\n        return [color.r, color.g, color.b];\n      }\n    },\n    RGBA_ARRAY: {\n      read: function read(original) {\n        if (original.length !== 4) return false;\n        return {\n          space: 'RGB',\n          r: original[0],\n          g: original[1],\n          b: original[2],\n          a: original[3]\n        };\n      },\n      write: function write(color) {\n        return [color.r, color.g, color.b, color.a];\n      }\n    }\n  }\n},\n{\n  litmus: Common.isObject,\n  conversions: {\n    RGBA_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b) && Common.isNumber(original.a)) {\n          return {\n            space: 'RGB',\n            r: original.r,\n            g: original.g,\n            b: original.b,\n            a: original.a\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          r: color.r,\n          g: color.g,\n          b: color.b,\n          a: color.a\n        };\n      }\n    },\n    RGB_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b)) {\n          return {\n            space: 'RGB',\n            r: original.r,\n            g: original.g,\n            b: original.b\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          r: color.r,\n          g: color.g,\n          b: color.b\n        };\n      }\n    },\n    HSVA_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v) && Common.isNumber(original.a)) {\n          return {\n            space: 'HSV',\n            h: original.h,\n            s: original.s,\n            v: original.v,\n            a: original.a\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          h: color.h,\n          s: color.s,\n          v: color.v,\n          a: color.a\n        };\n      }\n    },\n    HSV_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v)) {\n          return {\n            space: 'HSV',\n            h: original.h,\n            s: original.s,\n            v: original.v\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          h: color.h,\n          s: color.s,\n          v: color.v\n        };\n      }\n    }\n  }\n}];\nvar result = void 0;\nvar toReturn = void 0;\nvar interpret = function interpret() {\n  toReturn = false;\n  var original = arguments.length > 1 ? Common.toArray(arguments) : arguments[0];\n  Common.each(INTERPRETATIONS, function (family) {\n    if (family.litmus(original)) {\n      Common.each(family.conversions, function (conversion, conversionName) {\n        result = conversion.read(original);\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return Common.BREAK;\n        }\n      });\n      return Common.BREAK;\n    }\n  });\n  return toReturn;\n};\n\nvar tmpComponent = void 0;\nvar ColorMath = {\n  hsv_to_rgb: function hsv_to_rgb(h, s, v) {\n    var hi = Math.floor(h / 60) % 6;\n    var f = h / 60 - Math.floor(h / 60);\n    var p = v * (1.0 - s);\n    var q = v * (1.0 - f * s);\n    var t = v * (1.0 - (1.0 - f) * s);\n    var c = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]][hi];\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n  rgb_to_hsv: function rgb_to_hsv(r, g, b) {\n    var min = Math.min(r, g, b);\n    var max = Math.max(r, g, b);\n    var delta = max - min;\n    var h = void 0;\n    var s = void 0;\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n  rgb_to_hex: function rgb_to_hex(r, g, b) {\n    var hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n  component_from_hex: function component_from_hex(hex, componentIndex) {\n    return hex >> componentIndex * 8 & 0xFF;\n  },\n  hex_with_component: function hex_with_component(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | hex & ~(0xFF << tmpComponent);\n  }\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar Color = function () {\n  function Color() {\n    classCallCheck(this, Color);\n    this.__state = interpret.apply(this, arguments);\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n    this.__state.a = this.__state.a || 1;\n  }\n  createClass(Color, [{\n    key: 'toString',\n    value: function toString() {\n      return colorToString(this);\n    }\n  }, {\n    key: 'toHexString',\n    value: function toHexString() {\n      return colorToString(this, true);\n    }\n  }, {\n    key: 'toOriginal',\n    value: function toOriginal() {\n      return this.__state.conversion.write(this);\n    }\n  }]);\n  return Color;\n}();\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function get$$1() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n      Color.recalculateRGB(this, component, componentHexIndex);\n      return this.__state[component];\n    },\n    set: function set$$1(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n      this.__state[component] = v;\n    }\n  });\n}\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function get$$1() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n      Color.recalculateHSV(this);\n      return this.__state[component];\n    },\n    set: function set$$1(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n      this.__state[component] = v;\n    }\n  });\n}\nColor.recalculateRGB = function (color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = ColorMath.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    Common.extend(color.__state, ColorMath.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\nColor.recalculateHSV = function (color) {\n  var result = ColorMath.rgb_to_hsv(color.r, color.g, color.b);\n  Common.extend(color.__state, {\n    s: result.s,\n    v: result.v\n  });\n  if (!Common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (Common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\nObject.defineProperty(Color.prototype, 'a', {\n  get: function get$$1() {\n    return this.__state.a;\n  },\n  set: function set$$1(v) {\n    this.__state.a = v;\n  }\n});\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function get$$1() {\n    if (this.__state.space !== 'HEX') {\n      this.__state.hex = ColorMath.rgb_to_hex(this.r, this.g, this.b);\n      this.__state.space = 'HEX';\n    }\n    return this.__state.hex;\n  },\n  set: function set$$1(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nvar Controller = function () {\n  function Controller(object, property) {\n    classCallCheck(this, Controller);\n    this.initialValue = object[property];\n    this.domElement = document.createElement('div');\n    this.object = object;\n    this.property = property;\n    this.__onChange = undefined;\n    this.__onFinishChange = undefined;\n  }\n  createClass(Controller, [{\n    key: 'onChange',\n    value: function onChange(fnc) {\n      this.__onChange = fnc;\n      return this;\n    }\n  }, {\n    key: 'onFinishChange',\n    value: function onFinishChange(fnc) {\n      this.__onFinishChange = fnc;\n      return this;\n    }\n  }, {\n    key: 'setValue',\n    value: function setValue(newValue) {\n      this.object[this.property] = newValue;\n      if (this.__onChange) {\n        this.__onChange.call(this, newValue);\n      }\n      this.updateDisplay();\n      return this;\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue() {\n      return this.object[this.property];\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      return this;\n    }\n  }, {\n    key: 'isModified',\n    value: function isModified() {\n      return this.initialValue !== this.getValue();\n    }\n  }]);\n  return Controller;\n}();\n\nvar EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\nvar EVENT_MAP_INV = {};\nCommon.each(EVENT_MAP, function (v, k) {\n  Common.each(v, function (e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\nfunction cssValueToPixels(val) {\n  if (val === '0' || Common.isUndefined(val)) {\n    return 0;\n  }\n  var match = val.match(CSS_VALUE_PIXELS);\n  if (!Common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n  return 0;\n}\nvar dom = {\n  makeSelectable: function makeSelectable(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n    elem.onselectstart = selectable ? function () {\n      return false;\n    } : function () {};\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n  makeFullscreen: function makeFullscreen(elem, hor, vert) {\n    var vertical = vert;\n    var horizontal = hor;\n    if (Common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n    if (Common.isUndefined(vertical)) {\n      vertical = true;\n    }\n    elem.style.position = 'absolute';\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n  fakeEvent: function fakeEvent(elem, eventType, pars, aux) {\n    var params = pars || {};\n    var className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    var evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          var clientX = params.x || params.clientX || 0;\n          var clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\n          0,\n          clientX,\n          clientY,\n          false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          var init = evt.initKeyboardEvent || evt.initKeyEvent;\n          Common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    Common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n  bind: function bind(elem, event, func, newBool) {\n    var bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n  unbind: function unbind(elem, event, func, newBool) {\n    var bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n  addClass: function addClass(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      var classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n  removeClass: function removeClass(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        var classes = elem.className.split(/ +/);\n        var index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n  hasClass: function hasClass(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n  getWidth: function getWidth(elem) {\n    var style = getComputedStyle(elem);\n    return cssValueToPixels(style['border-left-width']) + cssValueToPixels(style['border-right-width']) + cssValueToPixels(style['padding-left']) + cssValueToPixels(style['padding-right']) + cssValueToPixels(style.width);\n  },\n  getHeight: function getHeight(elem) {\n    var style = getComputedStyle(elem);\n    return cssValueToPixels(style['border-top-width']) + cssValueToPixels(style['border-bottom-width']) + cssValueToPixels(style['padding-top']) + cssValueToPixels(style['padding-bottom']) + cssValueToPixels(style.height);\n  },\n  getOffset: function getOffset(el) {\n    var elem = el;\n    var offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n  isActive: function isActive(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n};\n\nvar BooleanController = function (_Controller) {\n  inherits(BooleanController, _Controller);\n  function BooleanController(object, property) {\n    classCallCheck(this, BooleanController);\n    var _this2 = possibleConstructorReturn(this, (BooleanController.__proto__ || Object.getPrototypeOf(BooleanController)).call(this, object, property));\n    var _this = _this2;\n    _this2.__prev = _this2.getValue();\n    _this2.__checkbox = document.createElement('input');\n    _this2.__checkbox.setAttribute('type', 'checkbox');\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n    dom.bind(_this2.__checkbox, 'change', onChange, false);\n    _this2.domElement.appendChild(_this2.__checkbox);\n    _this2.updateDisplay();\n    return _this2;\n  }\n  createClass(BooleanController, [{\n    key: 'setValue',\n    value: function setValue(v) {\n      var toReturn = get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'setValue', this).call(this, v);\n      if (this.__onFinishChange) {\n        this.__onFinishChange.call(this, this.getValue());\n      }\n      this.__prev = this.getValue();\n      return toReturn;\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      if (this.getValue() === true) {\n        this.__checkbox.setAttribute('checked', 'checked');\n        this.__checkbox.checked = true;\n        this.__prev = true;\n      } else {\n        this.__checkbox.checked = false;\n        this.__prev = false;\n      }\n      return get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return BooleanController;\n}(Controller);\n\nvar OptionController = function (_Controller) {\n  inherits(OptionController, _Controller);\n  function OptionController(object, property, opts) {\n    classCallCheck(this, OptionController);\n    var _this2 = possibleConstructorReturn(this, (OptionController.__proto__ || Object.getPrototypeOf(OptionController)).call(this, object, property));\n    var options = opts;\n    var _this = _this2;\n    _this2.__select = document.createElement('select');\n    if (Common.isArray(options)) {\n      var map = {};\n      Common.each(options, function (element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n    Common.each(options, function (value, key) {\n      var opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n    _this2.updateDisplay();\n    dom.bind(_this2.__select, 'change', function () {\n      var desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n    _this2.domElement.appendChild(_this2.__select);\n    return _this2;\n  }\n  createClass(OptionController, [{\n    key: 'setValue',\n    value: function setValue(v) {\n      var toReturn = get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'setValue', this).call(this, v);\n      if (this.__onFinishChange) {\n        this.__onFinishChange.call(this, this.getValue());\n      }\n      return toReturn;\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      if (dom.isActive(this.__select)) return this;\n      this.__select.value = this.getValue();\n      return get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return OptionController;\n}(Controller);\n\nvar StringController = function (_Controller) {\n  inherits(StringController, _Controller);\n  function StringController(object, property) {\n    classCallCheck(this, StringController);\n    var _this2 = possibleConstructorReturn(this, (StringController.__proto__ || Object.getPrototypeOf(StringController)).call(this, object, property));\n    var _this = _this2;\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    _this2.__input = document.createElement('input');\n    _this2.__input.setAttribute('type', 'text');\n    dom.bind(_this2.__input, 'keyup', onChange);\n    dom.bind(_this2.__input, 'change', onChange);\n    dom.bind(_this2.__input, 'blur', onBlur);\n    dom.bind(_this2.__input, 'keydown', function (e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n    _this2.updateDisplay();\n    _this2.domElement.appendChild(_this2.__input);\n    return _this2;\n  }\n  createClass(StringController, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      if (!dom.isActive(this.__input)) {\n        this.__input.value = this.getValue();\n      }\n      return get(StringController.prototype.__proto__ || Object.getPrototypeOf(StringController.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return StringController;\n}(Controller);\n\nfunction numDecimals(x) {\n  var _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n  return 0;\n}\nvar NumberController = function (_Controller) {\n  inherits(NumberController, _Controller);\n  function NumberController(object, property, params) {\n    classCallCheck(this, NumberController);\n    var _this = possibleConstructorReturn(this, (NumberController.__proto__ || Object.getPrototypeOf(NumberController)).call(this, object, property));\n    var _params = params || {};\n    _this.__min = _params.min;\n    _this.__max = _params.max;\n    _this.__step = _params.step;\n    if (Common.isUndefined(_this.__step)) {\n      if (_this.initialValue === 0) {\n        _this.__impliedStep = 1;\n      } else {\n        _this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(_this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      _this.__impliedStep = _this.__step;\n    }\n    _this.__precision = numDecimals(_this.__impliedStep);\n    return _this;\n  }\n  createClass(NumberController, [{\n    key: 'setValue',\n    value: function setValue(v) {\n      var _v = v;\n      if (this.__min !== undefined && _v < this.__min) {\n        _v = this.__min;\n      } else if (this.__max !== undefined && _v > this.__max) {\n        _v = this.__max;\n      }\n      if (this.__step !== undefined && _v % this.__step !== 0) {\n        _v = Math.round(_v / this.__step) * this.__step;\n      }\n      return get(NumberController.prototype.__proto__ || Object.getPrototypeOf(NumberController.prototype), 'setValue', this).call(this, _v);\n    }\n  }, {\n    key: 'min',\n    value: function min(minValue) {\n      this.__min = minValue;\n      return this;\n    }\n  }, {\n    key: 'max',\n    value: function max(maxValue) {\n      this.__max = maxValue;\n      return this;\n    }\n  }, {\n    key: 'step',\n    value: function step(stepValue) {\n      this.__step = stepValue;\n      this.__impliedStep = stepValue;\n      this.__precision = numDecimals(stepValue);\n      return this;\n    }\n  }]);\n  return NumberController;\n}(Controller);\n\nfunction roundToDecimal(value, decimals) {\n  var tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\nvar NumberControllerBox = function (_NumberController) {\n  inherits(NumberControllerBox, _NumberController);\n  function NumberControllerBox(object, property, params) {\n    classCallCheck(this, NumberControllerBox);\n    var _this2 = possibleConstructorReturn(this, (NumberControllerBox.__proto__ || Object.getPrototypeOf(NumberControllerBox)).call(this, object, property, params));\n    _this2.__truncationSuspended = false;\n    var _this = _this2;\n    var prevY = void 0;\n    function onChange() {\n      var attempted = parseFloat(_this.__input.value);\n      if (!Common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    function onBlur() {\n      onFinish();\n    }\n    function onMouseDrag(e) {\n      var diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n      prevY = e.clientY;\n    }\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n    _this2.__input = document.createElement('input');\n    _this2.__input.setAttribute('type', 'text');\n    dom.bind(_this2.__input, 'change', onChange);\n    dom.bind(_this2.__input, 'blur', onBlur);\n    dom.bind(_this2.__input, 'mousedown', onMouseDown);\n    dom.bind(_this2.__input, 'keydown', function (e) {\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n    _this2.updateDisplay();\n    _this2.domElement.appendChild(_this2.__input);\n    return _this2;\n  }\n  createClass(NumberControllerBox, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n      return get(NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf(NumberControllerBox.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return NumberControllerBox;\n}(NumberController);\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\nvar NumberControllerSlider = function (_NumberController) {\n  inherits(NumberControllerSlider, _NumberController);\n  function NumberControllerSlider(object, property, min, max, step) {\n    classCallCheck(this, NumberControllerSlider);\n    var _this2 = possibleConstructorReturn(this, (NumberControllerSlider.__proto__ || Object.getPrototypeOf(NumberControllerSlider)).call(this, object, property, { min: min, max: max, step: step }));\n    var _this = _this2;\n    _this2.__background = document.createElement('div');\n    _this2.__foreground = document.createElement('div');\n    dom.bind(_this2.__background, 'mousedown', onMouseDown);\n    dom.bind(_this2.__background, 'touchstart', onTouchStart);\n    dom.addClass(_this2.__background, 'slider');\n    dom.addClass(_this2.__foreground, 'slider-fg');\n    function onMouseDown(e) {\n      document.activeElement.blur();\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      onMouseDrag(e);\n    }\n    function onMouseDrag(e) {\n      e.preventDefault();\n      var bgRect = _this.__background.getBoundingClientRect();\n      _this.setValue(map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));\n      return false;\n    }\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) {\n        return;\n      }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n    function onTouchMove(e) {\n      var clientX = e.touches[0].clientX;\n      var bgRect = _this.__background.getBoundingClientRect();\n      _this.setValue(map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));\n    }\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    _this2.updateDisplay();\n    _this2.__background.appendChild(_this2.__foreground);\n    _this2.domElement.appendChild(_this2.__background);\n    return _this2;\n  }\n  createClass(NumberControllerSlider, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      var pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n      this.__foreground.style.width = pct * 100 + '%';\n      return get(NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf(NumberControllerSlider.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return NumberControllerSlider;\n}(NumberController);\n\nvar FunctionController = function (_Controller) {\n  inherits(FunctionController, _Controller);\n  function FunctionController(object, property, text) {\n    classCallCheck(this, FunctionController);\n    var _this2 = possibleConstructorReturn(this, (FunctionController.__proto__ || Object.getPrototypeOf(FunctionController)).call(this, object, property));\n    var _this = _this2;\n    _this2.__button = document.createElement('div');\n    _this2.__button.innerHTML = text === undefined ? 'Fire' : text;\n    dom.bind(_this2.__button, 'click', function (e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n    dom.addClass(_this2.__button, 'button');\n    _this2.domElement.appendChild(_this2.__button);\n    return _this2;\n  }\n  createClass(FunctionController, [{\n    key: 'fire',\n    value: function fire() {\n      if (this.__onChange) {\n        this.__onChange.call(this);\n      }\n      this.getValue().call(this.object);\n      if (this.__onFinishChange) {\n        this.__onFinishChange.call(this, this.getValue());\n      }\n    }\n  }]);\n  return FunctionController;\n}(Controller);\n\nvar ColorController = function (_Controller) {\n  inherits(ColorController, _Controller);\n  function ColorController(object, property) {\n    classCallCheck(this, ColorController);\n    var _this2 = possibleConstructorReturn(this, (ColorController.__proto__ || Object.getPrototypeOf(ColorController)).call(this, object, property));\n    _this2.__color = new Color(_this2.getValue());\n    _this2.__temp = new Color(0);\n    var _this = _this2;\n    _this2.domElement = document.createElement('div');\n    dom.makeSelectable(_this2.domElement, false);\n    _this2.__selector = document.createElement('div');\n    _this2.__selector.className = 'selector';\n    _this2.__saturation_field = document.createElement('div');\n    _this2.__saturation_field.className = 'saturation-field';\n    _this2.__field_knob = document.createElement('div');\n    _this2.__field_knob.className = 'field-knob';\n    _this2.__field_knob_border = '2px solid ';\n    _this2.__hue_knob = document.createElement('div');\n    _this2.__hue_knob.className = 'hue-knob';\n    _this2.__hue_field = document.createElement('div');\n    _this2.__hue_field.className = 'hue-field';\n    _this2.__input = document.createElement('input');\n    _this2.__input.type = 'text';\n    _this2.__input_textShadow = '0 1px 1px ';\n    dom.bind(_this2.__input, 'keydown', function (e) {\n      if (e.keyCode === 13) {\n        onBlur.call(this);\n      }\n    });\n    dom.bind(_this2.__input, 'blur', onBlur);\n    dom.bind(_this2.__selector, 'mousedown', function () {\n      dom.addClass(this, 'drag').bind(window, 'mouseup', function () {\n        dom.removeClass(_this.__selector, 'drag');\n      });\n    });\n    dom.bind(_this2.__selector, 'touchstart', function () {\n      dom.addClass(this, 'drag').bind(window, 'touchend', function () {\n        dom.removeClass(_this.__selector, 'drag');\n      });\n    });\n    var valueField = document.createElement('div');\n    Common.extend(_this2.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n    Common.extend(_this2.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: _this2.__field_knob_border + (_this2.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n    Common.extend(_this2.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n    Common.extend(_this2.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n    Common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n    Common.extend(_this2.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n    hueGradient(_this2.__hue_field);\n    Common.extend(_this2.__input.style, {\n      outline: 'none',\n      textAlign: 'center',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n    dom.bind(_this2.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(_this2.__saturation_field, 'touchstart', fieldDown);\n    dom.bind(_this2.__field_knob, 'mousedown', fieldDown);\n    dom.bind(_this2.__field_knob, 'touchstart', fieldDown);\n    dom.bind(_this2.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(_this2.__hue_field, 'touchstart', fieldDownH);\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n    function onBlur() {\n      var i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n    _this2.__saturation_field.appendChild(valueField);\n    _this2.__selector.appendChild(_this2.__field_knob);\n    _this2.__selector.appendChild(_this2.__saturation_field);\n    _this2.__selector.appendChild(_this2.__hue_field);\n    _this2.__hue_field.appendChild(_this2.__hue_knob);\n    _this2.domElement.appendChild(_this2.__input);\n    _this2.domElement.appendChild(_this2.__selector);\n    _this2.updateDisplay();\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) {\n        e.preventDefault();\n      }\n      var fieldRect = _this.__saturation_field.getBoundingClientRect();\n      var _ref = e.touches && e.touches[0] || e,\n          clientX = _ref.clientX,\n          clientY = _ref.clientY;\n      var s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      var v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n      _this.__color.v = v;\n      _this.__color.s = s;\n      _this.setValue(_this.__color.toOriginal());\n      return false;\n    }\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) {\n        e.preventDefault();\n      }\n      var fieldRect = _this.__hue_field.getBoundingClientRect();\n      var _ref2 = e.touches && e.touches[0] || e,\n          clientY = _ref2.clientY;\n      var h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n      _this.__color.h = h * 360;\n      _this.setValue(_this.__color.toOriginal());\n      return false;\n    }\n    return _this2;\n  }\n  createClass(ColorController, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      var i = interpret(this.getValue());\n      if (i !== false) {\n        var mismatch = false;\n        Common.each(Color.COMPONENTS, function (component) {\n          if (!Common.isUndefined(i[component]) && !Common.isUndefined(this.__color.__state[component]) && i[component] !== this.__color.__state[component]) {\n            mismatch = true;\n            return {};\n          }\n        }, this);\n        if (mismatch) {\n          Common.extend(this.__color.__state, i);\n        }\n      }\n      Common.extend(this.__temp.__state, this.__color.__state);\n      this.__temp.a = 1;\n      var flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\n      var _flip = 255 - flip;\n      Common.extend(this.__field_knob.style, {\n        marginLeft: 100 * this.__color.s - 7 + 'px',\n        marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n        backgroundColor: this.__temp.toHexString(),\n        border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n      });\n      this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n      this.__temp.s = 1;\n      this.__temp.v = 1;\n      linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n      this.__input.value = this.__color.toString();\n      Common.extend(this.__input.style, {\n        backgroundColor: this.__color.toHexString(),\n        color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n        textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n      });\n    }\n  }]);\n  return ColorController;\n}(Controller);\nvar vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  Common.each(vendors, function (vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nvar css = {\n  load: function load(url, indoc) {\n    var doc = indoc || document;\n    var link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n  inject: function inject(cssContent, indoc) {\n    var doc = indoc || document;\n    var injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    var head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) {\n    }\n  }\n};\n\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\n\nvar ControllerFactory = function ControllerFactory(object, property) {\n  var initialValue = object[property];\n  if (Common.isArray(arguments[2]) || Common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n  if (Common.isNumber(initialValue)) {\n    if (Common.isNumber(arguments[2]) && Common.isNumber(arguments[3])) {\n      if (Common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property, arguments[2], arguments[3], arguments[4]);\n      }\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n    if (Common.isNumber(arguments[4])) {\n      return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n  if (Common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n  if (Common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n  if (Common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n  return null;\n};\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\n\nvar CenteredDiv = function () {\n  function CenteredDiv() {\n    classCallCheck(this, CenteredDiv);\n    this.backgroundElement = document.createElement('div');\n    Common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n    this.domElement = document.createElement('div');\n    Common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n    var _this = this;\n    dom.bind(this.backgroundElement, 'click', function () {\n      _this.hide();\n    });\n  }\n  createClass(CenteredDiv, [{\n    key: 'show',\n    value: function show() {\n      var _this = this;\n      this.backgroundElement.style.display = 'block';\n      this.domElement.style.display = 'block';\n      this.domElement.style.opacity = 0;\n      this.domElement.style.webkitTransform = 'scale(1.1)';\n      this.layout();\n      Common.defer(function () {\n        _this.backgroundElement.style.opacity = 1;\n        _this.domElement.style.opacity = 1;\n        _this.domElement.style.webkitTransform = 'scale(1)';\n      });\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      var _this = this;\n      var hide = function hide() {\n        _this.domElement.style.display = 'none';\n        _this.backgroundElement.style.display = 'none';\n        dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n        dom.unbind(_this.domElement, 'transitionend', hide);\n        dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n      };\n      dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n      dom.bind(this.domElement, 'transitionend', hide);\n      dom.bind(this.domElement, 'oTransitionEnd', hide);\n      this.backgroundElement.style.opacity = 0;\n      this.domElement.style.opacity = 0;\n      this.domElement.style.webkitTransform = 'scale(1.1)';\n    }\n  }, {\n    key: 'layout',\n    value: function layout() {\n      this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n      this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n    }\n  }]);\n  return CenteredDiv;\n}();\n\nvar styleSheet = ___$insertStyle(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\");\n\ncss.inject(styleSheet);\nvar CSS_NAMESPACE = 'dg';\nvar HIDE_KEY_CODE = 72;\nvar CLOSE_BUTTON_HEIGHT = 20;\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\nvar SUPPORTS_LOCAL_STORAGE = function () {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}();\nvar SAVE_DIALOGUE = void 0;\nvar autoPlaceVirgin = true;\nvar autoPlaceContainer = void 0;\nvar hide = false;\nvar hideableGuis = [];\nvar GUI = function GUI(pars) {\n  var _this = this;\n  var params = pars || {};\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n  this.__folders = {};\n  this.__controllers = [];\n  this.__rememberedObjects = [];\n  this.__rememberedObjectIndecesToControllers = [];\n  this.__listening = [];\n  params = Common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n  params = Common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n  if (!Common.isUndefined(params.load)) {\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n  if (Common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n  params.resizable = Common.isUndefined(params.parent) && params.resizable;\n  if (params.autoPlace && Common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n  var useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n  var saveToLocalStorage = void 0;\n  var titleRow = void 0;\n  Object.defineProperties(this,\n  {\n    parent: {\n      get: function get$$1() {\n        return params.parent;\n      }\n    },\n    scrollable: {\n      get: function get$$1() {\n        return params.scrollable;\n      }\n    },\n    autoPlace: {\n      get: function get$$1() {\n        return params.autoPlace;\n      }\n    },\n    closeOnTop: {\n      get: function get$$1() {\n        return params.closeOnTop;\n      }\n    },\n    preset: {\n      get: function get$$1() {\n        if (_this.parent) {\n          return _this.getRoot().preset;\n        }\n        return params.load.preset;\n      },\n      set: function set$$1(v) {\n        if (_this.parent) {\n          _this.getRoot().preset = v;\n        } else {\n          params.load.preset = v;\n        }\n        setPresetSelectIndex(this);\n        _this.revert();\n      }\n    },\n    width: {\n      get: function get$$1() {\n        return params.width;\n      },\n      set: function set$$1(v) {\n        params.width = v;\n        setWidth(_this, v);\n      }\n    },\n    name: {\n      get: function get$$1() {\n        return params.name;\n      },\n      set: function set$$1(v) {\n        params.name = v;\n        if (titleRow) {\n          titleRow.innerHTML = params.name;\n        }\n      }\n    },\n    closed: {\n      get: function get$$1() {\n        return params.closed;\n      },\n      set: function set$$1(v) {\n        params.closed = v;\n        if (params.closed) {\n          dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n        } else {\n          dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n        }\n        this.onResize();\n        if (_this.__closeButton) {\n          _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n        }\n      }\n    },\n    load: {\n      get: function get$$1() {\n        return params.load;\n      }\n    },\n    useLocalStorage: {\n      get: function get$$1() {\n        return useLocalStorage;\n      },\n      set: function set$$1(bool) {\n        if (SUPPORTS_LOCAL_STORAGE) {\n          useLocalStorage = bool;\n          if (bool) {\n            dom.bind(window, 'unload', saveToLocalStorage);\n          } else {\n            dom.unbind(window, 'unload', saveToLocalStorage);\n          }\n          localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n        }\n      }\n    }\n  });\n  if (Common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n        var savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n    dom.bind(this.__closeButton, 'click', function () {\n      _this.closed = !_this.closed;\n    });\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n    var titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n    titleRow = addRow(_this, titleRowName);\n    var onClickTitle = function onClickTitle(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n  if (params.autoPlace) {\n    if (Common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n      autoPlaceContainer.appendChild(this.domElement);\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n  this.__resizeHandler = function () {\n    _this.onResizeDebounced();\n  };\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n  saveToLocalStorage = function saveToLocalStorage() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n  function resetWidth() {\n    var root = _this.getRoot();\n    root.width += 1;\n    Common.defer(function () {\n      root.width -= 1;\n    });\n  }\n  if (!params.parent) {\n    resetWidth();\n  }\n};\nGUI.toggleHide = function () {\n  hide = !hide;\n  Common.each(hideableGuis, function (gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\nGUI._keydownHandler = function (e) {\n  if (document.activeElement.type !== 'text' && (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\nCommon.extend(GUI.prototype,\n{\n  add: function add(object, property) {\n    return _add(this, object, property, {\n      factoryArgs: Array.prototype.slice.call(arguments, 2)\n    });\n  },\n  addColor: function addColor(object, property) {\n    return _add(this, object, property, {\n      color: true\n    });\n  },\n  remove: function remove(controller) {\n    this.__ul.removeChild(controller.__li);\n    this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n    var _this = this;\n    Common.defer(function () {\n      _this.onResize();\n    });\n  },\n  destroy: function destroy() {\n    if (this.parent) {\n      throw new Error('Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.');\n    }\n    if (this.autoPlace) {\n      autoPlaceContainer.removeChild(this.domElement);\n    }\n    var _this = this;\n    Common.each(this.__folders, function (subfolder) {\n      _this.removeFolder(subfolder);\n    });\n    dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n    removeListeners(this);\n  },\n  addFolder: function addFolder(name) {\n    if (this.__folders[name] !== undefined) {\n      throw new Error('You already have a folder in this GUI by the' + ' name \"' + name + '\"');\n    }\n    var newGuiParams = { name: name, parent: this };\n    newGuiParams.autoPlace = this.autoPlace;\n    if (this.load &&\n    this.load.folders &&\n    this.load.folders[name]) {\n      newGuiParams.closed = this.load.folders[name].closed;\n      newGuiParams.load = this.load.folders[name];\n    }\n    var gui = new GUI(newGuiParams);\n    this.__folders[name] = gui;\n    var li = addRow(this, gui.domElement);\n    dom.addClass(li, 'folder');\n    return gui;\n  },\n  removeFolder: function removeFolder(folder) {\n    this.__ul.removeChild(folder.domElement.parentElement);\n    delete this.__folders[folder.name];\n    if (this.load &&\n    this.load.folders &&\n    this.load.folders[folder.name]) {\n      delete this.load.folders[folder.name];\n    }\n    removeListeners(folder);\n    var _this = this;\n    Common.each(folder.__folders, function (subfolder) {\n      folder.removeFolder(subfolder);\n    });\n    Common.defer(function () {\n      _this.onResize();\n    });\n  },\n  open: function open() {\n    this.closed = false;\n  },\n  close: function close() {\n    this.closed = true;\n  },\n  hide: function hide() {\n    this.domElement.style.display = 'none';\n  },\n  show: function show() {\n    this.domElement.style.display = '';\n  },\n  onResize: function onResize() {\n    var root = this.getRoot();\n    if (root.scrollable) {\n      var top = dom.getOffset(root.__ul).top;\n      var h = 0;\n      Common.each(root.__ul.childNodes, function (node) {\n        if (!(root.autoPlace && node === root.__save_row)) {\n          h += dom.getHeight(node);\n        }\n      });\n      if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n        dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n        root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n      } else {\n        dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n        root.__ul.style.height = 'auto';\n      }\n    }\n    if (root.__resize_handle) {\n      Common.defer(function () {\n        root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n      });\n    }\n    if (root.__closeButton) {\n      root.__closeButton.style.width = root.width + 'px';\n    }\n  },\n  onResizeDebounced: Common.debounce(function () {\n    this.onResize();\n  }, 50),\n  remember: function remember() {\n    if (Common.isUndefined(SAVE_DIALOGUE)) {\n      SAVE_DIALOGUE = new CenteredDiv();\n      SAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\n    }\n    if (this.parent) {\n      throw new Error('You can only call remember on a top level GUI.');\n    }\n    var _this = this;\n    Common.each(Array.prototype.slice.call(arguments), function (object) {\n      if (_this.__rememberedObjects.length === 0) {\n        addSaveMenu(_this);\n      }\n      if (_this.__rememberedObjects.indexOf(object) === -1) {\n        _this.__rememberedObjects.push(object);\n      }\n    });\n    if (this.autoPlace) {\n      setWidth(this, this.width);\n    }\n  },\n  getRoot: function getRoot() {\n    var gui = this;\n    while (gui.parent) {\n      gui = gui.parent;\n    }\n    return gui;\n  },\n  getSaveObject: function getSaveObject() {\n    var toReturn = this.load;\n    toReturn.closed = this.closed;\n    if (this.__rememberedObjects.length > 0) {\n      toReturn.preset = this.preset;\n      if (!toReturn.remembered) {\n        toReturn.remembered = {};\n      }\n      toReturn.remembered[this.preset] = getCurrentPreset(this);\n    }\n    toReturn.folders = {};\n    Common.each(this.__folders, function (element, key) {\n      toReturn.folders[key] = element.getSaveObject();\n    });\n    return toReturn;\n  },\n  save: function save() {\n    if (!this.load.remembered) {\n      this.load.remembered = {};\n    }\n    this.load.remembered[this.preset] = getCurrentPreset(this);\n    markPresetModified(this, false);\n    this.saveToLocalStorageIfPossible();\n  },\n  saveAs: function saveAs(presetName) {\n    if (!this.load.remembered) {\n      this.load.remembered = {};\n      this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n    }\n    this.load.remembered[presetName] = getCurrentPreset(this);\n    this.preset = presetName;\n    addPresetOption(this, presetName, true);\n    this.saveToLocalStorageIfPossible();\n  },\n  revert: function revert(gui) {\n    Common.each(this.__controllers, function (controller) {\n      if (!this.getRoot().load.remembered) {\n        controller.setValue(controller.initialValue);\n      } else {\n        recallSavedValue(gui || this.getRoot(), controller);\n      }\n      if (controller.__onFinishChange) {\n        controller.__onFinishChange.call(controller, controller.getValue());\n      }\n    }, this);\n    Common.each(this.__folders, function (folder) {\n      folder.revert(folder);\n    });\n    if (!gui) {\n      markPresetModified(this.getRoot(), false);\n    }\n  },\n  listen: function listen(controller) {\n    var init = this.__listening.length === 0;\n    this.__listening.push(controller);\n    if (init) {\n      updateDisplays(this.__listening);\n    }\n  },\n  updateDisplay: function updateDisplay() {\n    Common.each(this.__controllers, function (controller) {\n      controller.updateDisplay();\n    });\n    Common.each(this.__folders, function (folder) {\n      folder.updateDisplay();\n    });\n  }\n});\nfunction addRow(gui, newDom, liBefore) {\n  var li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\nfunction markPresetModified(gui, modified) {\n  var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n  Common.extend(controller, {\n    options: function options(_options) {\n      if (arguments.length > 1) {\n        var nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n        return _add(gui, controller.object, controller.property, {\n          before: nextSibling,\n          factoryArgs: [Common.toArray(arguments)]\n        });\n      }\n      if (Common.isArray(_options) || Common.isObject(_options)) {\n        var _nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n        return _add(gui, controller.object, controller.property, {\n          before: _nextSibling,\n          factoryArgs: [_options]\n        });\n      }\n    },\n    name: function name(_name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = _name;\n      return controller;\n    },\n    listen: function listen() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n    remove: function remove() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n  if (controller instanceof NumberControllerSlider) {\n    var box = new NumberControllerBox(controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step });\n    Common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function (method) {\n      var pc = controller[method];\n      var pb = box[method];\n      controller[method] = box[method] = function () {\n        var args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    var r = function r(returned) {\n      if (Common.isNumber(controller.__min) && Common.isNumber(controller.__max)) {\n        var oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        var wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n        controller.remove();\n        var newController = _add(gui, controller.object, controller.property, {\n          before: controller.__li.nextElementSibling,\n          factoryArgs: [controller.__min, controller.__max, controller.__step]\n        });\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n        return newController;\n      }\n      return returned;\n    };\n    controller.min = Common.compose(r, controller.min);\n    controller.max = Common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function () {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n    dom.bind(controller.__checkbox, 'click', function (e) {\n      e.stopPropagation();\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function () {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n    dom.bind(li, 'mouseover', function () {\n      dom.addClass(controller.__button, 'hover');\n    });\n    dom.bind(li, 'mouseout', function () {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = Common.compose(function (val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n    controller.updateDisplay();\n  }\n  controller.setValue = Common.compose(function (val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n    return val;\n  }, controller.setValue);\n}\nfunction recallSavedValue(gui, controller) {\n  var root = gui.getRoot();\n  var matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n  if (matchedIndex !== -1) {\n    var controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;\n    }\n    controllerMap[controller.property] = controller;\n    if (root.load && root.load.remembered) {\n      var presetMap = root.load.remembered;\n      var preset = void 0;\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        return;\n      }\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        var value = preset[matchedIndex][controller.property];\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\nfunction _add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error('Object \"' + object + '\" has no property \"' + property + '\"');\n  }\n  var controller = void 0;\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    var factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n  recallSavedValue(gui, controller);\n  dom.addClass(controller.domElement, 'c');\n  var name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n  var container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n  var li = addRow(gui, container, params.before);\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, _typeof(controller.getValue()));\n  }\n  augmentController(gui, li, controller);\n  gui.__controllers.push(controller);\n  return controller;\n}\nfunction getLocalStorageHash(gui, key) {\n  return document.location.href + '.' + key;\n}\nfunction addPresetOption(gui, name, setSelected) {\n  var opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\nfunction addSaveMenu(gui) {\n  var div = gui.__save_row = document.createElement('li');\n  dom.addClass(gui.domElement, 'has-save');\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n  dom.addClass(div, 'save-row');\n  var gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n  var button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n  var button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n  var button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n  var select = gui.__preset_select = document.createElement('select');\n  if (gui.load && gui.load.remembered) {\n    Common.each(gui.load.remembered, function (value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n  dom.bind(select, 'change', function () {\n    for (var index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n    gui.preset = this.value;\n  });\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n  if (SUPPORTS_LOCAL_STORAGE) {\n    var explain = document.getElementById('dg-local-explain');\n    var localStorageCheckBox = document.getElementById('dg-local-storage');\n    var saveLocally = document.getElementById('dg-save-locally');\n    saveLocally.style.display = 'block';\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n    showHideExplain(gui, explain);\n    dom.bind(localStorageCheckBox, 'change', function () {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n  var newConstructorTextArea = document.getElementById('dg-new-constructor');\n  dom.bind(newConstructorTextArea, 'keydown', function (e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n  dom.bind(gears, 'click', function () {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n  dom.bind(button, 'click', function () {\n    gui.save();\n  });\n  dom.bind(button2, 'click', function () {\n    var presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n  dom.bind(button3, 'click', function () {\n    gui.revert();\n  });\n}\nfunction addResizeHandle(gui) {\n  var pmouseX = void 0;\n  gui.__resize_handle = document.createElement('div');\n  Common.extend(gui.__resize_handle.style, {\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n  });\n  function drag(e) {\n    e.preventDefault();\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n    return false;\n  }\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n  function dragStart(e) {\n    e.preventDefault();\n    pmouseX = e.clientX;\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n    return false;\n  }\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\nfunction getCurrentPreset(gui, useInitialValues) {\n  var toReturn = {};\n  Common.each(gui.__rememberedObjects, function (val, index) {\n    var savedValues = {};\n    var controllerMap = gui.__rememberedObjectIndecesToControllers[index];\n    Common.each(controllerMap, function (controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n    toReturn[index] = savedValues;\n  });\n  return toReturn;\n}\nfunction setPresetSelectIndex(gui) {\n  for (var index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame$1.call(window, function () {\n      updateDisplays(controllerArray);\n    });\n  }\n  Common.each(controllerArray, function (c) {\n    c.updateDisplay();\n  });\n}\n\nvar color = {\n  Color: Color,\n  math: ColorMath,\n  interpret: interpret\n};\nvar controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\nvar dom$1 = { dom: dom };\nvar gui = { GUI: GUI };\nvar GUI$1 = GUI;\nvar index = {\n  color: color,\n  controllers: controllers,\n  dom: dom$1,\n  gui: gui,\n  GUI: GUI$1\n};\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (index);\n//# sourceMappingURL=dat.gui.module.js.map\n\n\n//# sourceURL=webpack://RedGPU/./node_modules/dat.gui/build/dat.gui.module.js?");

/***/ }),

/***/ "./src/light/pointLightCluster/PassLightClusters.wgsl":
/*!************************************************************!*\
  !*** ./src/light/pointLightCluster/PassLightClusters.wgsl ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\n#REDGPU_DEFINE_SYSTEM_POINT_LIGHTS\\r\\n#REDGPU_DEFINE_POINT_LIGHT_CLUSTER\\r\\nstruct ClusterLights  {\\r\\n    offset : u32,\\r\\n    count : u32\\r\\n};\\r\\n\\r\\nconst inducesLength:u32 = REDGPU_DEFINE_MAX_LIGHTS_PER_CLUSTER * REDGPU_DEFINE_TOTAL_TILES;\\r\\nstruct ClusterLightGroup {\\r\\n    offset : atomic<u32>,\\r\\n    lights : array<ClusterLights , REDGPU_DEFINE_TOTAL_TILES>,\\r\\n    indices : array<u32, inducesLength>\\r\\n};\\r\\n@group(1) @binding(0) var<storage,read_write> clusters : Clusters;\\r\\n@group(1) @binding(1) var<storage, read_write> clusterLightGroup : ClusterLightGroup;\\r\\n\\r\\nfn testSphereAABB( light:u32,  tile:u32) -> bool{\\r\\n        var radius:f32 = lightList.lights[light].radius;\\r\\n       var center:vec3<f32>  = (systemUniforms.cameraMatrix *  vec4<f32>(lightList.lights[light].position, 1.0)).xyz;\\r\\n       var  squaredDistance:f32 = sqDistPointAABB(center, tile, clusters.cubeList[tile].minAABB.xyz, clusters.cubeList[tile].maxAABB.xyz);\\r\\n\\r\\n       return squaredDistance <= (radius * radius);\\r\\n   }\\r\\nfn sqDistPointAABB(targetPoint:vec3<f32>, tile:u32,minAABB : vec3<f32>, maxAABB : vec3<f32>) -> f32 {\\r\\n    var sqDist = 0.0;\\r\\n    // const minAABB : vec3<f32> = clusters.cubeList[tileIndex].minAABB;\\r\\n    // const maxAABB : vec3<f32> = clusters.cubeList[tileIndex].maxAABB;\\r\\n    // Wait, does this actually work? Just porting code, but it seems suspect?\\r\\n    clusters.cubeList[tile].maxAABB[3] = f32(tile);\\r\\n    for(var i = 0; i < 3; i = i + 1) {\\r\\n      let v = targetPoint[i];\\r\\n      if(v < minAABB[i]){\\r\\n        sqDist = sqDist + (minAABB[i] - v) * (minAABB[i] - v);\\r\\n      }\\r\\n      if(v > maxAABB[i]){\\r\\n        sqDist = sqDist + (v - maxAABB[i]) * (v - maxAABB[i]);\\r\\n      }\\r\\n    }\\r\\n    return sqDist;\\r\\n}\\r\\n\\r\\n@compute @workgroup_size(REDGPU_DEFINE_WORKGROUP_SIZE_X,REDGPU_DEFINE_WORKGROUP_SIZE_Y, REDGPU_DEFINE_WORKGROUP_SIZE_Z)\\r\\nfn main(@builtin(global_invocation_id) global_id : vec3<u32>) {\\r\\n    let tileIndex = global_id.x +\\r\\n                    global_id.y * tileCount.x +\\r\\n                    global_id.z * tileCount.x * tileCount.y;\\r\\n    var clusterLightCount = 0u;\\r\\n    var cluserPointLightIndices : array<u32, REDGPU_DEFINE_MAX_LIGHTS_PER_CLUSTERu>;\\r\\n    for (var i = 0u; i < u32(lightList.count[0]); i = i + 1u) {\\r\\n        var  radius:f32 = lightList.lights[i].radius;\\r\\n        // PointLights without an explicit radius affect every cluster, but this is a poor way to handle that.\\r\\n        var lightInCluster = radius <= 0.0;\\r\\n//        if (!lightInCluster) {\\r\\n//            let pointLightViewPos = systemUniforms.cameraMatrix * vec4<f32>(lightList.lights[i].position, 1.0);\\r\\n//            let sqDist = sqDistPointAABB(pointLightViewPos.xyz,tileIndex, clusters.cubeList[tileIndex].minAABB.xyz, clusters.cubeList[tileIndex].maxAABB.xyz);\\r\\n//            lightInCluster = sqDist <= (radius * radius);\\r\\n//        }\\r\\n        lightInCluster = testSphereAABB(i,tileIndex);\\r\\n        if (lightInCluster) {\\r\\n            // PointLight affects this cluster. Add it to the list.\\r\\n            cluserPointLightIndices[clusterLightCount] = i;\\r\\n            clusterLightCount = clusterLightCount + 1u;\\r\\n        }\\r\\n        if (clusterLightCount == REDGPU_DEFINE_MAX_LIGHTS_PER_CLUSTERu) {\\r\\n         break;\\r\\n        }\\r\\n    }\\r\\n    var offset = atomicAdd(&clusterLightGroup.offset, clusterLightCount);\\r\\n    for(var i = 0u; i < clusterLightCount; i = i + 1u) {\\r\\n        clusterLightGroup.indices[offset + i] = cluserPointLightIndices[i];\\r\\n    }\\r\\n    clusterLightGroup.lights[tileIndex].offset = offset;\\r\\n    clusterLightGroup.lights[tileIndex].count = clusterLightCount;\\r\\n}\");\n\n//# sourceURL=webpack://RedGPU/./src/light/pointLightCluster/PassLightClusters.wgsl?");

/***/ }),

/***/ "./src/light/pointLightCluster/PassLightClustersBound.wgsl":
/*!*****************************************************************!*\
  !*** ./src/light/pointLightCluster/PassLightClustersBound.wgsl ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\n#REDGPU_DEFINE_POINT_LIGHT_CLUSTER\\r\\n@group(1) @binding(0) var<storage, read_write> clusters : Clusters;\\r\\n\\r\\nfn lineIntersectionToZPlane(a : vec3<f32>, b : vec3<f32>, zDistance : f32) -> vec3<f32> {\\r\\n    let normal = vec3<f32>(0.0, 0.0, 0.5);\\r\\n    let ab = b - a;\\r\\n    let t = (zDistance - dot(normal, a)) / dot(normal, ab);\\r\\n    return a + t * ab;\\r\\n}\\r\\n\\r\\nfn clipToView(clip : vec4<f32>) -> vec4<f32> {\\r\\n    let view = systemUniforms.inverseProjectionMatrix * clip;\\r\\n    return view / vec4<f32>(view.w, view.w, view.w, view.w);\\r\\n}\\r\\n\\r\\nfn screen2View(screen : vec4<f32>) -> vec4<f32> {\\r\\n    let texCoord = screen.xy / systemUniforms.resolution.xy;\\r\\n    let clip = vec4<f32>(vec2<f32>(texCoord.x, 1.0 - texCoord.y) * 2.0 - vec2<f32>(1.0, 1.0), screen.z, screen.w );\\r\\n    return clipToView(clip);\\r\\n}\\r\\n\\r\\nconst eyePos = vec3<f32>(0.0);\\r\\n\\r\\n@compute @workgroup_size(REDGPU_DEFINE_WORKGROUP_SIZE_X,REDGPU_DEFINE_WORKGROUP_SIZE_Y, REDGPU_DEFINE_WORKGROUP_SIZE_Z)\\r\\n\\r\\nfn main(@builtin(global_invocation_id) global_id : vec3<u32>) {\\r\\n    let tileIndex = global_id.x +\\r\\n                    global_id.y * tileCount.x +\\r\\n                    global_id.z * tileCount.x * tileCount.y;\\r\\n    let tileSize = vec2<f32>(\\r\\n             systemUniforms.resolution.x / f32(tileCount.x),\\r\\n             systemUniforms.resolution.y / f32(tileCount.y)\\r\\n         );\\r\\n    let maxPoint_sS = vec4<f32>(vec2<f32>(f32(global_id.x+1u), f32(global_id.y+1u)) * tileSize, -.0, 1.0);\\r\\n    let minPoint_sS = vec4<f32>(vec2<f32>(f32(global_id.x), f32(global_id.y)) * tileSize, -.0, 1.0);\\r\\n    let maxPoint_vS = screen2View(maxPoint_sS).xyz;\\r\\n    let minPoint_vS = screen2View(minPoint_sS).xyz;\\r\\n    let tileNear = -systemUniforms.nearFar.x * pow(systemUniforms.nearFar.y / systemUniforms.nearFar.x, f32(global_id.z)/f32(tileCount.z));\\r\\n    let tileFar = -systemUniforms.nearFar.x * pow(systemUniforms.nearFar.y / systemUniforms.nearFar.x, f32(global_id.z+1u)/f32(tileCount.z));\\r\\n    let minPointNear = lineIntersectionToZPlane(eyePos, minPoint_vS, tileNear);\\r\\n    let minPointFar = lineIntersectionToZPlane(eyePos, minPoint_vS, tileFar);\\r\\n    let maxPointNear = lineIntersectionToZPlane(eyePos, maxPoint_vS, tileNear);\\r\\n    let maxPointFar = lineIntersectionToZPlane(eyePos, maxPoint_vS, tileFar);\\r\\n    clusters.cubeList[tileIndex].minAABB = vec4<f32>(min(min(minPointNear, minPointFar),min(maxPointNear, maxPointFar)),0.0);\\r\\n    clusters.cubeList[tileIndex].maxAABB = vec4<f32>(max(max(minPointNear, minPointFar),max(maxPointNear, maxPointFar)),0.0);\\r\\n}\");\n\n//# sourceURL=webpack://RedGPU/./src/light/pointLightCluster/PassLightClustersBound.wgsl?");

/***/ }),

/***/ "./src/main/render/renderFinal/fragment.wgsl":
/*!***************************************************!*\
  !*** ./src/main/render/renderFinal/fragment.wgsl ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"@group(0) @binding(1) var _Sampler: sampler;\\r\\n@group(0) @binding(2) var _Texture: texture_2d<f32>;\\r\\n@fragment\\r\\nfn main(@location(0) uv: vec2<f32>) -> @location(0) vec4<f32> {\\r\\n  return textureSample(_Texture,_Sampler, uv);\\r\\n}\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/main/render/renderFinal/fragment.wgsl?");

/***/ }),

/***/ "./src/main/render/renderFinal/vertex.wgsl":
/*!*************************************************!*\
  !*** ./src/main/render/renderFinal/vertex.wgsl ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"// define Struct\\r\\nstruct Uniforms {\\r\\n  modelMatrix : mat4x4<f32>,\\r\\n};\\r\\n// define Struct OutData\\r\\nstruct OutData {\\r\\n  @builtin(position) position : vec4<f32>,\\r\\n  @location(0) uv: vec2<f32>,\\r\\n};\\r\\n// define Struct InputData\\r\\nstruct InputData {\\r\\n    @location(0) position : vec4<f32>,\\r\\n    @location(1) uv : vec2<f32>,\\r\\n};\\r\\n// define Uniform binding\\r\\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\\r\\n@vertex\\r\\n\\r\\nfn main(inputData : InputData) -> OutData {\\r\\n  var outData : OutData;\\r\\n  outData.position = uniforms.modelMatrix * vec4<f32>(inputData.position);\\r\\n  outData.uv = inputData.uv;\\r\\n  return outData;\\r\\n}\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/main/render/renderFinal/vertex.wgsl?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/grid/fragment.wgsl":
/*!*******************************************************!*\
  !*** ./src/main/scene/sceneHelper/grid/fragment.wgsl ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\nstruct InputData {\\r\\n    @location(0) vVertexColor : vec4<f32>,\\r\\n};\\r\\n@fragment\\r\\nfn main(inputData:InputData) -> @location(0) vec4<f32> {\\r\\n  return inputData.vVertexColor;\\r\\n}\");\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/grid/fragment.wgsl?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/grid/vertex.wgsl":
/*!*****************************************************!*\
  !*** ./src/main/scene/sceneHelper/grid/vertex.wgsl ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\n#REDGPU_DEFINE_MODEL_UNIFORMS_STRUCT\\r\\n\\r\\nstruct InputData {\\r\\n    @location(0) position : vec3<f32>,\\r\\n    @location(1) vertexColor : vec4<f32>,\\r\\n};\\r\\nstruct OutData {\\r\\n  @builtin(position) position : vec4<f32>,\\r\\n  @location(0) vVertexColor: vec4<f32>,\\r\\n};\\r\\n\\r\\n@vertex\\r\\nfn main(inputData : InputData) -> OutData {\\r\\n    var outData : OutData;\\r\\n    outData.position = systemUniforms.projectionMatrix * systemUniforms.cameraMatrix * modelUniforms.modelMatrix * vec4<f32>(inputData.position, 1.0);\\r\\n    outData.vVertexColor = inputData.vertexColor;\\r\\n    return outData;\\r\\n}\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/grid/vertex.wgsl?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/normalHelper/fragment.wgsl":
/*!***************************************************************!*\
  !*** ./src/main/scene/sceneHelper/normalHelper/fragment.wgsl ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\nstruct InputData {\\r\\n    @location(0) vVertexColor : vec4<f32>,\\r\\n};\\r\\n@fragment\\r\\nfn main(inputData:InputData) -> @location(0) vec4<f32> {\\r\\n  return inputData.vVertexColor;\\r\\n}\");\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/normalHelper/fragment.wgsl?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/normalHelper/vertex.wgsl":
/*!*************************************************************!*\
  !*** ./src/main/scene/sceneHelper/normalHelper/vertex.wgsl ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\n#REDGPU_DEFINE_MODEL_UNIFORMS_STRUCT\\r\\nstruct InputData {\\r\\n    @location(0) position : vec3<f32>,\\r\\n    @location(1) vertexColor : vec4<f32>,\\r\\n};\\r\\nstruct OutData {\\r\\n  @builtin(position) position : vec4<f32>,\\r\\n  @location(0) vVertexColor: vec4<f32>,\\r\\n};\\r\\n\\r\\n@vertex\\r\\nfn main(inputData : InputData) -> OutData {\\r\\n    var outData : OutData;\\r\\n    outData.position = systemUniforms.projectionMatrix * systemUniforms.cameraMatrix * modelUniforms.modelMatrix * vec4<f32>(inputData.position, 1.0);\\r\\n    outData.vVertexColor = inputData.vertexColor;\\r\\n    return outData;\\r\\n}\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/normalHelper/vertex.wgsl?");

/***/ }),

/***/ "./src/material/bitmapMaterial/fragment.wgsl":
/*!***************************************************!*\
  !*** ./src/material/bitmapMaterial/fragment.wgsl ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_FRAGMENT_BASE\\r\\n\\r\\nstruct MaterialUniforms {\\r\\n    alpha : f32,\\r\\n    shininess : f32,\\r\\n    specularPower : f32,\\r\\n    specularColor : vec3<f32>,\\r\\n};\\r\\n\\r\\n@group(2) @binding(0) var<uniform> materialUniforms : MaterialUniforms;\\r\\n@group(2) @binding(1) var _sampler: sampler;\\r\\n@group(2) @binding(2) var _texture: texture_2d<f32>;\\r\\n\\r\\nstruct InputData {\\r\\n    @builtin(position) position : vec4<f32>,\\r\\n    @location(0) vertexPosition : vec3<f32>,\\r\\n    @location(1) vertexNormal : vec3<f32>,\\r\\n    @location(2) uv : vec2<f32>,\\r\\n};\\r\\n\\r\\n@fragment\\r\\n\\r\\nfn main(inputData:InputData) -> @location(0) vec4<f32> {\\r\\n    var diffuseColor:vec4<f32> = textureSample(_texture,_sampler, inputData.uv);\\r\\n    var lightColorSum = calcLights(\\r\\n        systemLightUniforms,\\r\\n        inputData.position,\\r\\n        normalize(inputData.vertexNormal),\\r\\n        inputData.vertexPosition,\\r\\n        //\\r\\n        materialUniforms.shininess,\\r\\n        materialUniforms.specularPower,\\r\\n        materialUniforms.specularColor\\r\\n      );\\r\\n    // result color\\r\\n    diffuseColor = vec4<f32>(diffuseColor.rgb * lightColorSum, diffuseColor.a * materialUniforms.alpha);\\r\\n    if(diffuseColor.a == 0.0) {\\r\\n     discard;\\r\\n    }\\r\\n    return diffuseColor;\\r\\n}\");\n\n//# sourceURL=webpack://RedGPU/./src/material/bitmapMaterial/fragment.wgsl?");

/***/ }),

/***/ "./src/material/bitmapMaterial/vertex.wgsl":
/*!*************************************************!*\
  !*** ./src/material/bitmapMaterial/vertex.wgsl ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_VERTEX_BASE\\r\\n#REDGPU_DEFINE_MODEL_UNIFORMS_STRUCT\\r\\n\\r\\n// define Struct InputData\\r\\nstruct InputData {\\r\\n    @location(0) position : vec3<f32>,\\r\\n    @location(1) vertexNormal : vec3<f32>,\\r\\n    @location(2) uv : vec2<f32>,\\r\\n};\\r\\n// define Struct OutData\\r\\nstruct OutData {\\r\\n  @builtin(position) position : vec4<f32>,\\r\\n  @location(0) vertexPosition: vec3<f32>,\\r\\n  @location(1) vertexNormal: vec3<f32>,\\r\\n  @location(2) uv: vec2<f32>,\\r\\n};\\r\\n@vertex\\r\\nfn main(inputData:InputData) -> OutData {\\r\\n  var outData : OutData;\\r\\n  var position:vec4<f32> = modelUniforms.modelMatrix * vec4<f32>(inputData.position, 1.0);\\r\\n  outData.position = systemUniforms.projectionMatrix * systemUniforms.cameraMatrix * position;\\r\\n  outData.vertexPosition = position.xyz;\\r\\n  outData.vertexNormal = (modelUniforms.normalMatrix * vec4<f32>(inputData.vertexNormal, 1.0)).xyz;\\r\\n  outData.uv = inputData.uv;\\r\\n  return outData;\\r\\n}\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/material/bitmapMaterial/vertex.wgsl?");

/***/ }),

/***/ "./src/material/colorMaterial/fragment.wgsl":
/*!**************************************************!*\
  !*** ./src/material/colorMaterial/fragment.wgsl ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\nstruct MaterialUniforms {\\r\\n  color : vec4<f32>,\\r\\n  alpha : f32,\\r\\n};\\r\\n@group(2) @binding(0) var<uniform> materialUniforms : MaterialUniforms;\\r\\n@fragment\\r\\nfn main() -> @location(0) vec4<f32> {\\r\\n  return materialUniforms.color;\\r\\n}\");\n\n//# sourceURL=webpack://RedGPU/./src/material/colorMaterial/fragment.wgsl?");

/***/ }),

/***/ "./src/material/colorMaterial/vertex.wgsl":
/*!************************************************!*\
  !*** ./src/material/colorMaterial/vertex.wgsl ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\n#REDGPU_DEFINE_MODEL_UNIFORMS_STRUCT\\r\\n\\r\\n// define Struct InputData\\r\\nstruct InputData {\\r\\n    @location(0) position : vec3<f32>\\r\\n};\\r\\n// define Struct OutData\\r\\nstruct OutData {\\r\\n  @builtin(position) position : vec4<f32>,\\r\\n};\\r\\n\\r\\n\\r\\n\\r\\n@vertex\\r\\nfn main(inputData:InputData) -> OutData {\\r\\n  var outData : OutData;\\r\\n  outData.position = systemUniforms.projectionMatrix * systemUniforms.cameraMatrix * modelUniforms.modelMatrix * vec4<f32>(inputData.position, 1.0);\\r\\n  return outData;\\r\\n}\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/material/colorMaterial/vertex.wgsl?");

/***/ }),

/***/ "./src/material/skyboxMaterial/fragment.wgsl":
/*!***************************************************!*\
  !*** ./src/material/skyboxMaterial/fragment.wgsl ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\nstruct MaterialUniforms {\\r\\n    opacity : f32\\r\\n};\\r\\n@group(2) @binding(0) var<uniform> materialUniforms : MaterialUniforms;\\r\\n@group(2) @binding(1) var _sampler: sampler;\\r\\n@group(2) @binding(2) var _texture: texture_cube<f32>;\\r\\n\\r\\nstruct InputData {\\r\\n    @location(0) vertexNormal : vec3<f32>,\\r\\n    @location(1) uv : vec2<f32>,\\r\\n    @location(2) vPosition : vec4<f32>,\\r\\n};\\r\\n@fragment\\r\\nfn main(inputData:InputData) -> @location(0) vec4<f32> {\\r\\n  var cubemapVec = inputData.vPosition.xyz - vec3<f32>(0.5, 0.5, 0.5);\\r\\n  var outColor:vec4<f32> = textureSample(_texture,_sampler, cubemapVec);\\r\\n  if(outColor.a == 0.0) {\\r\\n    discard;\\r\\n  }\\r\\n  return outColor;\\r\\n}\");\n\n//# sourceURL=webpack://RedGPU/./src/material/skyboxMaterial/fragment.wgsl?");

/***/ }),

/***/ "./src/material/skyboxMaterial/vertex.wgsl":
/*!*************************************************!*\
  !*** ./src/material/skyboxMaterial/vertex.wgsl ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"#REDGPU_DEFINE_SYSTEM_UNIFORMS\\r\\n#REDGPU_DEFINE_MODEL_UNIFORMS_STRUCT\\r\\n\\r\\n// define Struct InputData\\r\\nstruct InputData {\\r\\n    @location(0) position : vec3<f32>,\\r\\n    @location(1) vertexNormal : vec3<f32>,\\r\\n    @location(2) uv : vec2<f32>,\\r\\n};\\r\\n// define Struct OutData\\r\\nstruct OutData {\\r\\n  @builtin(position) position : vec4<f32>,\\r\\n  @location(0) vertexNormal: vec3<f32>,\\r\\n  @location(1) uv: vec2<f32>,\\r\\n  @location(2) vPosition: vec4<f32>,\\r\\n};\\r\\n@vertex\\r\\nfn main(inputData:InputData) -> OutData {\\r\\n  var outData : OutData;\\r\\n  outData.position = systemUniforms.projectionMatrix * systemUniforms.cameraMatrix * modelUniforms.modelMatrix * vec4<f32>(inputData.position, 1.0);\\r\\n  outData.uv = inputData.uv;\\r\\n  outData.vPosition = 0.5 * (vec4<f32>(inputData.position, 1.0) + vec4<f32>(1.0, 1.0, 1.0, 1.0));\\r\\n  return outData;\\r\\n}\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/material/skyboxMaterial/vertex.wgsl?");

/***/ }),

/***/ "./src/material/wgsl/ShaderDefine_ModelUniformStruct.wgsl":
/*!****************************************************************!*\
  !*** ./src/material/wgsl/ShaderDefine_ModelUniformStruct.wgsl ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"struct ModelUniforms {\\r\\n  modelMatrix : mat4x4<f32>,\\r\\n  normalMatrix : mat4x4<f32>,\\r\\n};\\r\\n@group(1) @binding(0) var<uniform> modelUniforms : ModelUniforms;\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/material/wgsl/ShaderDefine_ModelUniformStruct.wgsl?");

/***/ }),

/***/ "./src/material/wgsl/ShaderDefine_PointLightCluster.wgsl":
/*!***************************************************************!*\
  !*** ./src/material/wgsl/ShaderDefine_PointLightCluster.wgsl ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"struct ClusterCube {\\r\\n    minAABB : vec4<f32>,\\r\\n    maxAABB : vec4<f32>\\r\\n  };\\r\\nstruct Clusters {\\r\\n    cubeList : array<ClusterCube, REDGPU_DEFINE_TOTAL_TILES>\\r\\n};\\r\\nconst tileCount = vec3<u32>(REDGPU_DEFINE_TILE_COUNT_Xu, REDGPU_DEFINE_TILE_COUNT_Yu, REDGPU_DEFINE_TILE_COUNT_Zu);\\r\\n\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/material/wgsl/ShaderDefine_PointLightCluster.wgsl?");

/***/ }),

/***/ "./src/material/wgsl/ShaderDefine_PointLightClusterLightGroup.wgsl":
/*!*************************************************************************!*\
  !*** ./src/material/wgsl/ShaderDefine_PointLightClusterLightGroup.wgsl ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"struct ClusterLights  {\\r\\n    offset : u32,\\r\\n    count : u32\\r\\n};\\r\\n\\r\\nconst inducesLength:u32 = REDGPU_DEFINE_MAX_LIGHTS_PER_CLUSTER * REDGPU_DEFINE_TOTAL_TILES;\\r\\nstruct ClusterLightGroup {\\r\\n    offset : atomic<u32>,\\r\\n    lights : array<ClusterLights , REDGPU_DEFINE_TOTAL_TILES>,\\r\\n    indices : array<u32, inducesLength>\\r\\n};\\r\\n\\r\\n\\r\\nfn linearDepth(depthSample : f32) -> f32 {\\r\\n    return systemUniforms.nearFar.y*systemUniforms.nearFar.x / fma(depthSample, systemUniforms.nearFar.x-systemUniforms.nearFar.y, systemUniforms.nearFar.y);\\r\\n}\\r\\nfn getClusterIndex(fragCoord : vec4<f32>) -> u32 {\\r\\n    let tile = getTile(fragCoord);\\r\\n    return tile.x +\\r\\n           tile.y * tileCount.x +\\r\\n           tile.z * tileCount.x * tileCount.y;\\r\\n\\r\\n}\\r\\nfn getTile(fragCoord : vec4<f32>) -> vec3<u32> {\\r\\n    // TODO: scale and bias calculation can be moved outside the shader to save cycles.\\r\\n    let sliceScale = f32(tileCount.z) / log2(systemUniforms.nearFar.y / systemUniforms.nearFar.x);\\r\\n    let sliceBias = -(f32(tileCount.z) * log2(systemUniforms.nearFar.x) / log2(systemUniforms.nearFar.y / systemUniforms.nearFar.x));\\r\\n    let zTile = u32(max(log2(linearDepth(fragCoord.z)) * sliceScale + sliceBias, 0.0));\\r\\n    return vec3<u32>(u32(fragCoord.x / (systemUniforms.resolution.x / f32(tileCount.x))),\\r\\n                     u32(fragCoord.y / (systemUniforms.resolution.y / f32(tileCount.y))),\\r\\n                     zTile);\\r\\n}\\r\\n@group(0) @binding(3) var<storage, read_write> clusterLightGroup : ClusterLightGroup;\");\n\n//# sourceURL=webpack://RedGPU/./src/material/wgsl/ShaderDefine_PointLightClusterLightGroup.wgsl?");

/***/ }),

/***/ "./src/material/wgsl/ShaderDefine_SystemAmbientDirectionalLights.wgsl":
/*!****************************************************************************!*\
  !*** ./src/material/wgsl/ShaderDefine_SystemAmbientDirectionalLights.wgsl ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"struct DirectionalLightUniforms {\\r\\n  color : vec3<f32>,\\r\\n  intensity:f32,\\r\\n  direction : vec3<f32>,\\r\\n};\\r\\nstruct SystemLightUniforms {\\r\\n  ambientLight : vec4<f32>,\\r\\n  directionalLightCount : vec4<f32>,\\r\\n  directionalLight : array<DirectionalLightUniforms,REDGPU_CONST_MAX_DIRECTIONAL_LIGHT_NUM>,\\r\\n};\\r\\n@group(0) @binding(1) var<uniform> systemLightUniforms : SystemLightUniforms;\");\n\n//# sourceURL=webpack://RedGPU/./src/material/wgsl/ShaderDefine_SystemAmbientDirectionalLights.wgsl?");

/***/ }),

/***/ "./src/material/wgsl/ShaderDefine_SystemCalcLightFunctions.wgsl":
/*!**********************************************************************!*\
  !*** ./src/material/wgsl/ShaderDefine_SystemCalcLightFunctions.wgsl ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"\\r\\nfn calcDirectionalLight(\\r\\n    light:DirectionalLightUniforms,normal:vec3<f32>,\\r\\n    ///\\r\\n    shininess:f32,\\r\\n    specularPower:f32,\\r\\n    specularColor:vec3<f32>,\\r\\n) -> vec3<f32> {\\r\\n    var direction:vec3<f32> = normalize(light.direction);\\r\\n    var ld:vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);\\r\\n    var ls:vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);\\r\\n    var lightDot:f32 ;\\r\\n    ld = vec3<f32>(light.color) * light.intensity;\\r\\n    lightDot = dot(normal,-direction);\\r\\n    if(lightDot>0.0){\\r\\n        var specularTextureValue:f32  = 1.0; // TODO\\r\\n        var specular:f32 = pow( max(dot(reflect(direction, normal), -direction), 0.0), shininess) * specularPower * specularTextureValue;\\r\\n        ls = specularColor * specular * light.intensity;\\r\\n    }\\r\\n    return  vec3<f32>(ld * lightDot) + ls;\\r\\n\\r\\n};\\r\\n\\r\\nfn calcPointLight(\\r\\n    light:Light, normal:vec3<f32>,\\r\\n    vertexPosition:vec3<f32>,\\r\\n    ///\\r\\n    shininess:f32,\\r\\n    specularPower:f32,\\r\\n    specularColor:vec3<f32>,\\r\\n)-> vec3<f32>{\\r\\n    //TODO specular, etc...\\r\\n    var lightPosition:vec3<f32> = light.position;\\r\\n    var vertexPosition2:vec3<f32> = vertexPosition.xyz;\\r\\n    var lightConstant:f32 = 1.0f;\\r\\n    var lightLinear:f32 = 0.4f;\\r\\n    var lightQuadratic:f32 = 0.07f;\\r\\n\\r\\n    var direction:vec3<f32>;\\r\\n    var lightDot:f32 ;\\r\\n    var radius:f32 = light.radius ;\\r\\n    var intensity:f32 = light.intensity ;\\r\\n    direction = normalize(-lightPosition + vertexPosition2);\\r\\n    lightDot = ((dot(normal,-direction)));\\r\\n    //\\r\\n    var distance:f32 = (length( -lightPosition + vertexPosition2) );\\r\\n    var lp:vec3<f32> ;\\r\\n    var ls:vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);\\r\\n    if(radius> distance){\\r\\n        if(lightDot>0.0){\\r\\n            lp = vec3<f32>(light.color)  ;\\r\\n            var attenuation:f32 = 1.0 / (lightConstant + lightLinear * distance +\\r\\n            lightQuadratic * (distance * distance));\\r\\n            lp *= intensity;\\r\\n            lp *= lightDot;\\r\\n            lp *= attenuation;\\r\\n            var specularTextureValue:f32  = 1.0; // TODO\\r\\n            var specular:f32 = pow( max(dot(reflect(direction, normal), -direction), 0.0), shininess) * specularPower * specularTextureValue;\\r\\n            ls = specularColor * specular * light.intensity * attenuation;\\r\\n        }else{\\r\\n        }\\r\\n    }\\r\\n     return  vec3<f32>(lp) + ls;\\r\\n}\\r\\n\\r\\nfn calcLights(\\r\\n    systemLightUniforms : SystemLightUniforms,\\r\\n    position : vec4<f32>,\\r\\n    normal : vec3<f32>,\\r\\n    vertexPosition : vec3<f32>,\\r\\n    ///\\r\\n    shininess:f32,\\r\\n    specularPower:f32,\\r\\n    specularColor:vec3<f32>,\\r\\n    )->vec3<f32>{\\r\\n        var lightColorSum   = vec3<f32>(0.0,0.0,0.0);\\r\\n        // directional light\\r\\n        for (var i = 0u; i<u32(systemLightUniforms.directionalLightCount[0]); i = i + 1u) {\\r\\n            lightColorSum = lightColorSum + calcDirectionalLight(\\r\\n                systemLightUniforms.directionalLight[i],\\r\\n                normal,\\r\\n                shininess,\\r\\n                specularPower,\\r\\n                specularColor\\r\\n                );\\r\\n        }\\r\\n        // point light\\r\\n        let clusterIndex = getClusterIndex(position);\\r\\n        let lightOffset  = clusterLightGroup.lights[clusterIndex].offset;\\r\\n        let lightCount:u32   = clusterLightGroup.lights[clusterIndex].count;\\r\\n        for (var lightIndex = 0u; lightIndex < lightCount; lightIndex = lightIndex + 1u) {\\r\\n            let i = clusterLightGroup.indices[lightOffset + lightIndex];\\r\\n            lightColorSum = lightColorSum + (calcPointLight(\\r\\n                lightList.lights[i],\\r\\n                normal,\\r\\n                vertexPosition,\\r\\n                shininess,\\r\\n                specularPower,\\r\\n                specularColor\\r\\n            ));\\r\\n        }\\r\\n        // ambient light\\r\\n        var ALIntensity:f32 = systemLightUniforms.ambientLight.a;\\r\\n        var ALColor:vec3<f32> = (systemLightUniforms.ambientLight.rgb) * ALIntensity;\\r\\n        lightColorSum = ALColor + lightColorSum;\\r\\n        return lightColorSum;\\r\\n    }\");\n\n//# sourceURL=webpack://RedGPU/./src/material/wgsl/ShaderDefine_SystemCalcLightFunctions.wgsl?");

/***/ }),

/***/ "./src/material/wgsl/ShaderDefine_SystemPointLights.wgsl":
/*!***************************************************************!*\
  !*** ./src/material/wgsl/ShaderDefine_SystemPointLights.wgsl ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"struct Light {\\r\\n    position : vec3<f32>,\\r\\n    radius : f32,\\r\\n    color : vec3<f32>,\\r\\n    intensity : f32\\r\\n};\\r\\nstruct LightList {\\r\\n    count:vec4<f32>,\\r\\n    lights : array<Light>\\r\\n};\\r\\n@group(0) @binding(2) var<storage> lightList : LightList;\");\n\n//# sourceURL=webpack://RedGPU/./src/material/wgsl/ShaderDefine_SystemPointLights.wgsl?");

/***/ }),

/***/ "./src/material/wgsl/ShaderDefine_SystemUniforms.wgsl":
/*!************************************************************!*\
  !*** ./src/material/wgsl/ShaderDefine_SystemUniforms.wgsl ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"struct SystemUniforms {\\r\\n  projectionMatrix : mat4x4<f32>,\\r\\n  inverseProjectionMatrix: mat4x4<f32>,\\r\\n  cameraMatrix: mat4x4<f32>,\\r\\n  resolution: vec2<f32>,\\r\\n  nearFar: vec2<f32>,\\r\\n};\\r\\n@group(0) @binding(0) var<uniform> systemUniforms : SystemUniforms;\");\n\n//# sourceURL=webpack://RedGPU/./src/material/wgsl/ShaderDefine_SystemUniforms.wgsl?");

/***/ }),

/***/ "./src/resource/texture/mipmapGenerator/fragment.wgsl":
/*!************************************************************!*\
  !*** ./src/resource/texture/mipmapGenerator/fragment.wgsl ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"@binding(0) @group(0) var imgSampler : sampler;\\r\\n@binding(1) @group(0) var img : texture_2d<f32>;\\r\\n@fragment\\r\\nfn main(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {\\r\\n    return textureSample(img, imgSampler, texCoord);\\r\\n}\");\n\n//# sourceURL=webpack://RedGPU/./src/resource/texture/mipmapGenerator/fragment.wgsl?");

/***/ }),

/***/ "./src/resource/texture/mipmapGenerator/vertex.wgsl":
/*!**********************************************************!*\
  !*** ./src/resource/texture/mipmapGenerator/vertex.wgsl ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"var<private> pos:array<vec2<f32>,4> = array<vec2<f32>,4>(\\r\\n    vec2<f32>(-1.0, 1.0), vec2<f32>(1.0, 1.0),\\r\\n    vec2<f32>(-1.0, -1.0), vec2<f32>(1.0, -1.0)\\r\\n);\\r\\n\\r\\nstruct VertexOutput {\\r\\n    @builtin(position) position : vec4<f32>,\\r\\n    @location(0) texCoord : vec2<f32>,\\r\\n};\\r\\n\\r\\n@vertex\\r\\nfn main(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {\\r\\n    var output : VertexOutput;\\r\\n    output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);\\r\\n    output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);\\r\\n    return output;\\r\\n}\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/resource/texture/mipmapGenerator/vertex.wgsl?");

/***/ }),

/***/ "./src/temp/qurd/fragment.wgsl":
/*!*************************************!*\
  !*** ./src/temp/qurd/fragment.wgsl ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"@fragment\\r\\nfn main() -> @location(0) vec4<f32> {\\r\\n  return vec4<f32>(1.0, 0.0, 0.0, 0.5);\\r\\n}\");\n\n//# sourceURL=webpack://RedGPU/./src/temp/qurd/fragment.wgsl?");

/***/ }),

/***/ "./src/temp/qurd/vertex.wgsl":
/*!***********************************!*\
  !*** ./src/temp/qurd/vertex.wgsl ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"@vertex\\r\\nfn main(\\r\\n  @builtin(vertex_index) VertexIndex : u32\\r\\n) -> @builtin(position) vec4<f32> {\\r\\n  var pos = array<vec2<f32>, 6>(\\r\\n    vec2<f32>(-1, 1),\\r\\n    vec2<f32>(-1, -1),\\r\\n    vec2<f32>(1, 1),\\r\\n    //\\r\\n   vec2<f32>(1, 1),\\r\\n   vec2<f32>(1, -1),\\r\\n   vec2<f32>(-1, -1),\\r\\n  );\\r\\n\\r\\n  return vec4<f32>(pos[VertexIndex], 0.0, 1.0);\\r\\n}\\r\\n\");\n\n//# sourceURL=webpack://RedGPU/./src/temp/qurd/vertex.wgsl?");

/***/ }),

/***/ "./src/RedGPU.ts":
/*!***********************!*\
  !*** ./src/RedGPU.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AmbientLight\": () => (/* reexport safe */ _light__WEBPACK_IMPORTED_MODULE_6__.AmbientLight),\n/* harmony export */   \"Axis\": () => (/* reexport safe */ _main_scene__WEBPACK_IMPORTED_MODULE_4__.Axis),\n/* harmony export */   \"BaseLight\": () => (/* reexport safe */ _light__WEBPACK_IMPORTED_MODULE_6__.BaseLight),\n/* harmony export */   \"BaseObject3D\": () => (/* reexport safe */ _object3d__WEBPACK_IMPORTED_MODULE_11__.BaseObject3D),\n/* harmony export */   \"BaseObject3DPipeline\": () => (/* reexport safe */ _object3d__WEBPACK_IMPORTED_MODULE_11__.BaseObject3DPipeline),\n/* harmony export */   \"BasicCamera\": () => (/* reexport safe */ _camera__WEBPACK_IMPORTED_MODULE_5__.BasicCamera),\n/* harmony export */   \"BitmapCubeTexture\": () => (/* reexport safe */ _resource_texture__WEBPACK_IMPORTED_MODULE_14__.BitmapCubeTexture),\n/* harmony export */   \"BitmapMaterial\": () => (/* reexport safe */ _material__WEBPACK_IMPORTED_MODULE_10__.BitmapMaterial),\n/* harmony export */   \"BitmapTexture\": () => (/* reexport safe */ _resource_texture__WEBPACK_IMPORTED_MODULE_14__.BitmapTexture),\n/* harmony export */   \"Box\": () => (/* reexport safe */ _resource_geometry__WEBPACK_IMPORTED_MODULE_13__.Box),\n/* harmony export */   \"CONST_DIRTY_TRANSFORM_STATE\": () => (/* reexport safe */ _object3d__WEBPACK_IMPORTED_MODULE_11__.CONST_DIRTY_TRANSFORM_STATE),\n/* harmony export */   \"ColorMaterial\": () => (/* reexport safe */ _material__WEBPACK_IMPORTED_MODULE_10__.ColorMaterial),\n/* harmony export */   \"DirectionalLight\": () => (/* reexport safe */ _light__WEBPACK_IMPORTED_MODULE_6__.DirectionalLight),\n/* harmony export */   \"Geometry\": () => (/* reexport safe */ _resource_geometry__WEBPACK_IMPORTED_MODULE_13__.Geometry),\n/* harmony export */   \"Grid\": () => (/* reexport safe */ _main_scene__WEBPACK_IMPORTED_MODULE_4__.Grid),\n/* harmony export */   \"IndexBuffer\": () => (/* reexport safe */ _resource_buffers__WEBPACK_IMPORTED_MODULE_12__.IndexBuffer),\n/* harmony export */   \"InterleaveInfo\": () => (/* reexport safe */ _resource_buffers__WEBPACK_IMPORTED_MODULE_12__.InterleaveInfo),\n/* harmony export */   \"InterleaveUnit\": () => (/* reexport safe */ _resource_buffers__WEBPACK_IMPORTED_MODULE_12__.InterleaveUnit),\n/* harmony export */   \"LightManager\": () => (/* reexport safe */ _light__WEBPACK_IMPORTED_MODULE_6__.LightManager),\n/* harmony export */   \"Mesh\": () => (/* reexport safe */ _object3d__WEBPACK_IMPORTED_MODULE_11__.Mesh),\n/* harmony export */   \"NormalHelper\": () => (/* reexport safe */ _main_scene__WEBPACK_IMPORTED_MODULE_4__.NormalHelper),\n/* harmony export */   \"PassLightClusters\": () => (/* reexport safe */ _light_pointLightCluster__WEBPACK_IMPORTED_MODULE_7__.PassLightClusters),\n/* harmony export */   \"PassLightClustersBound\": () => (/* reexport safe */ _light_pointLightCluster__WEBPACK_IMPORTED_MODULE_7__.PassLightClustersBound),\n/* harmony export */   \"PassLightClustersHelper\": () => (/* reexport safe */ _light_pointLightCluster__WEBPACK_IMPORTED_MODULE_7__.PassLightClustersHelper),\n/* harmony export */   \"PointLight\": () => (/* reexport safe */ _light__WEBPACK_IMPORTED_MODULE_6__.PointLight),\n/* harmony export */   \"RedGPUContext\": () => (/* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.RedGPUContext),\n/* harmony export */   \"RedGPUContextBase\": () => (/* reexport safe */ _context__WEBPACK_IMPORTED_MODULE_0__.RedGPUContextBase),\n/* harmony export */   \"RedGPUContextResourceManager\": () => (/* reexport safe */ _resource_texture__WEBPACK_IMPORTED_MODULE_14__.RedGPUContextResourceManager),\n/* harmony export */   \"Renderer\": () => (/* reexport safe */ _main_render__WEBPACK_IMPORTED_MODULE_3__.Renderer),\n/* harmony export */   \"SHADER_DEFINE\": () => (/* reexport safe */ _systemShaderDefine__WEBPACK_IMPORTED_MODULE_1__.SHADER_DEFINE),\n/* harmony export */   \"Scene\": () => (/* reexport safe */ _main_scene__WEBPACK_IMPORTED_MODULE_4__.Scene),\n/* harmony export */   \"SkyBox\": () => (/* reexport safe */ _main_scene__WEBPACK_IMPORTED_MODULE_4__.SkyBox),\n/* harmony export */   \"SkyBoxMaterial\": () => (/* reexport safe */ _material__WEBPACK_IMPORTED_MODULE_10__.SkyBoxMaterial),\n/* harmony export */   \"Sphere\": () => (/* reexport safe */ _resource_geometry__WEBPACK_IMPORTED_MODULE_13__.Sphere),\n/* harmony export */   \"TextureSampler\": () => (/* reexport safe */ _resource_texture__WEBPACK_IMPORTED_MODULE_14__.TextureSampler),\n/* harmony export */   \"TypeSize\": () => (/* reexport safe */ _resource_buffers__WEBPACK_IMPORTED_MODULE_12__.TypeSize),\n/* harmony export */   \"UniformBufferDescriptor\": () => (/* reexport safe */ _resource_buffers__WEBPACK_IMPORTED_MODULE_12__.UniformBufferDescriptor),\n/* harmony export */   \"UniformBufferFloat32\": () => (/* reexport safe */ _resource_buffers__WEBPACK_IMPORTED_MODULE_12__.UniformBufferFloat32),\n/* harmony export */   \"VertexBuffer\": () => (/* reexport safe */ _resource_buffers__WEBPACK_IMPORTED_MODULE_12__.VertexBuffer),\n/* harmony export */   \"View\": () => (/* reexport safe */ _main_view__WEBPACK_IMPORTED_MODULE_2__.View),\n/* harmony export */   \"ViewDebugger\": () => (/* reexport safe */ _main_view__WEBPACK_IMPORTED_MODULE_2__.ViewDebugger),\n/* harmony export */   \"computeViewFrustumPlanes\": () => (/* reexport safe */ _util__WEBPACK_IMPORTED_MODULE_8__.computeViewFrustumPlanes),\n/* harmony export */   \"getConstructorName\": () => (/* reexport safe */ _util__WEBPACK_IMPORTED_MODULE_8__.getConstructorName),\n/* harmony export */   \"glMatrix\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.glMatrix),\n/* harmony export */   \"hexadecimalToRgb\": () => (/* reexport safe */ _util__WEBPACK_IMPORTED_MODULE_8__.hexadecimalToRgb),\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"mat2\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.mat2),\n/* harmony export */   \"mat2d\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.mat2d),\n/* harmony export */   \"mat3\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.mat3),\n/* harmony export */   \"mat4\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.mat4),\n/* harmony export */   \"quat\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.quat),\n/* harmony export */   \"quat2\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.quat2),\n/* harmony export */   \"throwError\": () => (/* reexport safe */ _util__WEBPACK_IMPORTED_MODULE_8__.throwError),\n/* harmony export */   \"throwErrorInstanceOf\": () => (/* reexport safe */ _util__WEBPACK_IMPORTED_MODULE_8__.throwErrorInstanceOf),\n/* harmony export */   \"throwErrorNumberType\": () => (/* reexport safe */ _util__WEBPACK_IMPORTED_MODULE_8__.throwErrorNumberType),\n/* harmony export */   \"vec2\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.vec2),\n/* harmony export */   \"vec3\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.vec3),\n/* harmony export */   \"vec4\": () => (/* reexport safe */ _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__.vec4)\n/* harmony export */ });\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context */ \"./src/context/index.ts\");\n/* harmony import */ var _systemShaderDefine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./systemShaderDefine */ \"./src/systemShaderDefine/index.ts\");\n/* harmony import */ var _main_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./main/view */ \"./src/main/view/index.ts\");\n/* harmony import */ var _main_render__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./main/render */ \"./src/main/render/index.ts\");\n/* harmony import */ var _main_scene__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./main/scene */ \"./src/main/scene/index.ts\");\n/* harmony import */ var _camera__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./camera */ \"./src/camera/index.ts\");\n/* harmony import */ var _light__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./light */ \"./src/light/index.ts\");\n/* harmony import */ var _light_pointLightCluster__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./light/pointLightCluster */ \"./src/light/pointLightCluster/index.ts\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./util */ \"./src/util/index.js\");\n/* harmony import */ var _util_gl_matrix__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./util/gl-matrix */ \"./src/util/gl-matrix/index.js\");\n/* harmony import */ var _material__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./material */ \"./src/material/index.ts\");\n/* harmony import */ var _object3d__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./object3d */ \"./src/object3d/index.ts\");\n/* harmony import */ var _resource_buffers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./resource/buffers */ \"./src/resource/buffers/index.ts\");\n/* harmony import */ var _resource_geometry__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./resource/geometry */ \"./src/resource/geometry/index.ts\");\n/* harmony import */ var _resource_texture__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./resource/texture */ \"./src/resource/texture/index.ts\");\n/* harmony import */ var _temp_qurd_Quad__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./temp/qurd/Quad */ \"./src/temp/qurd/Quad.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst BASE_OPTION = {\r\n    powerPreference: \"high-performance\",\r\n    forceFallbackAdapter: false\r\n};\r\nconst BASE_REQUIRED_FEATURES = {};\r\n/**\r\n * test232\r\n * RedGPU initialization function.\r\n * @param {HTMLCanvasElement} canvas\r\n * @param label\r\n * @param {GPUCanvasAlphaMode=} alphaMode   \r\n * @param {GPURequestAdapterOptions=} requestAdapterOptions\r\n * @param {Function=} HD_destroy GPUDevice lost    \r\n *\r\n * @example\r\n * RedGPU.initialize(HTMLCanvasElement instance).then(\r\n *  (redGPUContext)=>{\r\n *     console.log(redGPUContext) // success!\r\n *  }\r\n * )\r\n */\r\nconst init = (canvas, label, alphaMode = 'premultiplied', requestAdapterOptions = BASE_OPTION, HD_destroy) => {\r\n    alphaMode = alphaMode || 'premultiplied';\r\n    return new Promise(async (resolve, reject) => {\r\n        let errorInfo;\r\n        const checkCanvas = canvas => canvas instanceof HTMLCanvasElement;\r\n        const checkAdapter = gpu => {\r\n            gpu.requestAdapter(requestAdapterOptions)\r\n                .then(checkDevice)\r\n                .catch(e => {\r\n                errorInfo = { successYn: false, reason: e };\r\n                reject(errorInfo);\r\n            });\r\n        };\r\n        const checkDevice = adapter => {\r\n            const gpuDeviceDescriptor = {\r\n                ...BASE_REQUIRED_FEATURES,\r\n                label: label || `gpuDevice : Label input is recommended.`\r\n            };\r\n            adapter.requestDevice(gpuDeviceDescriptor)\r\n                .then(device => {\r\n                console.log('device', device);\r\n                checkContext(canvas, adapter, device);\r\n                device.addEventListener('uncapturederror', (event) => {\r\n                    // TODO uncapturederror \r\n                    // Re-surface the error, because adding an event listener may silence console logs.\r\n                    console.error('TODO A WebGPU error was not captured:', event.error);\r\n                });\r\n                device.lost.then(v => {\r\n                    console.log('GPUDevice Lost', v);\r\n                    device.destroy();\r\n                    HD_destroy?.(v);\r\n                });\r\n            })\r\n                .catch(e => {\r\n                errorInfo = { successYn: false, reason: e };\r\n                reject(errorInfo);\r\n                throw errorInfo;\r\n            });\r\n        };\r\n        const checkContext = (canvas, adapter, device) => {\r\n            const context = canvas.getContext('webgpu');\r\n            if (context)\r\n                resolve(new _context__WEBPACK_IMPORTED_MODULE_0__.RedGPUContext(canvas, adapter, device, context, alphaMode));\r\n            else {\r\n                errorInfo = { successYn: false, reason: 'canvas.getContext(\\'webgpu\\') is null' };\r\n                reject(errorInfo);\r\n            }\r\n        };\r\n        const { gpu } = navigator;\r\n        if (checkCanvas(canvas)) {\r\n            if (gpu)\r\n                checkAdapter(gpu);\r\n            else {\r\n                errorInfo = {\r\n                    successYn: false,\r\n                    reason: 'Cannot find navigator.gpu.'\r\n                };\r\n                reject(errorInfo);\r\n            }\r\n        }\r\n        else {\r\n            errorInfo = {\r\n                successYn: false,\r\n                reason: 'canvas is not HTMLCanvasElement '\r\n            };\r\n            reject(errorInfo);\r\n        }\r\n    });\r\n};\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/RedGPU.ts?");

/***/ }),

/***/ "./src/camera/BasicCamera.ts":
/*!***********************************!*\
  !*** ./src/camera/BasicCamera.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/errorFunc/throwError */ \"./src/util/errorFunc/throwError.js\");\n/* harmony import */ var _util_getConstructorName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/getConstructorName */ \"./src/util/getConstructorName.ts\");\n/* harmony import */ var _object3d_base_BaseObject3DTransform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../object3d/base/BaseObject3DTransform */ \"./src/object3d/base/BaseObject3DTransform.ts\");\n/* harmony import */ var _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/gl-matrix */ \"./src/util/gl-matrix/index.js\");\n/* harmony import */ var _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../object3d/base/CONST_DIRTY_TRANSFORM_STATE */ \"./src/object3d/base/CONST_DIRTY_TRANSFORM_STATE.ts\");\n\r\n\r\n\r\n\r\n\r\nclass BasicCamera extends _object3d_base_BaseObject3DTransform__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\r\n    static MODE_3D = '3d';\r\n    static MODE_2D = '2d';\r\n    #mode = BasicCamera.MODE_3D;\r\n    #farClipping = 100000;\r\n    get farClipping() {\r\n        return this.#farClipping;\r\n    }\r\n    set farClipping(value) {\r\n        this.#farClipping = value;\r\n        this.dirtyTransformState = _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].DIRTY;\r\n    }\r\n    #nearClipping = 0.1;\r\n    get nearClipping() {\r\n        return this.#nearClipping;\r\n    }\r\n    set nearClipping(value) {\r\n        this.#nearClipping = value;\r\n        this.dirtyTransformState = _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].DIRTY;\r\n    }\r\n    #fov = 60;\r\n    get fov() {\r\n        return this.#fov;\r\n    }\r\n    set fov(value) {\r\n        this.#fov = value;\r\n        this.dirtyTransformState = _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].DIRTY;\r\n    }\r\n    get mode() {\r\n        return this.#mode;\r\n    }\r\n    set mode(value) {\r\n        if (value === BasicCamera.MODE_2D || value === BasicCamera.MODE_3D)\r\n            this.#mode = value;\r\n        else\r\n            (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_util_getConstructorName__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value), 'only allow BasicCamera.MODE_2D or BasicCamera.MODE_3D');\r\n        this.dirtyTransformState = _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].DIRTY;\r\n    }\r\n    constructor(x = 0, y = 0, z = 10, mode = BasicCamera.MODE_3D) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.mode = mode;\r\n    }\r\n    update() {\r\n        const eye = [this.x, this.y, this.z];\r\n        const center = [0, 0, 0];\r\n        const up = [0, 1, 0];\r\n        _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.identity(this.matrix);\r\n        _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.translate(this.matrix, this.matrix, [this.x, this.y, this.z]);\r\n        _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.rotateX(this.matrix, this.matrix, this.rotationX);\r\n        _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.rotateY(this.matrix, this.matrix, this.rotationY);\r\n        _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.rotateZ(this.matrix, this.matrix, this.rotationZ);\r\n        _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.lookAt(this.matrix, eye, center, up);\r\n        this.dirtyTransformState = _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].NONE;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BasicCamera);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/camera/BasicCamera.ts?");

/***/ }),

/***/ "./src/camera/index.ts":
/*!*****************************!*\
  !*** ./src/camera/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BasicCamera\": () => (/* reexport safe */ _BasicCamera__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _BasicCamera__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BasicCamera */ \"./src/camera/BasicCamera.ts\");\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/camera/index.ts?");

/***/ }),

/***/ "./src/context/RedGPUContext.ts":
/*!**************************************!*\
  !*** ./src/context/RedGPUContext.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _debugger_RedGPUContextDebugger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./debugger/RedGPUContextDebugger */ \"./src/context/debugger/RedGPUContextDebugger.ts\");\n/* harmony import */ var _util_getConstructorName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/getConstructorName */ \"./src/util/getConstructorName.ts\");\n/* harmony import */ var _util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/errorFunc/throwError */ \"./src/util/errorFunc/throwError.js\");\n/* harmony import */ var _main_view_View__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../main/view/View */ \"./src/main/view/View.ts\");\n/* harmony import */ var _util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/errorFunc/throwErrorInstanceOf */ \"./src/util/errorFunc/throwErrorInstanceOf.js\");\n/* harmony import */ var _resource_resourceManager_RedGPUContextResourceManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../resource/resourceManager/RedGPUContextResourceManager */ \"./src/resource/resourceManager/RedGPUContextResourceManager.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * RedGPU.initialize     Context\r\n */\r\nclass RedGPUContext {\r\n    // --------------------------------------------------\r\n    #gpuAdapter;\r\n    /**\r\n     * @category gpu\r\n     */\r\n    get gpuAdapter() {\r\n        return this.#gpuAdapter;\r\n    }\r\n    #gpuContext;\r\n    /**\r\n     * @category gpu\r\n     */\r\n    get gpuContext() {\r\n        return this.#gpuContext;\r\n    }\r\n    #gpuDevice;\r\n    /**\r\n     * @category gpu\r\n     */\r\n    get gpuDevice() {\r\n        return this.#gpuDevice;\r\n    }\r\n    #configurationDescription;\r\n    /**\r\n     * @category gpu\r\n     */\r\n    get configurationDescription() {\r\n        return this.#configurationDescription;\r\n    }\r\n    #alphaMode;\r\n    /**\r\n     * @category gpu\r\n     */\r\n    get alphaMode() {\r\n        return this.#alphaMode;\r\n    }\r\n    // --------------------------------------------------\r\n    #debugger;\r\n    get debugger() {\r\n        return this.#debugger;\r\n    }\r\n    dirtyMultiSample = false;\r\n    #useMultiSample = true;\r\n    set useMultiSample(value) {\r\n        if (this.#useMultiSample !== value)\r\n            this.dirtyMultiSample = true;\r\n        this.#useMultiSample = value;\r\n    }\r\n    get useMultiSample() {\r\n        return this.#useMultiSample;\r\n    }\r\n    #resourceManager;\r\n    get resourceManager() {\r\n        return this.#resourceManager;\r\n    }\r\n    #htmlCanvas;\r\n    get htmlCanvas() {\r\n        return this.#htmlCanvas;\r\n    }\r\n    // --------------------------------------------------\r\n    #renderScale = 1;\r\n    get renderScale() {\r\n        return this.#renderScale;\r\n    }\r\n    set renderScale(value) {\r\n        if (value <= 0)\r\n            value = 0.01;\r\n        this.#renderScale = value;\r\n        this.setSize();\r\n    }\r\n    #width = '100%';\r\n    /**\r\n     * @category size\r\n     * @defaultValue 100%\r\n     */\r\n    get width() {\r\n        return this.#width;\r\n    }\r\n    #height = '100%';\r\n    /**\r\n     * @category size\r\n     * @defaultValue 100%\r\n     */\r\n    get height() {\r\n        return this.#height;\r\n    }\r\n    #pixelSize = { width: 0, height: 0 };\r\n    /**\r\n     * @category size\r\n     */\r\n    get pixelSize() {\r\n        return this.#pixelSize;\r\n    }\r\n    get label() {\r\n        return this.#gpuDevice.label;\r\n    }\r\n    // --------------------------------------------------\r\n    #viewList = [];\r\n    /**\r\n     *  View List \r\n     * @readonly\r\n     */\r\n    get viewList() {\r\n        return this.#viewList;\r\n    }\r\n    /**\r\n     * @param {HTMLCanvasElement} htmlCanvas\r\n     * @param {GPUAdapter} gpuAdapter\r\n     * @param {GPUDevice} gpuDevice\r\n     * @param {GPUCanvasContext} gpuContext\r\n     * @param {GPUCanvasAlphaMode=} alphaMode\r\n     */\r\n    constructor(htmlCanvas, gpuAdapter, gpuDevice, gpuContext, alphaMode = 'premultiplied') {\r\n        this.#gpuAdapter = gpuAdapter;\r\n        this.#gpuDevice = gpuDevice;\r\n        this.#gpuContext = gpuContext;\r\n        this.#debugger = new _debugger_RedGPUContextDebugger__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this);\r\n        this.#resourceManager = new _resource_resourceManager_RedGPUContextResourceManager__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this);\r\n        this.#alphaMode = alphaMode;\r\n        this.#htmlCanvas = htmlCanvas;\r\n        window.addEventListener('resize', this.#resize);\r\n        this.#configure();\r\n        this.#resize();\r\n    }\r\n    /**\r\n     * gpuContext configure method\r\n     * @private\r\n     */\r\n    #configure() {\r\n        const presentationFormat = navigator.gpu.getPreferredCanvasFormat();\r\n        this.#configurationDescription = {\r\n            device: this.#gpuDevice,\r\n            format: presentationFormat,\r\n            alphaMode: this.#alphaMode\r\n        };\r\n        console.log(`${(0,_util_getConstructorName__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this)}.configurationDescription`, this.#configurationDescription);\r\n        this.#gpuContext.configure(this.#configurationDescription);\r\n    }\r\n    /**\r\n     * window resize handler\r\n     * @private\r\n     */\r\n    #resize = () => {\r\n        this.setSize();\r\n    };\r\n    /**\r\n     * parameter value verification of setsize method.\r\n     * @param key\r\n     * @param value\r\n     * @param rect\r\n     * @private\r\n     */\r\n    #checkAbleValue(key, value, rect) {\r\n        let result;\r\n        const fireError = () => {\r\n            this.setSize(0, 0);\r\n            (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(`${value} ${key}   .`);\r\n        };\r\n        switch (typeof value) {\r\n            case 'number':\r\n                if (value >= 0) {\r\n                    result = value;\r\n                    break;\r\n                }\r\n                fireError();\r\n                break;\r\n            case 'string':\r\n                if (value.includes('%')) {\r\n                    result = Math.floor(rect[key] * (+value.replace('%', '')) / 100);\r\n                    break;\r\n                }\r\n                if (value.includes('px')) {\r\n                    result = +value.replace('px', '');\r\n                    break;\r\n                }\r\n                fireError();\r\n                break;\r\n            default:\r\n                fireError();\r\n                break;\r\n        }\r\n        if (result < 0)\r\n            result = 0;\r\n        return result;\r\n    }\r\n    ;\r\n    /**\r\n     * destroy WebGPU device\r\n     * @example\r\n     * (RedGPUContext Instance).destroy()\r\n     */\r\n    destroy() {\r\n        this.#gpuContext.unconfigure();\r\n        this.#gpuDevice.destroy();\r\n    }\r\n    #setDirtyMultiSample() {\r\n        this.dirtyMultiSample = true;\r\n        window.dispatchEvent(new Event('changeViewList'));\r\n    }\r\n    /**\r\n     * addView\r\n     * RedGPU  View .\r\n     *\r\n     * @example\r\n     * (RedGPUContext Instance).addView(View Instance)\r\n     *\r\n     * @category view management\r\n     * @param view\r\n     */\r\n    addView(view) {\r\n        if (!(view instanceof _main_view_View__WEBPACK_IMPORTED_MODULE_3__[\"default\"]))\r\n            (0,_util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, 'view', 'View');\r\n        this.#viewList.push(view);\r\n        this.#setDirtyMultiSample();\r\n    }\r\n    /**\r\n     * TODO addViewAt\r\n     * @param view\r\n     * @param index\r\n     */\r\n    addViewAt(view, index) {\r\n        this.#setDirtyMultiSample();\r\n    }\r\n    /**\r\n     * RedGPU View .\r\n     *\r\n     * @example\r\n     * (RedGPUContext Instance).removeView(View Instance)\r\n     * @category view management\r\n     * @param view\r\n     */\r\n    removeView(view) {\r\n        if (!(view instanceof _main_view_View__WEBPACK_IMPORTED_MODULE_3__[\"default\"]))\r\n            (0,_util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, 'view', 'View');\r\n        const index = this.#viewList.indexOf(view);\r\n        if (index > -1)\r\n            this.#viewList.splice(index, 1);\r\n        else {\r\n            console.log('viewList    view .');\r\n        }\r\n        this.#setDirtyMultiSample();\r\n    }\r\n    /**\r\n     * TODO removeViewAt\r\n     * @param label\r\n     */\r\n    removeViewAt(index) {\r\n        //TODO\r\n        this.#setDirtyMultiSample();\r\n    }\r\n    /**\r\n     * TODO removeViewByLabel\r\n     * @param label\r\n     */\r\n    removeViewByLabel(label) {\r\n        //TODO\r\n        this.#setDirtyMultiSample();\r\n    }\r\n    /**\r\n     * setSize\r\n     * @param w\r\n     * @param h\r\n     */\r\n    setSize(w = this.#width, h = this.#height) {\r\n        this.#width = w;\r\n        this.#height = h;\r\n        let tW, tH;\r\n        let rect = (this.#htmlCanvas.parentNode || document.body)['getBoundingClientRect']();\r\n        // const devicePixelRatio = window['devicePixelRatio'] || 1;\r\n        tW = this.#checkAbleValue('width', w, rect);\r\n        tH = this.#checkAbleValue('height', h, rect);\r\n        this.#htmlCanvas.width = tW * this.#renderScale;\r\n        this.#htmlCanvas.height = tH * this.#renderScale;\r\n        this.#htmlCanvas.style.width = tW + 'px';\r\n        this.#htmlCanvas.style.height = tH + 'px';\r\n        this.#pixelSize.width = tW * this.#renderScale;\r\n        this.#pixelSize.height = tH * this.#renderScale;\r\n        this.viewList.forEach(view => {\r\n            view.setSize();\r\n            // redView.setLocation();\r\n        });\r\n        console.log(`${(0,_util_getConstructorName__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this)}.setSize - input : ${w},${h} / result : ${tW}, ${tH}`);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RedGPUContext);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/RedGPUContext.ts?");

/***/ }),

/***/ "./src/context/RedGPUContextBase.ts":
/*!******************************************!*\
  !*** ./src/context/RedGPUContextBase.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _RedGPUContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RedGPUContext */ \"./src/context/RedGPUContext.ts\");\n/* harmony import */ var _util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/errorFunc/throwErrorInstanceOf */ \"./src/util/errorFunc/throwErrorInstanceOf.js\");\n\r\n\r\nclass RedGPUContextBase {\r\n    #redGPUContext;\r\n    get redGPUContext() {\r\n        return this.#redGPUContext;\r\n    }\r\n    constructor(redGPUContext) {\r\n        if (!(redGPUContext instanceof _RedGPUContext__WEBPACK_IMPORTED_MODULE_0__[\"default\"]))\r\n            (0,_util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, 'redGPUContext', 'RedGPUContext');\r\n        this.#redGPUContext = redGPUContext;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RedGPUContextBase);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/RedGPUContextBase.ts?");

/***/ }),

/***/ "./src/context/debugger/RedGPUContextDebugger.ts":
/*!*******************************************************!*\
  !*** ./src/context/debugger/RedGPUContextDebugger.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n/* harmony import */ var _draw_debuggerRenderViewList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./draw/debuggerRenderViewList */ \"./src/context/debugger/draw/debuggerRenderViewList.ts\");\n/* harmony import */ var _draw_debuggerRenderResourceManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./draw/debuggerRenderResourceManager */ \"./src/context/debugger/draw/debuggerRenderResourceManager.ts\");\n/* harmony import */ var _category_systemStatePanels_setStatePanels__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./category/systemStatePanels/setStatePanels */ \"./src/context/debugger/category/systemStatePanels/setStatePanels.ts\");\n/* harmony import */ var _category_systemStatePanels_setActiveDebugger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./category/systemStatePanels/setActiveDebugger */ \"./src/context/debugger/category/systemStatePanels/setActiveDebugger.ts\");\n/* harmony import */ var _funcs_gui_setItemBooleanNameSize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./funcs/gui_setItemBooleanNameSize */ \"./src/context/debugger/funcs/gui_setItemBooleanNameSize.ts\");\n/* harmony import */ var _funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./funcs/gui_setItemDisableInput */ \"./src/context/debugger/funcs/gui_setItemDisableInput.ts\");\n/* harmony import */ var _funcs_gui_setItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./funcs/gui_setItem */ \"./src/context/debugger/funcs/gui_setItem.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass RedGPUContextDebugger extends _RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #gui;\r\n    #activeViewDebugger = false;\r\n    get activeViewDebugger() {\r\n        return this.#activeViewDebugger;\r\n    }\r\n    set activeViewDebugger(value) {\r\n        this.#activeViewDebugger = value;\r\n        let debugView = document.getElementById('___debugView___');\r\n        if (value) {\r\n            if (!debugView) {\r\n                debugView = document.createElement('div');\r\n                debugView.setAttribute('id', '___debugView___');\r\n                debugView.style.cssText = `\r\n                        position: absolute;\r\n                        max-height: 100%;\r\n                        bottom: 0;\r\n                        left:0;\r\n                        box-sizing: border-box;\r\n                        background: rgba(0,0,0,0.5);\r\n                        color : #fff;\r\n                        font-size: 10px;\r\n                        display: flex;\r\n                        flex-direction: column;\r\n                        gap : 4px;\r\n                        overflow: hidden;\r\n                        overflow-y:auto;\r\n                    `;\r\n                document.body.appendChild(debugView);\r\n            }\r\n        }\r\n        else {\r\n            if (debugView)\r\n                document.body.removeChild(debugView);\r\n        }\r\n    }\r\n    #activeResourceDebugger = false;\r\n    get activeResourceDebugger() {\r\n        return this.#activeResourceDebugger;\r\n    }\r\n    set activeResourceDebugger(value) {\r\n        this.#activeResourceDebugger = value;\r\n        let debugResource = document.getElementById('___debugResource___');\r\n        if (value) {\r\n            {\r\n                if (!debugResource) {\r\n                    debugResource = document.createElement('div');\r\n                    debugResource.setAttribute('id', '___debugResource___');\r\n                    debugResource.style.cssText = `\r\n                         position: absolute;\r\n                    bottom: 0;\r\n                    right: 0;\r\n                    padding:16px;\r\n                    background: rgba(0,0,0,0.5);\r\n                    color : #fff;\r\n                    font-size: 10px;\r\n                    overflow-y: auto;\r\n                    `;\r\n                    document.body.appendChild(debugResource);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (debugResource)\r\n                document.body.removeChild(debugResource);\r\n        }\r\n    }\r\n    #useDebugger = false;\r\n    get useDebugger() {\r\n        return this.#useDebugger;\r\n    }\r\n    #__temp_HD_ViewList;\r\n    #userDebugSet;\r\n    get userDebugSet() {\r\n        return this.#userDebugSet;\r\n    }\r\n    set userDebugSet(value) {\r\n        this.#userDebugSet = value;\r\n        if (this.#gui) {\r\n            this.temp_HD_ViewList = null;\r\n            this.#gui.destroy();\r\n            this.#gui = null;\r\n        }\r\n        if (value && this.#useDebugger)\r\n            this.useDebugger = true;\r\n    }\r\n    set temp_HD_ViewList(value) {\r\n        if (this.#__temp_HD_ViewList)\r\n            window.removeEventListener('changeViewList', this.#__temp_HD_ViewList);\r\n        this.#__temp_HD_ViewList = value;\r\n    }\r\n    set useDebugger(value) {\r\n        const redGPUContext = this.redGPUContext;\r\n        this.#useDebugger = value;\r\n        if (value) {\r\n            if (!this.#gui) {\r\n                console.log(redGPUContext);\r\n                const gui = this.#gui = new dat_gui__WEBPACK_IMPORTED_MODULE_1__.GUI();\r\n                this.#userDebugSet?.(gui, redGPUContext, this);\r\n                (0,_category_systemStatePanels_setStatePanels__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(gui, redGPUContext, this, !this.userDebugSet);\r\n                (0,_category_systemStatePanels_setActiveDebugger__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(gui, this);\r\n                this.#gui.show();\r\n            }\r\n        }\r\n        else {\r\n            this.temp_HD_ViewList = null;\r\n            this.#gui.hide();\r\n        }\r\n        /////\r\n    }\r\n    #adapterInfo = {};\r\n    get adapterInfo() {\r\n        return this.#adapterInfo;\r\n    }\r\n    get limit() {\r\n        return this.redGPUContext.gpuAdapter.limits;\r\n    }\r\n    constructor(context) {\r\n        super(context);\r\n        this.#update();\r\n    }\r\n    #dat = dat_gui__WEBPACK_IMPORTED_MODULE_1__;\r\n    get dat() {\r\n        return this.#dat;\r\n    }\r\n    #update() {\r\n        this.redGPUContext.gpuAdapter.requestAdapterInfo().then(v => {\r\n            console.log('requestAdapterInfo', v);\r\n            this.#adapterInfo = v;\r\n        });\r\n    }\r\n    render() {\r\n        if (!this.#useDebugger)\r\n            return;\r\n        const redGPUContext = this.redGPUContext;\r\n        if (this.#activeViewDebugger) {\r\n            (0,_draw_debuggerRenderViewList__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(redGPUContext.viewList);\r\n        }\r\n        if (this.#activeResourceDebugger) {\r\n            (0,_draw_debuggerRenderResourceManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(redGPUContext.resourceManager);\r\n        }\r\n    }\r\n    __gui_setItemDisableInput = _funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\r\n    __gui_setItemBooleanNameSize = _funcs_gui_setItemBooleanNameSize__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\r\n    __gui_setItem = _funcs_gui_setItem__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RedGPUContextDebugger);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/RedGPUContextDebugger.ts?");

/***/ }),

/***/ "./src/context/debugger/category/systemStatePanels/setActiveDebugger.ts":
/*!******************************************************************************!*\
  !*** ./src/context/debugger/category/systemStatePanels/setActiveDebugger.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _funcs_gui_setItemBooleanNameSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../funcs/gui_setItemBooleanNameSize */ \"./src/context/debugger/funcs/gui_setItemBooleanNameSize.ts\");\n\r\nconst setActiveDebugger = (gui, targetDebugger) => {\r\n    const activeDebuggerFolder = gui.addFolder('Active Debugger');\r\n    (0,_funcs_gui_setItemBooleanNameSize__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(activeDebuggerFolder.add(targetDebugger, 'activeViewDebugger'));\r\n    (0,_funcs_gui_setItemBooleanNameSize__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(activeDebuggerFolder.add(targetDebugger, 'activeResourceDebugger'));\r\n    activeDebuggerFolder.open();\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (setActiveDebugger);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/category/systemStatePanels/setActiveDebugger.ts?");

/***/ }),

/***/ "./src/context/debugger/category/systemStatePanels/setAdapterInfo.ts":
/*!***************************************************************************!*\
  !*** ./src/context/debugger/category/systemStatePanels/setAdapterInfo.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../funcs/gui_setItemDisableInput */ \"./src/context/debugger/funcs/gui_setItemDisableInput.ts\");\n\r\nconst setAdapterInfo = (gui, targetDebugger) => {\r\n    const { adapterInfo } = targetDebugger;\r\n    const tFolder = gui.addFolder('Adapter Info');\r\n    tFolder.open();\r\n    for (const key in adapterInfo)\r\n        (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tFolder.add(adapterInfo, key));\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (setAdapterInfo);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/category/systemStatePanels/setAdapterInfo.ts?");

/***/ }),

/***/ "./src/context/debugger/category/systemStatePanels/setLightClusterInfo.ts":
/*!********************************************************************************!*\
  !*** ./src/context/debugger/category/systemStatePanels/setLightClusterInfo.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../funcs/gui_setItemDisableInput */ \"./src/context/debugger/funcs/gui_setItemDisableInput.ts\");\n/* harmony import */ var _light_pointLightCluster__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../light/pointLightCluster */ \"./src/light/pointLightCluster/index.ts\");\n\r\n\r\nconst setLightClusterInfo = (gui) => {\r\n    const tFolder = gui.addFolder('light Cluster Info');\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tFolder.add(_light_pointLightCluster__WEBPACK_IMPORTED_MODULE_1__.PassLightClustersHelper, 'TILE_COUNT_X'));\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tFolder.add(_light_pointLightCluster__WEBPACK_IMPORTED_MODULE_1__.PassLightClustersHelper, 'TILE_COUNT_Y'));\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tFolder.add(_light_pointLightCluster__WEBPACK_IMPORTED_MODULE_1__.PassLightClustersHelper, 'TILE_COUNT_Z'));\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tFolder.add(_light_pointLightCluster__WEBPACK_IMPORTED_MODULE_1__.PassLightClustersHelper, 'WORKGROUP_SIZE_X'));\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tFolder.add(_light_pointLightCluster__WEBPACK_IMPORTED_MODULE_1__.PassLightClustersHelper, 'WORKGROUP_SIZE_Y'));\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tFolder.add(_light_pointLightCluster__WEBPACK_IMPORTED_MODULE_1__.PassLightClustersHelper, 'WORKGROUP_SIZE_Z'));\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tFolder.add(_light_pointLightCluster__WEBPACK_IMPORTED_MODULE_1__.PassLightClustersHelper, 'MAX_POINT_LIGHTS_PER_CLUSTER'));\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (setLightClusterInfo);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/category/systemStatePanels/setLightClusterInfo.ts?");

/***/ }),

/***/ "./src/context/debugger/category/systemStatePanels/setRedGPUContext.ts":
/*!*****************************************************************************!*\
  !*** ./src/context/debugger/category/systemStatePanels/setRedGPUContext.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../funcs/gui_setItemDisableInput */ \"./src/context/debugger/funcs/gui_setItemDisableInput.ts\");\n/* harmony import */ var _funcs_gui_setItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../funcs/gui_setItem */ \"./src/context/debugger/funcs/gui_setItem.ts\");\n\r\n\r\nconst setRedGPUContext = (gui, redGPUContext) => {\r\n    const redGPUContextFolder = gui.addFolder('redGPUContext');\r\n    {\r\n        const configurationDescriptionFolder = redGPUContextFolder.addFolder('configurationDescription');\r\n        const t0 = redGPUContext.configurationDescription;\r\n        for (const key in t0) {\r\n            if (typeof t0[key] === 'string')\r\n                (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(configurationDescriptionFolder.add(t0, key));\r\n        }\r\n    }\r\n    (0,_funcs_gui_setItem__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(redGPUContextFolder.add(redGPUContext, 'renderScale', 0.01, 1, 0.01));\r\n    (0,_funcs_gui_setItem__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(redGPUContextFolder.add(redGPUContext, 'useMultiSample'));\r\n    // size\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(redGPUContextFolder.add(redGPUContext, 'width'));\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(redGPUContextFolder.add(redGPUContext, 'height'));\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(redGPUContextFolder.add(redGPUContext.pixelSize, 'width').name('pixelSize.width'));\r\n    (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(redGPUContextFolder.add(redGPUContext.pixelSize, 'height').name('pixelSize.height'));\r\n    // size test\r\n    {\r\n        const sizeTestFolder = redGPUContextFolder.addFolder('setSize Method Test');\r\n        const sizeTest = {\r\n            setSizeTest1: function () {\r\n                redGPUContext.setSize(300, 300);\r\n            },\r\n            setSizeTest2: function () {\r\n                redGPUContext.setSize(600, 300);\r\n            },\r\n            setSizeTest3: function () {\r\n                redGPUContext.setSize('50%', 300);\r\n            },\r\n            setSizeTest4: function () {\r\n                redGPUContext.setSize(300, '50%');\r\n            },\r\n            setSizeTest5: function () {\r\n                redGPUContext.setSize('100%', '100%');\r\n            }\r\n        };\r\n        sizeTestFolder.add(sizeTest, 'setSizeTest1').name('setSize(300,300)');\r\n        sizeTestFolder.add(sizeTest, 'setSizeTest2').name('setSize(600,300)');\r\n        sizeTestFolder.add(sizeTest, 'setSizeTest3').name('setSize(50%,300)');\r\n        sizeTestFolder.add(sizeTest, 'setSizeTest4').name('setSize(300,50%)');\r\n        sizeTestFolder.add(sizeTest, 'setSizeTest5').name('setSize(100%,100%)');\r\n    }\r\n    redGPUContextFolder.open();\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (setRedGPUContext);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/category/systemStatePanels/setRedGPUContext.ts?");

/***/ }),

/***/ "./src/context/debugger/category/systemStatePanels/setStatePanels.ts":
/*!***************************************************************************!*\
  !*** ./src/context/debugger/category/systemStatePanels/setStatePanels.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _setAdapterInfo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setAdapterInfo */ \"./src/context/debugger/category/systemStatePanels/setAdapterInfo.ts\");\n/* harmony import */ var _setLightClusterInfo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setLightClusterInfo */ \"./src/context/debugger/category/systemStatePanels/setLightClusterInfo.ts\");\n/* harmony import */ var _setRedGPUContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./setRedGPUContext */ \"./src/context/debugger/category/systemStatePanels/setRedGPUContext.ts\");\n/* harmony import */ var _setViewList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./setViewList */ \"./src/context/debugger/category/systemStatePanels/setViewList.ts\");\n\r\n\r\n\r\n\r\nconst setStatePanels = (gui, redGPUContext, targetDebugger, openYn = true) => {\r\n    const tFolder = gui.addFolder('System State Panel');\r\n    if (openYn)\r\n        tFolder.open();\r\n    (0,_setAdapterInfo__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tFolder, targetDebugger);\r\n    (0,_setRedGPUContext__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(tFolder, redGPUContext);\r\n    (0,_setViewList__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(tFolder, redGPUContext, targetDebugger);\r\n    (0,_setLightClusterInfo__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(tFolder);\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (setStatePanels);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/category/systemStatePanels/setStatePanels.ts?");

/***/ }),

/***/ "./src/context/debugger/category/systemStatePanels/setViewList.ts":
/*!************************************************************************!*\
  !*** ./src/context/debugger/category/systemStatePanels/setViewList.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../funcs/gui_setItemDisableInput */ \"./src/context/debugger/funcs/gui_setItemDisableInput.ts\");\n\r\nconst setViewList = (gui, redGPUContext, targetDebugger) => {\r\n    const viewListFolder = gui.addFolder('viewList');\r\n    viewListFolder.open();\r\n    const viewItemList = [];\r\n    const HD_ViewList = () => {\r\n        viewItemList.forEach(item => {\r\n            viewListFolder.removeFolder(item);\r\n        });\r\n        viewItemList.length = 0;\r\n        redGPUContext.viewList.forEach(view => {\r\n            const folder = viewListFolder.addFolder(view.label);\r\n            (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(folder.add(view, 'label').name('view'), 'auto');\r\n            (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(folder.add(view.scene, 'label').name('scene'), 'auto');\r\n            (0,_funcs_gui_setItemDisableInput__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(folder.add(view.camera.constructor, 'name').name('camera type'), 'auto');\r\n            folder.open();\r\n            viewItemList.push(folder);\r\n        });\r\n    };\r\n    targetDebugger.temp_HD_ViewList = HD_ViewList;\r\n    window.addEventListener('changeViewList', HD_ViewList);\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (setViewList);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/category/systemStatePanels/setViewList.ts?");

/***/ }),

/***/ "./src/context/debugger/draw/debuggerRenderResourceManager.ts":
/*!********************************************************************!*\
  !*** ./src/context/debugger/draw/debuggerRenderResourceManager.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst debuggerRenderResourceManager = (resourceManager) => {\r\n    // resource debug\r\n    const debugResource = document.getElementById('___debugResource___');\r\n    const { textureTable, cubeTextureTable, samplerTable } = resourceManager;\r\n    let debugStr = '';\r\n    const map = {\r\n        textureTable,\r\n        cubeTextureTable,\r\n        samplerTable\r\n    };\r\n    const renderTitle = (title) => debugStr += `<div><b>${title}</b></div>`;\r\n    {\r\n        // samplerTable\r\n        renderTitle('samplerTable');\r\n        debugStr += `<div style=\"padding: 4px;font-size: 10px;background: rgba(0,0,0,0.5);max-width: 200px\">`;\r\n        Object.entries(samplerTable).forEach(v => {\r\n            const key = v[0];\r\n            const value = v[1];\r\n            debugStr += `\r\n                    <div>\r\n<!--                        <b>${key}</b>-->\r\n                        <div style=\"white-space: nowrap;text-overflow: ellipsis;overflow: hidden\">\r\n                            ${value['optionString']}\r\n                        </div>\r\n                    </div>`;\r\n        });\r\n        debugStr += `</div>`;\r\n        debugStr += `<div style=\"margin:6px 0px;height:1px;background: rgba(255,255,255,0.2)\"></div>`;\r\n    }\r\n    {\r\n        // textureTable\r\n        renderTitle('textureTable');\r\n        debugStr += `<div style=\"display:flex;flex-direction:column;gap:4px;padding: 4px;font-size: 10px;background: rgba(0,0,0,0.5);max-width: 200px\">`;\r\n        Object.entries(textureTable).forEach(v => {\r\n            const key = v[0];\r\n            const value = v[1];\r\n            const { resource, textureView } = value;\r\n            const info = {\r\n                src: resource.src,\r\n                // label: textureView?.label,\r\n                size: resource.imgBitmap ? `${resource.imgBitmap?.width} x ${resource.imgBitmap?.height}` : '-'\r\n            };\r\n            debugStr += '<div style=\"display:flex;justify-content:space-between;gap:4px;align-category:center;white-space: nowrap;text-overflow: ellipsis;overflow: hidden\">';\r\n            debugStr += `<div style=\"background:${textureView?.label ? '#00ff00' : '#ff0000'};border-radius: 50%;min-width: 10px;height:10px\"></div>`;\r\n            for (const key in info) {\r\n                const value = info[key];\r\n                const style = key === 'src' ? 'white-space: nowrap;text-overflow: ellipsis;overflow: hidden' : 'line-height:1;color:#000;background : rgba(255,255,255,1);padding:2px 4px 3px;border-radius:4px';\r\n                if (value)\r\n                    debugStr += `<span style=\"${style}\">${key} : ${value}</span>`;\r\n            }\r\n            debugStr += '</div>';\r\n        });\r\n        debugStr += `</div>`;\r\n        debugStr += `<div style=\"margin:6px 0px;height:1px;background: rgba(255,255,255,0.2)\"></div>`;\r\n    }\r\n    {\r\n        // textureTable\r\n        renderTitle('cubeTextureTable');\r\n        debugStr += `<div style=\"padding: 4px;font-size: 10px;background: rgba(0,0,0,0.5);max-width: 200px\">`;\r\n        Object.entries(cubeTextureTable).forEach(v => {\r\n            const key = v[0];\r\n            const value = v[1];\r\n            const { resource, textureView } = value;\r\n            const sizeList = [];\r\n            if (resource.imgBitmapList) {\r\n                resource.imgBitmapList.forEach(v => {\r\n                    const t0 = `${v.width} x ${v.height}`;\r\n                    if (sizeList.indexOf(t0) === -1)\r\n                        sizeList.push(t0);\r\n                });\r\n            }\r\n            const info = {\r\n                src: resource.srcList,\r\n                // label: textureView?.label,\r\n                size: resource.imgBitmapList ? sizeList.toString() : '-'\r\n            };\r\n            debugStr += '<div style=\"display:flex;justify-content:space-between;gap:4px;align-category:center;white-space: nowrap;text-overflow: ellipsis;overflow: hidden\">';\r\n            debugStr += `<div style=\"background:${textureView?.label ? '#00ff00' : '#ff0000'};border-radius: 50%;min-width: 10px;height:10px\"></div>`;\r\n            for (const key in info) {\r\n                const value = info[key];\r\n                const style = key === 'src' ? 'white-space: nowrap;text-overflow: ellipsis;overflow: hidden' : 'line-height:1;color:#000;background : rgba(255,255,255,1);padding:2px 4px 3px;border-radius:4px';\r\n                if (value)\r\n                    debugStr += `<span style=\"${style}\">${key} : ${value}</span>`;\r\n            }\r\n            debugStr += '</div>';\r\n        });\r\n        debugStr += `</div>`;\r\n        debugStr += `<div style=\"margin:6px 0px;height:1px;background: rgba(255,255,255,0.2)\"></div>`;\r\n    }\r\n    debugResource.innerHTML = debugStr;\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (debuggerRenderResourceManager);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/draw/debuggerRenderResourceManager.ts?");

/***/ }),

/***/ "./src/context/debugger/draw/debuggerRenderViewList.ts":
/*!*************************************************************!*\
  !*** ./src/context/debugger/draw/debuggerRenderViewList.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst debuggerRenderViewList = (viewList) => {\r\n    const debugView = document.getElementById('___debugView___');\r\n    let debugStr = '';\r\n    viewList.forEach(view => {\r\n        //TODO - \r\n        let debugStr2 = '';\r\n        {\r\n            // view debug\r\n            const { viewDebugger, scene } = view;\r\n            for (const k in viewDebugger) {\r\n                const tData = viewDebugger[k];\r\n                if (typeof tData === 'string') {\r\n                    debugStr2 += `<div><b>${k} : ${tData}</b></div>`;\r\n                }\r\n                else {\r\n                    debugStr2 += `<div><b>${k}</b></div>`;\r\n                    for (const key in tData) {\r\n                        const value = tData[key];\r\n                        const fontSize = (key === 'AVG FPS' || key === 'Frame FPS' || key === 'Render PointLight') ? '14px' : '';\r\n                        const color = (key === 'AVG FPS' || key === 'Frame FPS' || key === 'Render PointLight') ? 'rgba(255,255,255,1)' : 'rgba(255,255,255,0.5)';\r\n                        debugStr2 += `<div style=\"font-size:${fontSize};color:${color}\">${key} : ${typeof value === 'number' ? (+value.toFixed(2)).toLocaleString() : value}</div>`;\r\n                    }\r\n                    debugStr2 += `<div style=\"margin:6px 0px;height:1px;background: rgba(255,255,255,0.2)\"></div>`;\r\n                }\r\n            }\r\n            const renderChild = target => {\r\n                const { children } = target;\r\n                return children.map(v => {\r\n                    // console.log(v)\r\n                    return `\r\n<div> \r\n\t${v.constructor.name}\r\n\t<div style=\"padding-left: 10px\">\r\n\t\t<div>${v.geometry ? v.geometry.constructor.name : ''}</div>\r\n\t\t<div>${v.material?.constructor.name}</div>    \r\n\t\t${v.children.length ? `<div style=\"padding-left: 10px\">${renderChild(v.children)}</div>` : ''}\r\n\t</div> \r\n</div>`;\r\n                }).flat().join('').trim();\r\n            };\r\n            // console.log(renderChild(scene))\r\n            //TODO\r\n            debugStr2 += `${renderChild(scene)}`;\r\n        }\r\n        debugStr += `<div style=\"background: rgba(0,0,0,0.5);padding: 16px;\">${debugStr2}</div>`;\r\n    });\r\n    debugView.innerHTML = `${debugStr}`;\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (debuggerRenderViewList);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/draw/debuggerRenderViewList.ts?");

/***/ }),

/***/ "./src/context/debugger/funcs/gui_setItem.ts":
/*!***************************************************!*\
  !*** ./src/context/debugger/funcs/gui_setItem.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst gui_setItem = (controller) => {\r\n    controller.listen();\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (gui_setItem);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/funcs/gui_setItem.ts?");

/***/ }),

/***/ "./src/context/debugger/funcs/gui_setItemBooleanNameSize.ts":
/*!******************************************************************!*\
  !*** ./src/context/debugger/funcs/gui_setItemBooleanNameSize.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst gui_setItemBooleanNameSize = (controller) => {\r\n    controller.listen();\r\n    controller.domElement.parentNode.style.cssText = 'display:flex;justify-content: space-between;';\r\n    controller.domElement.parentNode.querySelector('span').style.cssText = 'width:100%';\r\n    controller.domElement.style.width = '40px';\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (gui_setItemBooleanNameSize);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/funcs/gui_setItemBooleanNameSize.ts?");

/***/ }),

/***/ "./src/context/debugger/funcs/gui_setItemDisableInput.ts":
/*!***************************************************************!*\
  !*** ./src/context/debugger/funcs/gui_setItemDisableInput.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst gui_setItemDisableInput = (controller, width) => {\r\n    const rightModeYn = width === 'auto';\r\n    const { domElement, __input, __li } = controller;\r\n    controller.listen();\r\n    domElement.parentNode.style.cssText = 'display:flex;justify-content: space-between;';\r\n    domElement.parentNode.querySelector('span').style.cssText = `max-width:100%;width:auto;${rightModeYn ? 'overflow:initial;text-overflow:initial;' : ''}`;\r\n    domElement.style.width = rightModeYn ? '100%' : (width || '40px');\r\n    __li.style.color = '#888';\r\n    __input.disabled = true;\r\n    __input.style.background = 'transparent';\r\n    __input.style.opacity = 0.5;\r\n    __input.style.fontSize = '10px';\r\n    __input.style.textAlign = 'right';\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (gui_setItemDisableInput);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/debugger/funcs/gui_setItemDisableInput.ts?");

/***/ }),

/***/ "./src/context/index.ts":
/*!******************************!*\
  !*** ./src/context/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RedGPUContext\": () => (/* reexport safe */ _RedGPUContext__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"RedGPUContextBase\": () => (/* reexport safe */ _RedGPUContextBase__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _RedGPUContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RedGPUContext */ \"./src/context/RedGPUContext.ts\");\n/* harmony import */ var _RedGPUContextBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/context/index.ts?");

/***/ }),

/***/ "./src/light/AmbientLight.ts":
/*!***********************************!*\
  !*** ./src/light/AmbientLight.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _BaseLight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseLight */ \"./src/light/BaseLight.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../resource/buffers/uniformBuffer/UniformBufferDescriptor */ \"./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts\");\n/* harmony import */ var _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resource/buffers/TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n\r\n\r\n\r\nconst bufferDefine = new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_1__[\"default\"]([\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x3, valueName: 'color' },\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32, valueName: 'intensity' },\r\n]);\r\nclass AmbientLight extends _BaseLight__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(redGPUContext, color = 0x404040, intensity = 1) {\r\n        super(redGPUContext, bufferDefine, color, intensity);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AmbientLight);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/AmbientLight.ts?");

/***/ }),

/***/ "./src/light/BaseLight.ts":
/*!********************************!*\
  !*** ./src/light/BaseLight.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _object3d_base_BaseObject3DTransform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../object3d/base/BaseObject3DTransform */ \"./src/object3d/base/BaseObject3DTransform.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../resource/buffers/uniformBuffer/UniformBufferFloat32 */ \"./src/resource/buffers/uniformBuffer/UniformBufferFloat32.ts\");\n/* harmony import */ var _context_RedGPUContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context/RedGPUContext */ \"./src/context/RedGPUContext.ts\");\n/* harmony import */ var _util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/errorFunc/throwErrorInstanceOf */ \"./src/util/errorFunc/throwErrorInstanceOf.js\");\n/* harmony import */ var _util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/color/hexadecimalToRgb */ \"./src/util/color/hexadecimalToRgb.ts\");\n\r\n\r\n\r\n\r\n\r\nclass BaseLight extends _object3d_base_BaseObject3DTransform__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    // TODO - dirtyLight   dirtyPipeline    \r\n    dirtyLight = false;\r\n    #r;\r\n    get r() {\r\n        return this.#r;\r\n    }\r\n    #g;\r\n    get g() {\r\n        return this.#g;\r\n    }\r\n    #b;\r\n    get b() {\r\n        return this.#b;\r\n    }\r\n    #a;\r\n    get a() {\r\n        return this.#a;\r\n    }\r\n    #color;\r\n    get color() {\r\n        return this.#color;\r\n    }\r\n    set color(value) {\r\n        this.#color = value;\r\n        this.dirtyLight = true;\r\n        const rgb = (0,_util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value);\r\n        this.#r = rgb.r;\r\n        this.#g = rgb.g;\r\n        this.#b = rgb.b;\r\n        this.#a = 1;\r\n    }\r\n    #intensity;\r\n    get intensity() {\r\n        return this.#intensity;\r\n    }\r\n    set intensity(value) {\r\n        this.#intensity = value;\r\n        this.dirtyLight = true;\r\n    }\r\n    #uniformBufferDescriptor;\r\n    get uniformBufferDescriptor() {\r\n        return this.#uniformBufferDescriptor;\r\n    }\r\n    #uniformBuffer;\r\n    get uniformBuffer() {\r\n        return this.#uniformBuffer;\r\n    }\r\n    #redGPUContext;\r\n    get redGPUContext() {\r\n        return this.#redGPUContext;\r\n    }\r\n    constructor(redGPUContext, uniformBufferDescriptor, color = 0x404040, intensity = 1) {\r\n        super();\r\n        if (!(redGPUContext instanceof _context_RedGPUContext__WEBPACK_IMPORTED_MODULE_2__[\"default\"]))\r\n            (0,_util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, 'redGPUContext', 'RedGPUContext');\r\n        this.#redGPUContext = redGPUContext;\r\n        this.#uniformBufferDescriptor = uniformBufferDescriptor;\r\n        this.#uniformBuffer = new _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.redGPUContext, uniformBufferDescriptor);\r\n        //\r\n        this.color = color;\r\n        this.#intensity = intensity;\r\n        this.dirtyLight = true;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BaseLight);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/BaseLight.ts?");

/***/ }),

/***/ "./src/light/DirectionalLight.ts":
/*!***************************************!*\
  !*** ./src/light/DirectionalLight.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _BaseLight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseLight */ \"./src/light/BaseLight.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../resource/buffers/uniformBuffer/UniformBufferDescriptor */ \"./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts\");\n/* harmony import */ var _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resource/buffers/TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n\r\n\r\n\r\nconst bufferDefine = new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_1__[\"default\"]([\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x3, valueName: 'color' },\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32, valueName: 'intensity' },\r\n]);\r\nclass DirectionalLight extends _BaseLight__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #targetX = 0;\r\n    get targetX() {\r\n        return this.#targetX;\r\n    }\r\n    set targetX(value) {\r\n        this.#targetX = value;\r\n    }\r\n    #targetY = 0;\r\n    get targetY() {\r\n        return this.#targetY;\r\n    }\r\n    set targetY(value) {\r\n        this.#targetY = value;\r\n    }\r\n    #targetZ = 0;\r\n    get targetZ() {\r\n        return this.#targetZ;\r\n    }\r\n    set targetZ(value) {\r\n        this.#targetZ = value;\r\n    }\r\n    get targetPosition() {\r\n        return [this.#targetX, this.#targetY, this.#targetZ];\r\n    }\r\n    constructor(redGPUContext, color = 0x404040, intensity = 1) {\r\n        super(redGPUContext, bufferDefine, color, intensity);\r\n        this.x = 0;\r\n        this.y = 1;\r\n        this.z = 0;\r\n    }\r\n    setTargetPosition(x, y, z) {\r\n        this.#targetX = x;\r\n        this.#targetY = y;\r\n        this.#targetZ = z;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DirectionalLight);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/DirectionalLight.ts?");

/***/ }),

/***/ "./src/light/LightManager.ts":
/*!***********************************!*\
  !*** ./src/light/LightManager.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _AmbientLight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AmbientLight */ \"./src/light/AmbientLight.ts\");\n/* harmony import */ var _DirectionalLight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DirectionalLight */ \"./src/light/DirectionalLight.ts\");\n/* harmony import */ var _util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/errorFunc/throwError */ \"./src/util/errorFunc/throwError.js\");\n/* harmony import */ var _PointLight__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PointLight */ \"./src/light/PointLight.ts\");\n\r\n\r\n\r\n\r\nclass LightManager {\r\n    static #MAX_DIRECTIONAL_LIGHT_NUM = 3;\r\n    static get MAX_DIRECTIONAL_LIGHT_NUM() {\r\n        return this.#MAX_DIRECTIONAL_LIGHT_NUM;\r\n    }\r\n    static #MAX_POINT_LIGHT_NUM = 1024;\r\n    static get MAX_POINT_LIGHT_NUM() {\r\n        return this.#MAX_POINT_LIGHT_NUM;\r\n    }\r\n    #ambientLight;\r\n    get ambientLight() {\r\n        return this.#ambientLight;\r\n    }\r\n    #directionalLightList = [];\r\n    get directionalLightList() {\r\n        return this.#directionalLightList;\r\n    }\r\n    #pointLightList = [];\r\n    get pointLightList() {\r\n        return this.#pointLightList;\r\n    }\r\n    constructor() {\r\n    }\r\n    addLight(light) {\r\n        if (light instanceof _AmbientLight__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\r\n            this.#ambientLight = light;\r\n        else if (light instanceof _DirectionalLight__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n            if (this.#directionalLightList.length === LightManager.MAX_DIRECTIONAL_LIGHT_NUM) {\r\n                (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('MAX_DIRECTIONAL_LIGHT_NUM :', LightManager.MAX_DIRECTIONAL_LIGHT_NUM);\r\n            }\r\n            this.#directionalLightList.push(light);\r\n        }\r\n        else if (light instanceof _PointLight__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\r\n            if (this.#pointLightList.length === LightManager.MAX_POINT_LIGHT_NUM) {\r\n                (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('MAX_POINT_LIGHT_NUM :', LightManager.MAX_POINT_LIGHT_NUM);\r\n            }\r\n            this.#pointLightList.push(light);\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LightManager);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/LightManager.ts?");

/***/ }),

/***/ "./src/light/PointLight.ts":
/*!*********************************!*\
  !*** ./src/light/PointLight.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _BaseLight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseLight */ \"./src/light/BaseLight.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../resource/buffers/uniformBuffer/UniformBufferDescriptor */ \"./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts\");\n/* harmony import */ var _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resource/buffers/TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n\r\n\r\n\r\nconst bufferDefine = new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_1__[\"default\"]([\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x3, valueName: 'color' },\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32, valueName: 'intensity' },\r\n]);\r\nclass PointLight extends _BaseLight__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #radius = 1;\r\n    get radius() {\r\n        return this.#radius;\r\n    }\r\n    set radius(value) {\r\n        this.#radius = value;\r\n    }\r\n    constructor(redGPUContext, color = 0x404040, intensity = 1) {\r\n        super(redGPUContext, bufferDefine, color, intensity);\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PointLight);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/PointLight.ts?");

/***/ }),

/***/ "./src/light/index.ts":
/*!****************************!*\
  !*** ./src/light/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AmbientLight\": () => (/* reexport safe */ _AmbientLight__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"BaseLight\": () => (/* reexport safe */ _BaseLight__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"DirectionalLight\": () => (/* reexport safe */ _DirectionalLight__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"LightManager\": () => (/* reexport safe */ _LightManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"PointLight\": () => (/* reexport safe */ _PointLight__WEBPACK_IMPORTED_MODULE_4__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _AmbientLight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AmbientLight */ \"./src/light/AmbientLight.ts\");\n/* harmony import */ var _BaseLight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseLight */ \"./src/light/BaseLight.ts\");\n/* harmony import */ var _DirectionalLight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DirectionalLight */ \"./src/light/DirectionalLight.ts\");\n/* harmony import */ var _LightManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LightManager */ \"./src/light/LightManager.ts\");\n/* harmony import */ var _PointLight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PointLight */ \"./src/light/PointLight.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/index.ts?");

/***/ }),

/***/ "./src/light/pointLightCluster/PassLightClusters.ts":
/*!**********************************************************!*\
  !*** ./src/light/pointLightCluster/PassLightClusters.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _PassLightClusters_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PassLightClusters.wgsl */ \"./src/light/pointLightCluster/PassLightClusters.wgsl\");\n/* harmony import */ var _PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PassLightClustersHelper */ \"./src/light/pointLightCluster/PassLightClustersHelper.ts\");\n/* harmony import */ var _systemShaderDefine_shaderDefineReplace__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../systemShaderDefine/shaderDefineReplace */ \"./src/systemShaderDefine/shaderDefineReplace.ts\");\n\r\n\r\n\r\n\r\n/**\r\n * 3D    \r\n */\r\nconst emptyArray = new Uint32Array([0, 0, 0, 0]);\r\nclass PassLightClusters extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #targetView;\r\n    #clusterLightBindGroupLayoutDescriptor;\r\n    #clusterLightBindGroupLayout;\r\n    #clusterLightBindGroup;\r\n    #clusterLightPipeline;\r\n    #clusterLightsBuffer;\r\n    get clusterLightsBuffer() {\r\n        return this.#clusterLightsBuffer;\r\n    }\r\n    #passLightClustersBound;\r\n    #lightInfo;\r\n    #targetSystemUniformsBindGroupLayout;\r\n    constructor(redGPUContext, targetView) {\r\n        super(redGPUContext);\r\n        this.#targetView = targetView;\r\n        this.#targetSystemUniformsBindGroupLayout = targetView.systemUniformsBindGroupLayout;\r\n        this.#passLightClustersBound = targetView.passLightClustersBound;\r\n        this.#lightInfo = targetView.systemClusterLightBufferInfo;\r\n        this.#initPipeLine();\r\n        console.log('PassLightClusters', this);\r\n    }\r\n    #initPipeLine() {\r\n        const { gpuDevice } = this.redGPUContext;\r\n        const source = (0,_systemShaderDefine_shaderDefineReplace__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_PassLightClusters_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n        this.#clusterLightsBuffer = gpuDevice.createBuffer({\r\n            size: _PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getClusterLightBufferSize(),\r\n            usage: GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST\r\n        });\r\n        this.#clusterLightBindGroupLayoutDescriptor = {\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    visibility: GPUShaderStage.COMPUTE,\r\n                    buffer: { type: 'storage' }\r\n                },\r\n                {\r\n                    binding: 1,\r\n                    visibility: GPUShaderStage.COMPUTE,\r\n                    buffer: { type: 'storage' }\r\n                }\r\n            ]\r\n        };\r\n        this.#clusterLightBindGroupLayout = gpuDevice.createBindGroupLayout(this.#clusterLightBindGroupLayoutDescriptor);\r\n        this.#clusterLightBindGroup = gpuDevice.createBindGroup({\r\n            layout: this.#clusterLightBindGroupLayout,\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    resource: {\r\n                        buffer: this.#passLightClustersBound.clusterBoundBuffer,\r\n                    },\r\n                },\r\n                {\r\n                    binding: 1,\r\n                    resource: {\r\n                        buffer: this.#clusterLightsBuffer,\r\n                    },\r\n                }\r\n            ],\r\n        });\r\n        this.#clusterLightPipeline = gpuDevice.createComputePipeline({\r\n            layout: gpuDevice.createPipelineLayout({\r\n                bindGroupLayouts: [\r\n                    this.#targetSystemUniformsBindGroupLayout,\r\n                    this.#clusterLightBindGroupLayout,\r\n                ]\r\n            }),\r\n            compute: {\r\n                module: gpuDevice.createShaderModule({\r\n                    code: source,\r\n                    label: \"Cluster Light\"\r\n                }),\r\n                entryPoint: 'main',\r\n            }\r\n        });\r\n    }\r\n    render(commandEncoder, passEncoder) {\r\n        const systemUniformBindGroup = this.#targetView.renderInfo_SystemUniformBindGroup;\r\n        if (systemUniformBindGroup) {\r\n            const DISPATCH_SIZE = _PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getDispatchSize();\r\n            this.redGPUContext.gpuDevice.queue.writeBuffer(this.clusterLightsBuffer, 0, emptyArray);\r\n            passEncoder.setPipeline(this.#clusterLightPipeline);\r\n            passEncoder.setBindGroup(0, systemUniformBindGroup);\r\n            passEncoder.setBindGroup(1, this.#clusterLightBindGroup);\r\n            passEncoder.dispatchWorkgroups(DISPATCH_SIZE[0], DISPATCH_SIZE[1], DISPATCH_SIZE[2]);\r\n            // console.log(passEncoder)\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PassLightClusters);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/pointLightCluster/PassLightClusters.ts?");

/***/ }),

/***/ "./src/light/pointLightCluster/PassLightClustersBound.ts":
/*!***************************************************************!*\
  !*** ./src/light/pointLightCluster/PassLightClustersBound.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _PassLightClustersBound_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PassLightClustersBound.wgsl */ \"./src/light/pointLightCluster/PassLightClustersBound.wgsl\");\n/* harmony import */ var _PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PassLightClustersHelper */ \"./src/light/pointLightCluster/PassLightClustersHelper.ts\");\n/* harmony import */ var _systemShaderDefine_shaderDefineReplace__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../systemShaderDefine/shaderDefineReplace */ \"./src/systemShaderDefine/shaderDefineReplace.ts\");\n\r\n\r\n\r\n\r\n/**\r\n * 3D    \r\n */\r\nclass PassLightClustersBound extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #targetView;\r\n    #clusterBoundBuffer;\r\n    get clusterBoundBuffer() {\r\n        return this.#clusterBoundBuffer;\r\n    }\r\n    #clusterBoundBindGroupLayoutDescriptor;\r\n    #clusterBoundBindGroupLayout;\r\n    #clusterBoundBindGroup;\r\n    #clusterBoundPipeline;\r\n    #targetSystemUniformsBindGroupLayout;\r\n    constructor(redGPUContext, targetView) {\r\n        super(redGPUContext);\r\n        this.#targetView = targetView;\r\n        this.#targetSystemUniformsBindGroupLayout = targetView.systemUniformsBindGroupLayout;\r\n        this.#initPipeLine();\r\n        console.log('PassLightClustersBound', this);\r\n    }\r\n    render(commandEncoder, passEncoder) {\r\n        const systemUniformBindGroup = this.#targetView.renderInfo_SystemUniformBindGroup;\r\n        if (systemUniformBindGroup) {\r\n            const DISPATCH_SIZE = _PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getDispatchSize();\r\n            passEncoder.setPipeline(this.#clusterBoundPipeline);\r\n            passEncoder.setBindGroup(0, systemUniformBindGroup);\r\n            passEncoder.setBindGroup(1, this.#clusterBoundBindGroup);\r\n            passEncoder.dispatchWorkgroups(DISPATCH_SIZE[0], DISPATCH_SIZE[1], DISPATCH_SIZE[2]);\r\n        }\r\n    }\r\n    #initPipeLine() {\r\n        const { gpuDevice } = this.redGPUContext;\r\n        const source = (0,_systemShaderDefine_shaderDefineReplace__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_PassLightClustersBound_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n        this.#clusterBoundBuffer = gpuDevice.createBuffer({\r\n            size: _PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTotalTileSize() * 32,\r\n            usage: GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST\r\n        });\r\n        this.#clusterBoundBindGroupLayoutDescriptor = {\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    visibility: GPUShaderStage.COMPUTE,\r\n                    buffer: { type: 'storage' }\r\n                }\r\n            ]\r\n        };\r\n        this.#clusterBoundBindGroupLayout = gpuDevice.createBindGroupLayout(this.#clusterBoundBindGroupLayoutDescriptor);\r\n        this.#clusterBoundBindGroup = gpuDevice.createBindGroup({\r\n            layout: this.#clusterBoundBindGroupLayout,\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    resource: {\r\n                        buffer: this.#clusterBoundBuffer,\r\n                    },\r\n                }\r\n            ],\r\n        });\r\n        this.#clusterBoundPipeline = gpuDevice.createComputePipeline({\r\n            layout: gpuDevice.createPipelineLayout({\r\n                bindGroupLayouts: [\r\n                    this.#targetSystemUniformsBindGroupLayout,\r\n                    this.#clusterBoundBindGroupLayout,\r\n                ]\r\n            }),\r\n            compute: {\r\n                module: gpuDevice.createShaderModule({\r\n                    code: source,\r\n                    label: \"Cluster Bounds\"\r\n                }),\r\n                entryPoint: 'main',\r\n            }\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PassLightClustersBound);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/pointLightCluster/PassLightClustersBound.ts?");

/***/ }),

/***/ "./src/light/pointLightCluster/PassLightClustersHelper.ts":
/*!****************************************************************!*\
  !*** ./src/light/pointLightCluster/PassLightClustersHelper.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst PassLightClustersHelper = {\r\n    TILE_COUNT_X: 32,\r\n    TILE_COUNT_Y: 32,\r\n    TILE_COUNT_Z: 128,\r\n    WORKGROUP_SIZE_X: 4,\r\n    WORKGROUP_SIZE_Y: 4,\r\n    WORKGROUP_SIZE_Z: 16,\r\n    MAX_POINT_LIGHTS_PER_CLUSTER: 32,\r\n    getTotalTileSize: () => PassLightClustersHelper.TILE_COUNT_X * PassLightClustersHelper.TILE_COUNT_Y * PassLightClustersHelper.TILE_COUNT_Z,\r\n    getClusterLightBufferSize: () => {\r\n        const totalTileSize = PassLightClustersHelper.getTotalTileSize();\r\n        return (8 * totalTileSize) + (8 * PassLightClustersHelper.MAX_POINT_LIGHTS_PER_CLUSTER * totalTileSize) + 4;\r\n    },\r\n    getDispatchSize: () => [\r\n        Math.ceil(PassLightClustersHelper.TILE_COUNT_X / PassLightClustersHelper.WORKGROUP_SIZE_X),\r\n        Math.ceil(PassLightClustersHelper.TILE_COUNT_Y / PassLightClustersHelper.WORKGROUP_SIZE_Y),\r\n        Math.ceil(PassLightClustersHelper.TILE_COUNT_Z / PassLightClustersHelper.WORKGROUP_SIZE_Z)\r\n    ]\r\n};\r\nObject.freeze(PassLightClustersHelper);\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PassLightClustersHelper);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/pointLightCluster/PassLightClustersHelper.ts?");

/***/ }),

/***/ "./src/light/pointLightCluster/index.ts":
/*!**********************************************!*\
  !*** ./src/light/pointLightCluster/index.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PassLightClusters\": () => (/* reexport safe */ _PassLightClusters__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"PassLightClustersBound\": () => (/* reexport safe */ _PassLightClustersBound__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"PassLightClustersHelper\": () => (/* reexport safe */ _PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _PassLightClustersBound__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PassLightClustersBound */ \"./src/light/pointLightCluster/PassLightClustersBound.ts\");\n/* harmony import */ var _PassLightClusters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PassLightClusters */ \"./src/light/pointLightCluster/PassLightClusters.ts\");\n/* harmony import */ var _PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PassLightClustersHelper */ \"./src/light/pointLightCluster/PassLightClustersHelper.ts\");\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/light/pointLightCluster/index.ts?");

/***/ }),

/***/ "./src/main/render/Renderer.ts":
/*!*************************************!*\
  !*** ./src/main/render/Renderer.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _renderFinal_FinalRenderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderFinal/FinalRenderer */ \"./src/main/render/renderFinal/FinalRenderer.ts\");\n\r\n\r\nclass Renderer extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #prevViewNum = 0;\r\n    #prevTime;\r\n    #requestID;\r\n    #prevUseMultiSample;\r\n    #finalRenderer;\r\n    #mainRender;\r\n    get mainRender() {\r\n        return this.#mainRender;\r\n    }\r\n    set mainRender(value) {\r\n        this.#mainRender = value;\r\n    }\r\n    #afterRender;\r\n    get afterRender() {\r\n        return this.#afterRender;\r\n    }\r\n    set afterRender(value) {\r\n        this.#afterRender = value;\r\n    }\r\n    #beforeRender;\r\n    get beforeRender() {\r\n        return this.#beforeRender;\r\n    }\r\n    set beforeRender(value) {\r\n        this.#beforeRender = value;\r\n    }\r\n    constructor(redGPUContext) {\r\n        super(redGPUContext);\r\n        this.#finalRenderer = new _renderFinal_FinalRenderer__WEBPACK_IMPORTED_MODULE_1__[\"default\"](redGPUContext);\r\n    }\r\n    startRender() {\r\n        this.#prevTime = performance.now();\r\n        this.renderFrame();\r\n    }\r\n    stopRender() {\r\n        this.#prevTime = performance.now();\r\n        cancelAnimationFrame(this.#requestID);\r\n    }\r\n    renderFrame(nowTime = 0) {\r\n        // nowTime = performance.now()\r\n        const redGPUContext = this.redGPUContext;\r\n        const targetDebugger = redGPUContext.debugger;\r\n        const soloRenderYn = redGPUContext.viewList.length === 1;\r\n        if (nowTime - this.#prevTime > 8) {\r\n            redGPUContext.viewList.forEach(view => this.#renderView(view, nowTime, redGPUContext, soloRenderYn));\r\n            if (!soloRenderYn) {\r\n                this.#finalRenderer.render(redGPUContext.viewList);\r\n            }\r\n            this.#prevTime = nowTime;\r\n            targetDebugger.render();\r\n            redGPUContext.dirtyMultiSample = false;\r\n        }\r\n        this.#requestID = requestAnimationFrame((time) => {\r\n            this.renderFrame(time);\r\n        });\r\n    }\r\n    #renderView(view, nowTime, redGPUContext, soloRender = true) {\r\n        const { scene } = view;\r\n        let beforeTime = 0;\r\n        let mainTime = 0;\r\n        let afterTime = 0;\r\n        let checkStartTime = nowTime;\r\n        if (this.#beforeRender) {\r\n            this.#beforeRender(nowTime, view, scene);\r\n        }\r\n        beforeTime = performance.now() - checkStartTime;\r\n        checkStartTime = performance.now();\r\n        if (this.#mainRender) {\r\n            this.#mainRender(nowTime, view, scene);\r\n        }\r\n        if (view.camera.dirtyTransformState)\r\n            view.camera.update();\r\n        let renderMeshNum = 0;\r\n        let triangleNum = 0;\r\n        const { gpuDevice, gpuContext } = redGPUContext;\r\n        const commandEncoder = gpuDevice.createCommandEncoder();\r\n        if (soloRender) {\r\n            view.resolveTexture = gpuContext.getCurrentTexture();\r\n            view.resolveTextureView = view.resolveTexture.createView();\r\n        }\r\n        if (redGPUContext.dirtyMultiSample\r\n            || !view.resultTexture\r\n            || view.resultTexture.width !== view.pixelViewRect[2]\r\n            || view.resultTexture.height !== view.pixelViewRect[3]) {\r\n            const size = [view.pixelViewRect[2], view.pixelViewRect[3]];\r\n            const sampleCount = redGPUContext.useMultiSample ? 4 : 1;\r\n            const usage = soloRender ? GPUTextureUsage.RENDER_ATTACHMENT : (GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.TEXTURE_BINDING);\r\n            const format = navigator.gpu.getPreferredCanvasFormat();\r\n            view.resultTexture = gpuDevice.createTexture({\r\n                size,\r\n                sampleCount,\r\n                format,\r\n                usage\r\n            });\r\n            view.resultTextureView = view.resultTexture.createView();\r\n            ///////////\r\n            if (soloRender) {\r\n            }\r\n            else {\r\n                view.resolveTexture = gpuDevice.createTexture({\r\n                    size,\r\n                    sampleCount: 1,\r\n                    format,\r\n                    usage,\r\n                });\r\n                view.resolveTextureView = view.resolveTexture.createView();\r\n            }\r\n            ///////////\r\n            view.depthTexture = gpuDevice.createTexture({\r\n                size,\r\n                sampleCount,\r\n                format: 'depth24plus-stencil8',\r\n                usage,\r\n            });\r\n            view.depthTextureView = view.depthTexture.createView();\r\n            console.log('');\r\n        }\r\n        const { backgroundColorRGB, backgroundAlpha } = scene;\r\n        const renderPassDescriptor = {\r\n            /**\r\n             * @typedef {GPURenderPassColorAttachment}\r\n             */\r\n            colorAttachments: [\r\n                {\r\n                    view: redGPUContext.useMultiSample ? view.resultTextureView : view.resolveTextureView,\r\n                    resolveTarget: redGPUContext.useMultiSample ? view.resolveTextureView : undefined,\r\n                    // TODO - Scene   \r\n                    clearValue: { r: backgroundColorRGB[0], g: backgroundColorRGB[1], b: backgroundColorRGB[2], a: backgroundAlpha },\r\n                    loadOp: 'clear',\r\n                    storeOp: 'store',\r\n                },\r\n            ],\r\n            depthStencilAttachment: {\r\n                view: view.depthTextureView,\r\n                depthClearValue: 1.0,\r\n                depthLoadOp: \"clear\",\r\n                depthStoreOp: \"store\",\r\n                stencilClearValue: 0,\r\n                stencilLoadOp: \"load\",\r\n                stencilStoreOp: \"store\",\r\n            }\r\n        };\r\n        const passEncoder = commandEncoder.beginRenderPass(renderPassDescriptor);\r\n        passEncoder.setBindGroup(0, view.renderInfo_SystemUniformBindGroup);\r\n        passEncoder.setViewport(0, 0, view.pixelViewRect[2], view.pixelViewRect[3], 0, 1);\r\n        passEncoder.setScissorRect(0, 0, view.pixelViewRect[2], view.pixelViewRect[3]);\r\n        view.updateSystemUniform();\r\n        view.updateClusterLight();\r\n        /////////\r\n        scene.skyBox?.render(view, passEncoder, nowTime);\r\n        scene.grid?.render(view, passEncoder, nowTime);\r\n        scene.axis?.render(view, passEncoder, nowTime);\r\n        /////////\r\n        {\r\n            const list = view.scene.children;\r\n            let i = view.scene.children.length;\r\n            while (i--) {\r\n                const t0 = list[i].render(view, passEncoder, nowTime);\r\n                renderMeshNum += t0 ? 1 : 0;\r\n                if (t0.geometry)\r\n                    triangleNum += t0.geometry.indexBuffer.indexNum / 3;\r\n            }\r\n        }\r\n        //\r\n        passEncoder.end();\r\n        gpuDevice.queue.submit([commandEncoder.finish()]);\r\n        mainTime = performance.now() - checkStartTime;\r\n        checkStartTime = performance.now();\r\n        if (this.#afterRender) {\r\n            this.#afterRender(nowTime, view, scene);\r\n        }\r\n        afterTime = performance.now() - checkStartTime;\r\n        {\r\n            view.viewDebugger.update(view, scene, nowTime, this.#prevTime, beforeTime, mainTime, afterTime, renderMeshNum, triangleNum);\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Renderer);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/render/Renderer.ts?");

/***/ }),

/***/ "./src/main/render/index.ts":
/*!**********************************!*\
  !*** ./src/main/render/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Renderer\": () => (/* reexport safe */ _Renderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Renderer */ \"./src/main/render/Renderer.ts\");\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/render/index.ts?");

/***/ }),

/***/ "./src/main/render/renderFinal/FinalRenderer.ts":
/*!******************************************************!*\
  !*** ./src/main/render/renderFinal/FinalRenderer.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _vertex_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vertex.wgsl */ \"./src/main/render/renderFinal/vertex.wgsl\");\n/* harmony import */ var _fragment_wgsl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fragment.wgsl */ \"./src/main/render/renderFinal/fragment.wgsl\");\n/* harmony import */ var _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/gl-matrix */ \"./src/util/gl-matrix/index.js\");\n\r\n\r\n\r\n\r\nclass FinalRenderer extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    vertexBuffer;\r\n    sampler;\r\n    uniformsBindGroupLayout;\r\n    uniformBindGroup;\r\n    pipeline;\r\n    #matrix;\r\n    pixelViewRect;\r\n    constructor(redGPUContext) {\r\n        super(redGPUContext);\r\n        const { gpuDevice } = redGPUContext;\r\n        const vShaderModule = makeShaderModule(gpuDevice, _vertex_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n        const fShaderModule = makeShaderModule(gpuDevice, _fragment_wgsl__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n        console.log(vShaderModule, fShaderModule);\r\n        this.#matrix = _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.create();\r\n        ////////////////////////////////////////////////////////////////////////\r\n        // make vertexBuffer\r\n        this.vertexBuffer = makeVertexBuffer(gpuDevice, new Float32Array([\r\n            //x,y,z,w, u,v\r\n            -1.0, -1.0, 0.0, 1.0, 0.0, 1.0,\r\n            1.0, -1.0, 0.0, 1.0, 1.0, 1.0,\r\n            -1.0, 1.0, 0.0, 1.0, 0.0, 0.0,\r\n            -1.0, 1.0, 0.0, 1.0, 0.0, 0.0,\r\n            1.0, -1.0, 0.0, 1.0, 1.0, 1.0,\r\n            1.0, 1.0, 0.0, 1.0, 1.0, 0.0\r\n        ]));\r\n        this.uniformsBindGroupLayout = gpuDevice.createBindGroupLayout({\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    visibility: GPUShaderStage.VERTEX,\r\n                    buffer: {\r\n                        type: 'uniform',\r\n                    },\r\n                },\r\n                {\r\n                    binding: 1,\r\n                    visibility: GPUShaderStage.FRAGMENT,\r\n                    sampler: {\r\n                        type: 'filtering',\r\n                    },\r\n                },\r\n                {\r\n                    binding: 2,\r\n                    visibility: GPUShaderStage.FRAGMENT,\r\n                    texture: {}\r\n                }\r\n            ]\r\n        });\r\n        this.sampler = gpuDevice.createSampler({\r\n            magFilter: \"linear\",\r\n            minFilter: \"linear\",\r\n            mipmapFilter: \"nearest\"\r\n        });\r\n        /////\r\n        const presentationFormat = navigator.gpu.getPreferredCanvasFormat();\r\n        const pipeLineDescriptor = {\r\n            // set bindGroupLayouts\r\n            layout: gpuDevice.createPipelineLayout({ bindGroupLayouts: [this.uniformsBindGroupLayout] }),\r\n            vertex: {\r\n                module: vShaderModule,\r\n                entryPoint: 'main',\r\n                buffers: [\r\n                    {\r\n                        arrayStride: 6 * Float32Array.BYTES_PER_ELEMENT,\r\n                        attributes: [\r\n                            {\r\n                                // position\r\n                                shaderLocation: 0,\r\n                                offset: 0,\r\n                                format: \"float32x4\"\r\n                            },\r\n                            {\r\n                                // uv\r\n                                shaderLocation: 1,\r\n                                offset: 4 * Float32Array.BYTES_PER_ELEMENT,\r\n                                format: \"float32x2\"\r\n                            },\r\n                        ]\r\n                    }\r\n                ]\r\n            },\r\n            fragment: {\r\n                module: fShaderModule,\r\n                entryPoint: 'main',\r\n                targets: [\r\n                    {\r\n                        format: presentationFormat,\r\n                        blend: {\r\n                            color: {\r\n                                srcFactor: \"src-alpha\",\r\n                                dstFactor: \"one-minus-src-alpha\",\r\n                                operation: \"add\"\r\n                            },\r\n                            alpha: {\r\n                                srcFactor: \"one\",\r\n                                dstFactor: \"one-minus-src-alpha\",\r\n                                operation: \"add\"\r\n                            }\r\n                        }\r\n                    },\r\n                ],\r\n            },\r\n        };\r\n        this.pipeline = gpuDevice.createRenderPipeline(pipeLineDescriptor);\r\n        /////\r\n    }\r\n    render(viewList) {\r\n        const redGPUContext = this.redGPUContext;\r\n        const { gpuDevice, gpuContext, pixelSize } = redGPUContext;\r\n        const commandEncoder = gpuDevice.createCommandEncoder();\r\n        const textureView = gpuContext.getCurrentTexture().createView();\r\n        const renderPassDescriptor = {\r\n            /**\r\n             * @typedef {GPURenderPassColorAttachment}\r\n             */\r\n            colorAttachments: [\r\n                {\r\n                    view: textureView,\r\n                    clearValue: { r: 0.0, g: 0.0, b: 0.0, a: 0.0 },\r\n                    loadOp: 'clear',\r\n                    storeOp: 'store',\r\n                },\r\n            ],\r\n            // depthStencilAttachment: {\r\n            //     view: this.depthTextureView,\r\n            //     depthClearValue: 1.0,\r\n            //     depthLoadOp: \"clear\",\r\n            //     depthStoreOp: \"store\",\r\n            //     stencilClearValue: 0,\r\n            //     stencilLoadOp: \"load\",\r\n            //     stencilStoreOp: \"store\",\r\n            // }\r\n        };\r\n        const passEncoder = commandEncoder.beginRenderPass(renderPassDescriptor);\r\n        passEncoder.setPipeline(this.pipeline);\r\n        //\r\n        passEncoder.setViewport(0, 0, pixelSize.width, pixelSize.height, 0, 1);\r\n        passEncoder.setScissorRect(0, 0, pixelSize.width, pixelSize.height);\r\n        viewList.forEach((view) => {\r\n            const { pixelViewRect } = view;\r\n            const uniformBindGroupDescriptor = {\r\n                layout: this.uniformsBindGroupLayout,\r\n                entries: [\r\n                    {\r\n                        binding: 0,\r\n                        resource: {\r\n                            buffer: view.finalRenderUniformBuffer,\r\n                            offset: 0,\r\n                            size: 4 * 4 * Float32Array.BYTES_PER_ELEMENT\r\n                        }\r\n                    },\r\n                    {\r\n                        binding: 1,\r\n                        resource: this.sampler,\r\n                    },\r\n                    {\r\n                        binding: 2,\r\n                        resource: view.resolveTextureView,\r\n                    }\r\n                ]\r\n            };\r\n            this.uniformBindGroup = gpuDevice.createBindGroup(uniformBindGroupDescriptor);\r\n            passEncoder.setVertexBuffer(0, this.vertexBuffer);\r\n            passEncoder.setBindGroup(0, this.uniformBindGroup);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.identity(this.#matrix);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.ortho(this.#matrix, 0., // left\r\n            1., // right\r\n            0., // bottom\r\n            1., // top,\r\n            -1000, 1000);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.scale(this.#matrix, this.#matrix, [\r\n                1 / pixelSize.width,\r\n                1 / pixelSize.height,\r\n                1\r\n            ]);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.translate(this.#matrix, this.#matrix, [\r\n                pixelViewRect[2] / 2 + pixelViewRect[0],\r\n                pixelSize.height - pixelViewRect[3] / 2 - pixelViewRect[1],\r\n                0\r\n            ]);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.mat4.scale(this.#matrix, this.#matrix, [\r\n                pixelViewRect[2] / 2,\r\n                pixelViewRect[3] / 2,\r\n                1\r\n            ]);\r\n            gpuDevice.queue.writeBuffer(view.finalRenderUniformBuffer, 0, this.#matrix);\r\n            ///////////////////////////////////////////////////////////////////\r\n            // setVertexBuffer\r\n            passEncoder.draw(6, 1, 0, 0);\r\n        });\r\n        passEncoder.setViewport(0, 0, pixelSize.width, pixelSize.height, 0, 1);\r\n        passEncoder.setScissorRect(0, 0, pixelSize.width, pixelSize.height);\r\n        //\r\n        passEncoder.end();\r\n        gpuDevice.queue.submit([commandEncoder.finish()]);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FinalRenderer);\r\nfunction makeShaderModule(device, source) {\r\n    const shaderModuleDescriptor = {\r\n        code: source\r\n    };\r\n    return device.createShaderModule(shaderModuleDescriptor);\r\n}\r\nfunction makeVertexBuffer(device, data) {\r\n    console.log(`// makeVertexBuffer start /////////////////////////////////////////////////////////////`);\r\n    let bufferDescriptor = {\r\n        size: data.byteLength,\r\n        usage: GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST\r\n    };\r\n    let verticesBuffer = device.createBuffer(bufferDescriptor);\r\n    console.log('bufferDescriptor', bufferDescriptor);\r\n    device.queue.writeBuffer(verticesBuffer, 0, data);\r\n    console.log('verticesBuffer', verticesBuffer);\r\n    console.log(`// makeVertexBuffer end /////////////////////////////////////////////////////////////`);\r\n    return verticesBuffer;\r\n}\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/render/renderFinal/FinalRenderer.ts?");

/***/ }),

/***/ "./src/main/scene/Scene.ts":
/*!*********************************!*\
  !*** ./src/main/scene/Scene.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _object3d_base_DisplayContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../object3d/base/DisplayContainer */ \"./src/object3d/base/DisplayContainer.ts\");\n/* harmony import */ var _light_LightManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../light/LightManager */ \"./src/light/LightManager.ts\");\n/* harmony import */ var _util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/color/hexadecimalToRgb */ \"./src/util/color/hexadecimalToRgb.ts\");\n\r\n\r\n\r\nlet UUID = 0;\r\nclass Scene extends _object3d_base_DisplayContainer__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #axis;\r\n    get axis() {\r\n        return this.#axis;\r\n    }\r\n    set axis(value) {\r\n        this.#axis = value;\r\n    }\r\n    #skyBox;\r\n    get skyBox() {\r\n        return this.#skyBox;\r\n    }\r\n    set skyBox(value) {\r\n        this.#skyBox = value;\r\n    }\r\n    #grid;\r\n    get grid() {\r\n        return this.#grid;\r\n    }\r\n    set grid(value) {\r\n        this.#grid = value;\r\n    }\r\n    #label;\r\n    get label() {\r\n        return this.#label;\r\n    }\r\n    /**\r\n     * lightManager\r\n     * @private\r\n     */\r\n    #lightManager;\r\n    /**\r\n     * lightManager\r\n     */\r\n    get lightManager() {\r\n        return this.#lightManager;\r\n    }\r\n    #backgroundColorRGB = [0, 0, 0];\r\n    get backgroundColorRGB() {\r\n        return this.#backgroundColorRGB;\r\n    }\r\n    #backgroundColor = 0x000000;\r\n    get backgroundColor() {\r\n        return this.#backgroundColor;\r\n    }\r\n    set backgroundColor(value) {\r\n        this.#backgroundColor = value;\r\n        let rgb = (0,_util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value);\r\n        this.#backgroundColorRGB[0] = rgb.r;\r\n        this.#backgroundColorRGB[1] = rgb.g;\r\n        this.#backgroundColorRGB[2] = rgb.b;\r\n    }\r\n    #backgroundAlpha = 1;\r\n    get backgroundAlpha() {\r\n        return this.#backgroundAlpha;\r\n    }\r\n    set backgroundAlpha(value) {\r\n        this.#backgroundAlpha = value;\r\n    }\r\n    /**\r\n     * @constructor Scene\r\n     *\r\n\r\n     */\r\n    constructor(label) {\r\n        super();\r\n        this.#label = label || `Scene${UUID++} (Label input is recommended.)`;\r\n        this.#lightManager = new _light_LightManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Scene);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/Scene.ts?");

/***/ }),

/***/ "./src/main/scene/index.ts":
/*!*********************************!*\
  !*** ./src/main/scene/index.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Axis\": () => (/* reexport safe */ _sceneHelper__WEBPACK_IMPORTED_MODULE_2__.Axis),\n/* harmony export */   \"Grid\": () => (/* reexport safe */ _sceneHelper__WEBPACK_IMPORTED_MODULE_2__.Grid),\n/* harmony export */   \"NormalHelper\": () => (/* reexport safe */ _sceneHelper__WEBPACK_IMPORTED_MODULE_2__.NormalHelper),\n/* harmony export */   \"Scene\": () => (/* reexport safe */ _Scene__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"SkyBox\": () => (/* reexport safe */ _skyBox_SkyBox__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _Scene__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Scene */ \"./src/main/scene/Scene.ts\");\n/* harmony import */ var _skyBox_SkyBox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./skyBox/SkyBox */ \"./src/main/scene/skyBox/SkyBox.ts\");\n/* harmony import */ var _sceneHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sceneHelper */ \"./src/main/scene/sceneHelper/index.ts\");\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/index.ts?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/asix/Axis.ts":
/*!*************************************************!*\
  !*** ./src/main/scene/sceneHelper/asix/Axis.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../object3d/mesh/Mesh */ \"./src/object3d/mesh/Mesh.ts\");\n/* harmony import */ var _resource_geometry_primitives_Sphere__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../resource/geometry/primitives/Sphere */ \"./src/resource/geometry/primitives/Sphere.ts\");\n/* harmony import */ var _material_colorMaterial_ColorMaterial__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../material/colorMaterial/ColorMaterial */ \"./src/material/colorMaterial/ColorMaterial.ts\");\n/* harmony import */ var _resource_geometry_primitives_Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../resource/geometry/primitives/Box */ \"./src/resource/geometry/primitives/Box.ts\");\n\r\n\r\n\r\n\r\nclass Axis extends _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh {\r\n    constructor(redGPUContext) {\r\n        super(redGPUContext, null, null);\r\n        const centerMesh = new _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh(redGPUContext, new _resource_geometry_primitives_Sphere__WEBPACK_IMPORTED_MODULE_1__[\"default\"](redGPUContext, 0.5), new _material_colorMaterial_ColorMaterial__WEBPACK_IMPORTED_MODULE_2__[\"default\"](redGPUContext));\r\n        this.addChild(centerMesh);\r\n        let tAxis;\r\n        const tGeo = new _resource_geometry_primitives_Box__WEBPACK_IMPORTED_MODULE_3__[\"default\"](redGPUContext);\r\n        const tMatX = new _material_colorMaterial_ColorMaterial__WEBPACK_IMPORTED_MODULE_2__[\"default\"](redGPUContext, 0xff0000);\r\n        const tMatY = new _material_colorMaterial_ColorMaterial__WEBPACK_IMPORTED_MODULE_2__[\"default\"](redGPUContext, 0x00ff00);\r\n        const tMatZ = new _material_colorMaterial_ColorMaterial__WEBPACK_IMPORTED_MODULE_2__[\"default\"](redGPUContext, 0x0000ff);\r\n        // xAxis\r\n        tAxis = new _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh(redGPUContext, tGeo, tMatX);\r\n        tAxis.setScale(5, 0.1, 0.1);\r\n        tAxis.x = 2.5;\r\n        this.addChild(tAxis);\r\n        ////////////////////////////////////////////\r\n        // yAxis\r\n        tAxis = new _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh(redGPUContext, tGeo, tMatY);\r\n        tAxis.setScale(0.1, 5, 0.1);\r\n        tAxis.y = 2.5;\r\n        this.addChild(tAxis);\r\n        ////////////////////////////////////////////\r\n        // zAxis\r\n        tAxis = new _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh(redGPUContext, tGeo, tMatZ);\r\n        tAxis.setScale(0.1, 0.1, 5);\r\n        tAxis.z = 2.5;\r\n        this.addChild(tAxis);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Axis);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/asix/Axis.ts?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/grid/Grid.ts":
/*!*************************************************!*\
  !*** ./src/main/scene/sceneHelper/grid/Grid.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../object3d/mesh/Mesh */ \"./src/object3d/mesh/Mesh.ts\");\n/* harmony import */ var _resource_geometry_Geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../resource/geometry/Geometry */ \"./src/resource/geometry/Geometry.ts\");\n/* harmony import */ var _resource_buffers_interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../resource/buffers/interleaveInfo/InterleaveInfo */ \"./src/resource/buffers/interleaveInfo/InterleaveInfo.ts\");\n/* harmony import */ var _resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../resource/buffers/interleaveInfo/InterleaveUnit */ \"./src/resource/buffers/interleaveInfo/InterleaveUnit.ts\");\n/* harmony import */ var _GridMaterial__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GridMaterial */ \"./src/main/scene/sceneHelper/grid/GridMaterial.ts\");\n/* harmony import */ var _util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/color/hexadecimalToRgb */ \"./src/util/color/hexadecimalToRgb.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Grid extends _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh {\r\n    #size = 100;\r\n    get size() {\r\n        return this.#size;\r\n    }\r\n    set size(value) {\r\n        this.#size = value;\r\n        this.#update();\r\n    }\r\n    #divisions = 100;\r\n    get divisions() {\r\n        return this.#divisions;\r\n    }\r\n    set divisions(value) {\r\n        this.#divisions = value;\r\n        this.#update();\r\n    }\r\n    #centerColor = 0xcccccc;\r\n    get centerColor() {\r\n        return this.#centerColor;\r\n    }\r\n    set centerColor(value) {\r\n        this.#centerColor = value;\r\n        this.#update();\r\n    }\r\n    #color = 0x666666;\r\n    get color() {\r\n        return this.#color;\r\n    }\r\n    set color(value) {\r\n        this.#color = value;\r\n        this.#update();\r\n    }\r\n    constructor(redGPUContext, size = 100, divisions = 100, centerColor = 0xcccccc, color = 0x666666) {\r\n        super(redGPUContext);\r\n        this.#size = size;\r\n        this.#divisions = divisions;\r\n        this.#centerColor = centerColor;\r\n        this.#color = color;\r\n        this.topology = 'line-list';\r\n        this.#update();\r\n    }\r\n    #update() {\r\n        let redGPUContext = this.redGPUContext;\r\n        let center, step, halfSize;\r\n        let i, k, tColor;\r\n        let interleaveData = [];\r\n        center = this.divisions / 2;\r\n        step = this.size / this.divisions;\r\n        halfSize = this.size / 2;\r\n        for (i = 0, k = -halfSize; i <= this.divisions; i++, k += step) {\r\n            tColor = i === center ? (0,_util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.centerColor) : (0,_util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.color);\r\n            interleaveData.push(-halfSize, 0, k, tColor.r, tColor.g, tColor.b, 1, halfSize, 0, k, tColor.r, tColor.g, tColor.b, 1, k, 0, -halfSize, tColor.r, tColor.g, tColor.b, 1, k, 0, halfSize, tColor.r, tColor.g, tColor.b, 1);\r\n        }\r\n        this.geometry = new _resource_geometry_Geometry__WEBPACK_IMPORTED_MODULE_1__[\"default\"](redGPUContext, new Float32Array(interleaveData), new _resource_buffers_interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_2__[\"default\"]([\r\n            new _resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_3__[\"default\"].VERTEX_POSITION, 'float32x3'),\r\n            new _resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_3__[\"default\"].VERTEX_COLOR, 'float32x4')\r\n        ]));\r\n        this.material = new _GridMaterial__WEBPACK_IMPORTED_MODULE_4__[\"default\"](redGPUContext);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Grid);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/grid/Grid.ts?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/grid/GridMaterial.ts":
/*!*********************************************************!*\
  !*** ./src/main/scene/sceneHelper/grid/GridMaterial.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertex.wgsl */ \"./src/main/scene/sceneHelper/grid/vertex.wgsl\");\n/* harmony import */ var _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragment.wgsl */ \"./src/main/scene/sceneHelper/grid/fragment.wgsl\");\n/* harmony import */ var _material_BaseMaterial__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../material/BaseMaterial */ \"./src/material/BaseMaterial.ts\");\n\r\n\r\n\r\nconst fragmentUniformBufferDescriptor = [];\r\nconst fragmentUniformBindGroupLayoutDescriptor = {\r\n    entries: []\r\n};\r\nclass GridMaterial extends _material_BaseMaterial__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\r\n    /**\r\n     *\r\n     * @param redGPUContext\r\n     */\r\n    constructor(redGPUContext) {\r\n        super(redGPUContext, _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"], fragmentUniformBufferDescriptor, fragmentUniformBindGroupLayoutDescriptor);\r\n        this.#initFragmentUniformInfo();\r\n        // console.log(this)\r\n    }\r\n    /**\r\n     * @constructs\r\n     * @private\r\n     */\r\n    #initFragmentUniformInfo() {\r\n        this.updateBindGroup();\r\n    }\r\n    updateBindGroup() {\r\n        this.updateFragmentUniformBindGroup({\r\n            layout: this.renderInfo_FragmentUniformsBindGroupLayout,\r\n            entries: []\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridMaterial);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/grid/GridMaterial.ts?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/index.ts":
/*!*********************************************!*\
  !*** ./src/main/scene/sceneHelper/index.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Axis\": () => (/* reexport safe */ _asix_Axis__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"Grid\": () => (/* reexport safe */ _grid_Grid__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"NormalHelper\": () => (/* reexport safe */ _normalHelper_NormalHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _normalHelper_NormalHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./normalHelper/NormalHelper */ \"./src/main/scene/sceneHelper/normalHelper/NormalHelper.ts\");\n/* harmony import */ var _grid_Grid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grid/Grid */ \"./src/main/scene/sceneHelper/grid/Grid.ts\");\n/* harmony import */ var _asix_Axis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./asix/Axis */ \"./src/main/scene/sceneHelper/asix/Axis.ts\");\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/index.ts?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/normalHelper/NormalHelper.ts":
/*!*****************************************************************!*\
  !*** ./src/main/scene/sceneHelper/normalHelper/NormalHelper.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../resource/buffers/uniformBuffer/UniformBufferDescriptor */ \"./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts\");\n/* harmony import */ var _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../resource/buffers/TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n/* harmony import */ var _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../object3d/mesh/Mesh */ \"./src/object3d/mesh/Mesh.ts\");\n/* harmony import */ var _resource_geometry_Geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../resource/geometry/Geometry */ \"./src/resource/geometry/Geometry.ts\");\n/* harmony import */ var _resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../resource/buffers/interleaveInfo/InterleaveUnit */ \"./src/resource/buffers/interleaveInfo/InterleaveUnit.ts\");\n/* harmony import */ var _resource_buffers_interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../resource/buffers/interleaveInfo/InterleaveInfo */ \"./src/resource/buffers/interleaveInfo/InterleaveInfo.ts\");\n/* harmony import */ var _util_gl_matrix__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/gl-matrix */ \"./src/util/gl-matrix/index.js\");\n/* harmony import */ var _NormalHelperMaterial__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./NormalHelperMaterial */ \"./src/main/scene/sceneHelper/normalHelper/NormalHelperMaterial.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst vertexUniformBufferDescriptor = new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]([\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mat4, valueName: 'modelMatrix' },\r\n]);\r\nconst vertexUniformBindGroupLayoutDescriptor = {\r\n    entries: [\r\n        {\r\n            binding: 0,\r\n            visibility: GPUShaderStage.VERTEX,\r\n            buffer: {\r\n                type: 'uniform',\r\n            },\r\n        }\r\n    ]\r\n};\r\nclass NormalHelper extends _object3d_mesh_Mesh__WEBPACK_IMPORTED_MODULE_2__.Mesh {\r\n    updateBindGroup() {\r\n        // TODO      \r\n        this.updateVertexUniformBindGroup({\r\n            layout: this.renderInfo_VertexUniformBindGroupLayout,\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    resource: {\r\n                        buffer: this.vertexUniformBuffer.gpuBuffer,\r\n                        offset: 0,\r\n                        size: this.vertexUniformBuffer.gpuBufferSize\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n    #targetMesh;\r\n    constructor(mesh, scale = 1) {\r\n        super(mesh.redGPUContext, null, null, vertexUniformBufferDescriptor, vertexUniformBindGroupLayoutDescriptor);\r\n        const device = mesh.redGPUContext.gpuDevice;\r\n        this.#targetMesh = mesh;\r\n        const data = [];\r\n        //\r\n        let i = 0;\r\n        const len = mesh.geometry.data.length;\r\n        console.log(mesh.geometry);\r\n        console.log(mesh.geometry.vertexBuffer);\r\n        const normalInfo = mesh.geometry.vertexBuffer.attributes.filter(v => v['attributeHint'] === _resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_4__[\"default\"].VERTEX_NORMAL);\r\n        if (normalInfo.length) {\r\n            const normalOffset = normalInfo[0]['offset'] / Float32Array.BYTES_PER_ELEMENT;\r\n            const stride = mesh.geometry.vertexBuffer.arrayStride / Float32Array.BYTES_PER_ELEMENT;\r\n            for (i; i < len; i = i + stride) {\r\n                const position = [\r\n                    mesh.geometry.data[i],\r\n                    mesh.geometry.data[i + 1],\r\n                    mesh.geometry.data[i + 2],\r\n                ];\r\n                const normal = [\r\n                    mesh.geometry.data[i + normalOffset],\r\n                    mesh.geometry.data[i + 1 + normalOffset],\r\n                    mesh.geometry.data[i + 2 + normalOffset],\r\n                ];\r\n                _util_gl_matrix__WEBPACK_IMPORTED_MODULE_6__.vec3.normalize(normal, normal);\r\n                const resultVec = _util_gl_matrix__WEBPACK_IMPORTED_MODULE_6__.vec3.create();\r\n                const distance = _util_gl_matrix__WEBPACK_IMPORTED_MODULE_6__.vec3.length(position) * scale * 0.5;\r\n                _util_gl_matrix__WEBPACK_IMPORTED_MODULE_6__.vec3.add(resultVec, position, _util_gl_matrix__WEBPACK_IMPORTED_MODULE_6__.vec3.scale(normal, normal, distance));\r\n                data.push(...position, 1, 0, 0, 1, ...resultVec, 1, 1, 0, 1);\r\n            }\r\n            //\r\n            this.geometry = new _resource_geometry_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"](mesh.redGPUContext, new Float32Array(data), new _resource_buffers_interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_5__[\"default\"]([\r\n                new _resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_4__[\"default\"].VERTEX_POSITION, 'float32x3'),\r\n                new _resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_resource_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_4__[\"default\"].VERTEX_COLOR, 'float32x4')\r\n            ]));\r\n            this.material = new _NormalHelperMaterial__WEBPACK_IMPORTED_MODULE_7__[\"default\"](mesh.redGPUContext);\r\n            this.topology = 'line-list';\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NormalHelper);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/normalHelper/NormalHelper.ts?");

/***/ }),

/***/ "./src/main/scene/sceneHelper/normalHelper/NormalHelperMaterial.ts":
/*!*************************************************************************!*\
  !*** ./src/main/scene/sceneHelper/normalHelper/NormalHelperMaterial.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertex.wgsl */ \"./src/main/scene/sceneHelper/normalHelper/vertex.wgsl\");\n/* harmony import */ var _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragment.wgsl */ \"./src/main/scene/sceneHelper/normalHelper/fragment.wgsl\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../resource/buffers/uniformBuffer/UniformBufferDescriptor */ \"./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts\");\n/* harmony import */ var _material_BaseMaterial__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../material/BaseMaterial */ \"./src/material/BaseMaterial.ts\");\n\r\n\r\n\r\n\r\nconst fragmentUniformBufferDescriptor = new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_2__[\"default\"]([]);\r\nconst fragmentUniformBindGroupLayoutDescriptor = {\r\n    entries: []\r\n};\r\nclass NormalHelperMaterial extends _material_BaseMaterial__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\r\n    /**\r\n     *\r\n     * @param redGPUContext\r\n     */\r\n    constructor(redGPUContext) {\r\n        super(redGPUContext, _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"], fragmentUniformBufferDescriptor, fragmentUniformBindGroupLayoutDescriptor);\r\n        const gpuDevice = this.redGPUContext.gpuDevice;\r\n        this.#initFragmentUniformInfo(gpuDevice);\r\n        // console.log(this)\r\n    }\r\n    /**\r\n     * @constructs\r\n     * @private\r\n     */\r\n    #initFragmentUniformInfo(gpuDevice) {\r\n        this.updateBindGroup();\r\n    }\r\n    updateBindGroup() {\r\n        this.updateFragmentUniformBindGroup({\r\n            layout: this.renderInfo_FragmentUniformsBindGroupLayout,\r\n            entries: []\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NormalHelperMaterial);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/sceneHelper/normalHelper/NormalHelperMaterial.ts?");

/***/ }),

/***/ "./src/main/scene/skyBox/SkyBox.ts":
/*!*****************************************!*\
  !*** ./src/main/scene/skyBox/SkyBox.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _resource_geometry_primitives_Box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource/geometry/primitives/Box */ \"./src/resource/geometry/primitives/Box.ts\");\n/* harmony import */ var _material_skyboxMaterial_SkyBoxMaterial__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../material/skyboxMaterial/SkyBoxMaterial */ \"./src/material/skyboxMaterial/SkyBoxMaterial.ts\");\n/* harmony import */ var _resource_texture_BitmapCubeTexture__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../resource/texture/BitmapCubeTexture */ \"./src/resource/texture/BitmapCubeTexture.ts\");\n/* harmony import */ var _object3d__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../object3d */ \"./src/object3d/index.ts\");\n\r\n\r\n\r\n\r\nclass SkyBox extends _object3d__WEBPACK_IMPORTED_MODULE_3__.Mesh {\r\n    constructor(redGPUContext, srcList) {\r\n        const scale = 100000; //TODO   \r\n        super(redGPUContext, new _resource_geometry_primitives_Box__WEBPACK_IMPORTED_MODULE_0__[\"default\"](redGPUContext, scale, scale, scale), new _material_skyboxMaterial_SkyBoxMaterial__WEBPACK_IMPORTED_MODULE_1__[\"default\"](redGPUContext, new _resource_texture_BitmapCubeTexture__WEBPACK_IMPORTED_MODULE_2__[\"default\"](redGPUContext, srcList)));\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SkyBox);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/scene/skyBox/SkyBox.ts?");

/***/ }),

/***/ "./src/main/view/View.ts":
/*!*******************************!*\
  !*** ./src/main/view/View.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/gl-matrix */ \"./src/util/gl-matrix/index.js\");\n/* harmony import */ var _camera_BasicCamera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../camera/BasicCamera */ \"./src/camera/BasicCamera.ts\");\n/* harmony import */ var _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../resource/buffers/TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n/* harmony import */ var _scene_Scene__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../scene/Scene */ \"./src/main/scene/Scene.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../resource/buffers/uniformBuffer/UniformBufferFloat32 */ \"./src/resource/buffers/uniformBuffer/UniformBufferFloat32.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../resource/buffers/uniformBuffer/UniformBufferDescriptor */ \"./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts\");\n/* harmony import */ var _light_pointLightCluster_PassLightClustersBound__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../light/pointLightCluster/PassLightClustersBound */ \"./src/light/pointLightCluster/PassLightClustersBound.ts\");\n/* harmony import */ var _light_pointLightCluster_PassLightClusters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../light/pointLightCluster/PassLightClusters */ \"./src/light/pointLightCluster/PassLightClusters.ts\");\n/* harmony import */ var _light_LightManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../light/LightManager */ \"./src/light/LightManager.ts\");\n/* harmony import */ var _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../object3d/base/CONST_DIRTY_TRANSFORM_STATE */ \"./src/object3d/base/CONST_DIRTY_TRANSFORM_STATE.ts\");\n/* harmony import */ var _util_computeViewFrustumPlanes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/computeViewFrustumPlanes */ \"./src/util/computeViewFrustumPlanes.ts\");\n/* harmony import */ var _ViewBase__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ViewBase */ \"./src/main/view/ViewBase.ts\");\n/* harmony import */ var _util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../util/errorFunc/throwErrorInstanceOf */ \"./src/util/errorFunc/throwErrorInstanceOf.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet UUID = 0;\r\nclass View extends _ViewBase__WEBPACK_IMPORTED_MODULE_11__[\"default\"] {\r\n    #resultTexture;\r\n    get resultTexture() {\r\n        return this.#resultTexture;\r\n    }\r\n    set resultTexture(value) {\r\n        this.#resultTexture = value;\r\n    }\r\n    #resolveTexture;\r\n    get resolveTexture() {\r\n        return this.#resolveTexture;\r\n    }\r\n    set resolveTexture(value) {\r\n        this.#resolveTexture = value;\r\n    }\r\n    #depthTexture;\r\n    get depthTexture() {\r\n        return this.#depthTexture;\r\n    }\r\n    set depthTexture(value) {\r\n        this.#depthTexture = value;\r\n    }\r\n    #resultTextureView;\r\n    get resultTextureView() {\r\n        return this.#resultTextureView;\r\n    }\r\n    set resultTextureView(value) {\r\n        this.#resultTextureView = value;\r\n    }\r\n    #resolveTextureView;\r\n    get resolveTextureView() {\r\n        return this.#resolveTextureView;\r\n    }\r\n    set resolveTextureView(value) {\r\n        this.#resolveTextureView = value;\r\n    }\r\n    #depthTextureView;\r\n    get depthTextureView() {\r\n        return this.#depthTextureView;\r\n    }\r\n    set depthTextureView(value) {\r\n        this.#depthTextureView = value;\r\n    }\r\n    #label;\r\n    set label(value) {\r\n        this.#label = value;\r\n    }\r\n    get label() {\r\n        return this.#label;\r\n    }\r\n    #scene;\r\n    get scene() {\r\n        return this.#scene;\r\n    }\r\n    set scene(value) {\r\n        if (!(value instanceof _scene_Scene__WEBPACK_IMPORTED_MODULE_3__[\"default\"]))\r\n            (0,_util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(this, 'scene', 'Scene');\r\n        this.#scene = value;\r\n        window.dispatchEvent(new Event('changeViewList'));\r\n    }\r\n    #camera;\r\n    get camera() {\r\n        return this.#camera;\r\n    }\r\n    #renderPointLightNum = 0;\r\n    get renderPointLightNum() {\r\n        return this.#renderPointLightNum;\r\n    }\r\n    #renderDirectionalLightNum = 0;\r\n    get renderDirectionalLightNum() {\r\n        return this.#renderDirectionalLightNum;\r\n    }\r\n    #frustumPlanes = [];\r\n    get frustumPlanes() {\r\n        return this.#frustumPlanes;\r\n    }\r\n    #systemBufferInfo;\r\n    get systemBufferInfo() {\r\n        return this.#systemBufferInfo;\r\n    }\r\n    #systemUniformsBindGroupLayout;\r\n    get systemUniformsBindGroupLayout() {\r\n        return this.#systemUniformsBindGroupLayout;\r\n    }\r\n    #renderInfo_SystemUniformBindGroup;\r\n    get renderInfo_SystemUniformBindGroup() {\r\n        return this.#renderInfo_SystemUniformBindGroup;\r\n    }\r\n    #passLightClustersBound;\r\n    get passLightClustersBound() {\r\n        return this.#passLightClustersBound;\r\n    }\r\n    #passLightClusters;\r\n    get passLightClusters() {\r\n        return this.#passLightClusters;\r\n    }\r\n    #systemClusterLightBufferInfo;\r\n    get systemClusterLightBufferInfo() {\r\n        return this.#systemClusterLightBufferInfo;\r\n    }\r\n    #systemAmbientDirectionalLightBufferInfo;\r\n    get systemAmbientDirectionalLightBufferInfo() {\r\n        return this.#systemAmbientDirectionalLightBufferInfo;\r\n    }\r\n    #finalRenderUniformBuffer;\r\n    get finalRenderUniformBuffer() {\r\n        return this.#finalRenderUniformBuffer;\r\n    }\r\n    /**\r\n     * View\r\n     * @param redGPUContext\r\n     * @param scene\r\n     * @param label\r\n     */\r\n    constructor(redGPUContext, scene, label) {\r\n        super(redGPUContext);\r\n        this.#label = label || `View${UUID++} (Label input is recommended.)`;\r\n        this.scene = scene;\r\n        this.#camera = new _camera_BasicCamera__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n        this.#init();\r\n        console.log('View', this);\r\n    }\r\n    #init() {\r\n        this.#systemUniformsBindGroupLayout = this.redGPUContext.gpuDevice.createBindGroupLayout({\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    visibility: GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE,\r\n                    buffer: {\r\n                        type: 'uniform',\r\n                    },\r\n                },\r\n                {\r\n                    binding: 1,\r\n                    visibility: GPUShaderStage.FRAGMENT,\r\n                    buffer: { type: 'uniform' }\r\n                },\r\n                {\r\n                    binding: 2,\r\n                    visibility: GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE,\r\n                    buffer: { type: 'read-only-storage' }\r\n                },\r\n                {\r\n                    binding: 3,\r\n                    visibility: GPUShaderStage.FRAGMENT,\r\n                    buffer: { type: 'storage' }\r\n                },\r\n            ]\r\n        });\r\n        this.#makeBuffer();\r\n        this.calcPixelViewRect();\r\n        this.updateClusterLight();\r\n        const renderInfo_SystemUniformBindGroupDescriptor = {\r\n            layout: this.#systemUniformsBindGroupLayout,\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    resource: {\r\n                        buffer: this.#systemBufferInfo.gpuBuffer,\r\n                        offset: 0,\r\n                        size: this.#systemBufferInfo.gpuBufferSize\r\n                    }\r\n                },\r\n                {\r\n                    binding: 1,\r\n                    resource: {\r\n                        buffer: this.#systemAmbientDirectionalLightBufferInfo.gpuBuffer,\r\n                        offset: 0,\r\n                        size: this.#systemAmbientDirectionalLightBufferInfo.gpuBufferSize\r\n                    }\r\n                },\r\n                {\r\n                    binding: 2,\r\n                    resource: {\r\n                        buffer: this.#systemClusterLightBufferInfo.gpuBuffer,\r\n                        offset: 0,\r\n                        size: this.#systemClusterLightBufferInfo.gpuBufferSize\r\n                    }\r\n                },\r\n                {\r\n                    binding: 3,\r\n                    resource: {\r\n                        buffer: this.#passLightClusters.clusterLightsBuffer,\r\n                        offset: 0,\r\n                        size: this.#passLightClusters.clusterLightsBuffer.size\r\n                    }\r\n                }\r\n            ]\r\n        };\r\n        this.#renderInfo_SystemUniformBindGroup = this.redGPUContext.gpuDevice.createBindGroup(renderInfo_SystemUniformBindGroupDescriptor);\r\n    }\r\n    #makeBuffer() {\r\n        this.#finalRenderUniformBuffer = this.redGPUContext.gpuDevice.createBuffer({\r\n            size: 4 * 4 * Float32Array.BYTES_PER_ELEMENT,\r\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\r\n        });\r\n        this.#systemBufferInfo = new _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.redGPUContext, new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_5__[\"default\"]([\r\n            { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mat4, valueName: 'projectionMatrix' },\r\n            { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mat4, valueName: 'inverseProjectionMatrix' },\r\n            { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mat4, valueName: 'cameraMatrix' },\r\n            { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x2, valueName: 'resolution' },\r\n            { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x2, valueName: 'nearFar' },\r\n        ]));\r\n        this.#systemAmbientDirectionalLightBufferInfo = new _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.redGPUContext, new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_5__[\"default\"]([\r\n            { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x4, valueName: 'ambientLight' },\r\n            { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x4, valueName: 'directionalLightCount' },\r\n            {\r\n                valueName: 'directionalLights',\r\n                struct: [\r\n                    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x3, valueName: 'directionalLightColor' },\r\n                    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32, valueName: 'directionalLightIntensity' },\r\n                    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x3, valueName: 'directionalLightDirection' },\r\n                ],\r\n                num: _light_LightManager__WEBPACK_IMPORTED_MODULE_8__[\"default\"].MAX_DIRECTIONAL_LIGHT_NUM,\r\n            }\r\n        ]), GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST);\r\n        this.#systemClusterLightBufferInfo = new _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.redGPUContext, new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_5__[\"default\"]([\r\n            { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x4, valueName: 'pointLightCount' },\r\n            {\r\n                valueName: 'pointLights',\r\n                struct: [\r\n                    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x3, valueName: 'pointLightPosition' },\r\n                    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32, valueName: 'pointLightRange' },\r\n                    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x3, valueName: 'pointLightColor' },\r\n                    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32, valueName: 'pointLightIntensity' },\r\n                ],\r\n                num: _light_LightManager__WEBPACK_IMPORTED_MODULE_8__[\"default\"].MAX_POINT_LIGHT_NUM,\r\n            }\r\n        ]), GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST);\r\n    }\r\n    updateSystemUniform() {\r\n        const pixelViewRect = this.pixelViewRect;\r\n        const aspect = Math.abs(pixelViewRect[2] / pixelViewRect[3]);\r\n        const projectionMatrix = this.projectionMatrix;\r\n        const camera = this.#camera;\r\n        const { fov, nearClipping, farClipping, matrix: cameraMTX, mode } = camera;\r\n        if (mode === _camera_BasicCamera__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MODE_3D) {\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.perspective(projectionMatrix, (Math.PI / 180) * fov, aspect, nearClipping, farClipping);\r\n        }\r\n        else {\r\n            // TODO 2D \r\n        }\r\n        this.#frustumPlanes = (0,_util_computeViewFrustumPlanes__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(projectionMatrix, cameraMTX);\r\n        const { redStructOffsetMap: offsetMap } = this.#systemBufferInfo.descriptor;\r\n        const systemBufferInfoData = this.#systemBufferInfo.data;\r\n        systemBufferInfoData.set(projectionMatrix, offsetMap['projectionMatrix']);\r\n        systemBufferInfoData.set(this.inverseProjectionMatrix, offsetMap['inverseProjectionMatrix']);\r\n        // TODO resolution   viewRect ?\r\n        systemBufferInfoData.set([pixelViewRect[2], pixelViewRect[3]], offsetMap['resolution']);\r\n        systemBufferInfoData.set(cameraMTX, offsetMap['cameraMatrix']);\r\n        systemBufferInfoData.set([nearClipping, farClipping], offsetMap['nearFar']);\r\n        this.#systemBufferInfo.update(systemBufferInfoData);\r\n    }\r\n    #calcLightClusteringYn = false;\r\n    #prevClusterBoundTime = 0;\r\n    #prevClusterLightTime = 0;\r\n    updateClusterLight() {\r\n        const { redGPUContext, scene } = this;\r\n        const { gpuDevice } = redGPUContext;\r\n        this.#renderDirectionalLightNum = 0;\r\n        this.#renderPointLightNum = 0;\r\n        if (!this.#passLightClustersBound) {\r\n            this.#passLightClustersBound = new _light_pointLightCluster_PassLightClustersBound__WEBPACK_IMPORTED_MODULE_6__[\"default\"](redGPUContext, this);\r\n            this.#passLightClusters = new _light_pointLightCluster_PassLightClusters__WEBPACK_IMPORTED_MODULE_7__[\"default\"](redGPUContext, this);\r\n        }\r\n        if (scene) {\r\n            const { ambientLight, pointLightList, directionalLightList } = scene.lightManager;\r\n            //ambient\r\n            {\r\n                const { redStructOffsetMap: offsetMap } = this.#systemAmbientDirectionalLightBufferInfo.descriptor;\r\n                const systemAmbientDirectionalLightBufferInfoData = this.#systemAmbientDirectionalLightBufferInfo.data;\r\n                const newData = ambientLight ? [\r\n                    scene.lightManager.ambientLight.r,\r\n                    scene.lightManager.ambientLight.g,\r\n                    scene.lightManager.ambientLight.b,\r\n                    scene.lightManager.ambientLight.intensity\r\n                ] : [0, 0, 0, 0];\r\n                systemAmbientDirectionalLightBufferInfoData.set(newData, offsetMap['ambientLight']);\r\n                this.redGPUContext.gpuDevice.queue.writeBuffer(this.#systemAmbientDirectionalLightBufferInfo.gpuBuffer, offsetMap['ambientLight'], new Float32Array(newData));\r\n            }\r\n            //directional\r\n            {\r\n                const { redStructOffsetMap: offsetMap } = this.#systemAmbientDirectionalLightBufferInfo.descriptor;\r\n                const systemAmbientDirectionalLightBufferInfoData = this.#systemAmbientDirectionalLightBufferInfo.data;\r\n                const directionalNum = directionalLightList.length;\r\n                let i = directionalNum;\r\n                while (i--) {\r\n                    const tLight = directionalLightList[i];\r\n                    const stride = (_resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x4 / Float32Array.BYTES_PER_ELEMENT\r\n                        + _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x4 / Float32Array.BYTES_PER_ELEMENT);\r\n                    const offset = offsetMap['directionalLights'] + stride * i;\r\n                    const direction = _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.vec3.subtract(_util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.vec3.create(), tLight.position, tLight.targetPosition);\r\n                    const newData = [\r\n                        tLight.r, tLight.g, tLight.b, tLight.intensity,\r\n                        direction[0], direction[1], direction[2]\r\n                    ];\r\n                    systemAmbientDirectionalLightBufferInfoData.set(newData, offset);\r\n                    this.#renderDirectionalLightNum++;\r\n                }\r\n                systemAmbientDirectionalLightBufferInfoData.set([directionalNum, 0, 0, 0], offsetMap['directionalLightCount']);\r\n                this.#systemAmbientDirectionalLightBufferInfo.update(systemAmbientDirectionalLightBufferInfoData);\r\n            }\r\n            //pointLight\r\n            {\r\n                const clusterLightBufferInfoData = this.#systemClusterLightBufferInfo.data;\r\n                const { redStructOffsetMap: offsetMap } = this.#systemClusterLightBufferInfo.descriptor;\r\n                const frustumPlanes = (0,_util_computeViewFrustumPlanes__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(this.projectionMatrix, this.camera.matrix);\r\n                let frustumPlanes0, frustumPlanes1, frustumPlanes2, frustumPlanes3, frustumPlanes4, frustumPlanes5;\r\n                frustumPlanes0 = frustumPlanes[0];\r\n                frustumPlanes1 = frustumPlanes[1];\r\n                frustumPlanes2 = frustumPlanes[2];\r\n                frustumPlanes3 = frustumPlanes[3];\r\n                frustumPlanes4 = frustumPlanes[4];\r\n                frustumPlanes5 = frustumPlanes[5];\r\n                const pointLightNum = pointLightList.length;\r\n                let dirtyLightNum = 0;\r\n                if (pointLightNum) {\r\n                    let i = pointLightNum;\r\n                    while (i--) {\r\n                        const tLight = pointLightList[i];\r\n                        const tLightMTX = tLight.matrix;\r\n                        let inViewPortYn = true;\r\n                        //   \r\n                        if (tLight.dirtyTransformState === _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_9__[\"default\"].DIRTY || tLight.dirtyLight) {\r\n                            dirtyLightNum++;\r\n                        }\r\n                        if (tLight.dirtyTransformState === _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_9__[\"default\"].DIRTY) {\r\n                            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.identity(tLightMTX);\r\n                            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.translate(tLightMTX, tLightMTX, [tLight.x, tLight.y, tLight.z]);\r\n                            tLight.dirtyTransformState = _object3d_base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_9__[\"default\"].NONE;\r\n                        }\r\n                        // frustum culling\r\n                        {\r\n                            let a00, a01, a02;\r\n                            let radius = tLight.radius;\r\n                            a00 = tLightMTX[12], a01 = tLightMTX[13], a02 = tLightMTX[14],\r\n                                frustumPlanes0[0] * a00 + frustumPlanes0[1] * a01 + frustumPlanes0[2] * a02 + frustumPlanes0[3] <= -radius ? inViewPortYn = false\r\n                                    : frustumPlanes1[0] * a00 + frustumPlanes1[1] * a01 + frustumPlanes1[2] * a02 + frustumPlanes1[3] <= -radius ? inViewPortYn = false\r\n                                        : frustumPlanes2[0] * a00 + frustumPlanes2[1] * a01 + frustumPlanes2[2] * a02 + frustumPlanes2[3] <= -radius ? inViewPortYn = false\r\n                                            : frustumPlanes3[0] * a00 + frustumPlanes3[1] * a01 + frustumPlanes3[2] * a02 + frustumPlanes3[3] <= -radius ? inViewPortYn = false\r\n                                                : frustumPlanes4[0] * a00 + frustumPlanes4[1] * a01 + frustumPlanes4[2] * a02 + frustumPlanes4[3] <= -radius ? inViewPortYn = false\r\n                                                    : frustumPlanes5[0] * a00 + frustumPlanes5[1] * a01 + frustumPlanes5[2] * a02 + frustumPlanes5[3] <= -radius ? inViewPortYn = false : 0;\r\n                        }\r\n                        // updateData\r\n                        if (inViewPortYn || tLight.dirtyLight) {\r\n                            const stride = (_resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x4 / Float32Array.BYTES_PER_ELEMENT\r\n                                + _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x4 / Float32Array.BYTES_PER_ELEMENT);\r\n                            const offset = offsetMap['pointLights'] + stride * i;\r\n                            clusterLightBufferInfoData.set([\r\n                                ...tLight.position, tLight.radius,\r\n                                tLight.r, tLight.g, tLight.b, tLight.intensity,\r\n                            ], offset);\r\n                            this.#renderPointLightNum++;\r\n                        }\r\n                        tLight.dirtyLight = false;\r\n                    }\r\n                }\r\n                else {\r\n                }\r\n                // updatePointLightCount\r\n                clusterLightBufferInfoData.set([pointLightNum, 0, 0, 0], offsetMap['pointLightCount']);\r\n                this.redGPUContext.gpuDevice.queue.writeBuffer(this.#systemClusterLightBufferInfo.gpuBuffer, offsetMap['pointLightCount'], new Float32Array([pointLightNum, 0, 0, 0]));\r\n                // send data to GPU\r\n                if (dirtyLightNum)\r\n                    this.#systemClusterLightBufferInfo.update(clusterLightBufferInfoData);\r\n            }\r\n            //TODO - dirtyViewRect  \r\n            // if (this.#dirtyViewRect) {\r\n            const now = performance.now();\r\n            if (now - this.#prevClusterBoundTime > 256) {\r\n                // console.log('Bound cluster')\r\n                if (this.#passLightClustersBound && this.#passLightClustersBound.clusterBoundBuffer) {\r\n                    {\r\n                        const commandEncoder = gpuDevice.createCommandEncoder();\r\n                        const passEncoder = commandEncoder.beginComputePass({\r\n                            label: 'Bound cluster'\r\n                        });\r\n                        this.#passLightClustersBound.render(commandEncoder, passEncoder);\r\n                        passEncoder.end();\r\n                        gpuDevice.queue.submit([commandEncoder.finish()]);\r\n                    }\r\n                }\r\n                // this.#dirtyViewRect = false\r\n                this.#prevClusterBoundTime = now;\r\n            }\r\n            // }\r\n            if (this.#passLightClustersBound && this.#passLightClustersBound.clusterBoundBuffer) {\r\n                if (this.#calcLightClusteringYn) {\r\n                }\r\n                else {\r\n                    const now = performance.now();\r\n                    if (now - this.#prevClusterLightTime > 16) {\r\n                        {\r\n                            const commandEncoder = gpuDevice.createCommandEncoder();\r\n                            const passEncoder = commandEncoder.beginComputePass({\r\n                                label: 'PointLight cluster'\r\n                            });\r\n                            this.#passLightClusters.render(commandEncoder, passEncoder);\r\n                            passEncoder.end();\r\n                            gpuDevice.queue.submit([commandEncoder.finish()]);\r\n                        }\r\n                        this.#calcLightClusteringYn = true;\r\n                        gpuDevice.queue.onSubmittedWorkDone().then(v => {\r\n                            this.#calcLightClusteringYn = false;\r\n                            this.#prevClusterLightTime = now;\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (View);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/view/View.ts?");

/***/ }),

/***/ "./src/main/view/ViewBase.ts":
/*!***********************************!*\
  !*** ./src/main/view/ViewBase.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/errorFunc/throwError */ \"./src/util/errorFunc/throwError.js\");\n/* harmony import */ var _util_gl_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/gl-matrix */ \"./src/util/gl-matrix/index.js\");\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _ViewDebugger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ViewDebugger */ \"./src/main/view/ViewDebugger.ts\");\n\r\n\r\n\r\n\r\nclass ViewBase extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\r\n    #dirtyViewRect = true;\r\n    #x = 0;\r\n    get x() {\r\n        return this.#x;\r\n    }\r\n    set x(value) {\r\n        switch (typeof value) {\r\n            case 'number':\r\n                this.#x = value;\r\n                break;\r\n            case 'string':\r\n                if (value.includes('%')) {\r\n                    this.#x = value;\r\n                    break;\r\n                }\r\n            default:\r\n                (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('x : ', ' % .');\r\n        }\r\n        this.calcPixelViewRect();\r\n    }\r\n    #y = 0;\r\n    get y() {\r\n        return this.#y;\r\n    }\r\n    set y(value) {\r\n        switch (typeof value) {\r\n            case 'number':\r\n                this.#y = value;\r\n                break;\r\n            case 'string':\r\n                if (value.includes('%')) {\r\n                    this.#y = value;\r\n                    break;\r\n                }\r\n            default:\r\n                (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('y : ', ' or %  .');\r\n        }\r\n        this.calcPixelViewRect();\r\n    }\r\n    #width = '100%';\r\n    get width() {\r\n        return this.#width;\r\n    }\r\n    set width(value) {\r\n        const msg = 'width :    or %  .';\r\n        switch (typeof value) {\r\n            case 'number':\r\n                if (value >= 0) {\r\n                    this.#width = value;\r\n                    break;\r\n                }\r\n                (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(msg);\r\n                break;\r\n            case 'string':\r\n                if (value.includes('%')) {\r\n                    if (+value.replace('%', '') >= 0) {\r\n                        this.#width = value;\r\n                        break;\r\n                    }\r\n                }\r\n            default:\r\n                (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(msg);\r\n        }\r\n        this.calcPixelViewRect();\r\n    }\r\n    #height = '100%';\r\n    get height() {\r\n        return this.#height;\r\n    }\r\n    set height(value) {\r\n        const msg = 'width :    or %  .';\r\n        switch (typeof value) {\r\n            case 'number':\r\n                if (value >= 0) {\r\n                    this.#height = value;\r\n                    break;\r\n                }\r\n                (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(msg);\r\n                break;\r\n            case 'string':\r\n                if (value.includes('%')) {\r\n                    if (+value.replace('%', '') >= 0) {\r\n                        this.#height = value;\r\n                        break;\r\n                    }\r\n                }\r\n            default:\r\n                (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(msg);\r\n        }\r\n        this.calcPixelViewRect();\r\n    }\r\n    #pixelViewRect = [0, 0, 0, 0];\r\n    get pixelViewRect() {\r\n        return this.#pixelViewRect;\r\n    }\r\n    calcPixelViewRect() {\r\n        const parentPixelSize = this.redGPUContext.pixelSize;\r\n        this.#pixelViewRect = [\r\n            typeof this.#x === 'number' ? this.#x : Math.floor(parentPixelSize.width * parseFloat(this.#x) / 100),\r\n            typeof this.#y === 'number' ? this.#y : Math.floor(parentPixelSize.height * parseFloat(this.#y) / 100),\r\n            typeof this.#width === 'number' ? this.#width : Math.floor(parentPixelSize.width * parseFloat(this.#width) / 100),\r\n            typeof this.#height === 'number' ? this.#height : Math.floor(parentPixelSize.height * parseFloat(this.#height) / 100),\r\n        ];\r\n        this.#dirtyViewRect = true;\r\n    }\r\n    setSize(w = this.#width, h = this.#height) {\r\n        this.width = w;\r\n        this.height = h;\r\n    }\r\n    setLocation(x = this.#x, y = this.#y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    #projectionMatrix = _util_gl_matrix__WEBPACK_IMPORTED_MODULE_1__.mat4.create();\r\n    get projectionMatrix() {\r\n        return this.#projectionMatrix;\r\n    }\r\n    get inverseProjectionMatrix() {\r\n        return _util_gl_matrix__WEBPACK_IMPORTED_MODULE_1__.mat4.invert(_util_gl_matrix__WEBPACK_IMPORTED_MODULE_1__.mat4.create(), this.#projectionMatrix);\r\n    }\r\n    #viewDebugger = new _ViewDebugger__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n    get viewDebugger() {\r\n        return this.#viewDebugger;\r\n    }\r\n    /**\r\n     *\r\n     * @param redGPUContext\r\n     */\r\n    constructor(redGPUContext) {\r\n        super(redGPUContext);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewBase);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/view/ViewBase.ts?");

/***/ }),

/***/ "./src/main/view/ViewDebugger.ts":
/*!***************************************!*\
  !*** ./src/main/view/ViewDebugger.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass ViewDebugger {\r\n    ViewRect = {};\r\n    Frame = {};\r\n    Render = {};\r\n    Light = {};\r\n    constructor() {\r\n    }\r\n    update(view, scene, startTime, prevTime, beforeTime, mainTime, afterTime, renderMeshNum, triangleNum) {\r\n        const { Frame, Render, Light, ViewRect } = this;\r\n        //\r\n        this['View Label'] = view['label'];\r\n        this['Scene Label'] = scene['label'];\r\n        ViewRect['size'] = `${view.width} x ${view.height} (${view.pixelViewRect[2]}px x ${view.pixelViewRect[3]}px)`;\r\n        ViewRect['location'] = `${view.x} x ${view.y} (${view.pixelViewRect[0]}px x ${view.pixelViewRect[1]}px)`;\r\n        //\r\n        Frame['FrameNum'] = (Frame['FrameNum'] || 0) + 1;\r\n        //\r\n        // const fps: number = 1000 / (beforeTime + mainTime + afterTime)\r\n        // console.log(startTime - prevTime)\r\n        const fps = 1000 / (startTime - prevTime);\r\n        Frame['Before render time'] = +beforeTime.toFixed(2);\r\n        Frame['Main render time'] = +mainTime.toFixed(2);\r\n        Frame['After render time'] = +afterTime.toFixed(2);\r\n        Frame['Frame render time'] = +(beforeTime + mainTime + afterTime).toFixed(2);\r\n        Frame['Frame FPS'] = +(fps).toFixed(0);\r\n        Frame['Total Frame FPS'] = +(Frame['Total Frame FPS'] || 0) + fps;\r\n        Frame['AVG FPS'] = +(Frame['Total Frame FPS'] / Frame['FrameNum']).toFixed(2);\r\n        //\r\n        Render['Total Mesh'] = scene.children.length;\r\n        Render['Render Mesh'] = renderMeshNum;\r\n        Render['Triangle Num'] = triangleNum;\r\n        //\r\n        Light['Total PointLight'] = scene.lightManager.pointLightList.length;\r\n        Light['Render PointLight'] = view.renderPointLightNum;\r\n        Light['Render DirectionalLight'] = view.renderDirectionalLightNum;\r\n        //\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewDebugger);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/view/ViewDebugger.ts?");

/***/ }),

/***/ "./src/main/view/index.ts":
/*!********************************!*\
  !*** ./src/main/view/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"View\": () => (/* reexport safe */ _View__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"ViewDebugger\": () => (/* reexport safe */ _ViewDebugger__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./View */ \"./src/main/view/View.ts\");\n/* harmony import */ var _ViewDebugger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ViewDebugger */ \"./src/main/view/ViewDebugger.ts\");\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/main/view/index.ts?");

/***/ }),

/***/ "./src/material/BaseMaterial.ts":
/*!**************************************!*\
  !*** ./src/material/BaseMaterial.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../resource/buffers/uniformBuffer/UniformBufferFloat32 */ \"./src/resource/buffers/uniformBuffer/UniformBufferFloat32.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resource/buffers/uniformBuffer/UniformBufferDescriptor */ \"./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts\");\n/* harmony import */ var _systemShaderDefine_shaderDefineReplace__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../systemShaderDefine/shaderDefineReplace */ \"./src/systemShaderDefine/shaderDefineReplace.ts\");\n/* harmony import */ var _util_makeUUID__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/makeUUID */ \"./src/util/makeUUID.ts\");\n\r\n\r\n\r\n\r\n\r\nclass BaseMaterial extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #vShaderModule;\r\n    get vShaderModule() {\r\n        return this.#vShaderModule;\r\n    }\r\n    #fShaderModule;\r\n    get fShaderModule() {\r\n        return this.#fShaderModule;\r\n    }\r\n    #fragmentUniformBuffer;\r\n    get fragmentUniformBuffer() {\r\n        return this.#fragmentUniformBuffer;\r\n    }\r\n    //////////////////////////\r\n    #renderInfo_FragmentUniformBindGroup;\r\n    get renderInfo_FragmentUniformBindGroup() {\r\n        return this.#renderInfo_FragmentUniformBindGroup;\r\n    }\r\n    #renderInfo_pipeline_Fragment;\r\n    get renderInfo_pipeline_Fragment() {\r\n        return this.#renderInfo_pipeline_Fragment;\r\n    }\r\n    #renderInfo_FragmentUniformBindGroupDescriptor;\r\n    #renderInfo_FragmentUniformsBindGroupLayout;\r\n    get renderInfo_FragmentUniformsBindGroupLayout() {\r\n        return this.#renderInfo_FragmentUniformsBindGroupLayout;\r\n    }\r\n    //////////////////////////\r\n    #bindGroupID = (0,_util_makeUUID__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\r\n    set bindGroupID(value) {\r\n        this.#bindGroupID = value;\r\n    }\r\n    get bindGroupID() {\r\n        return this.#bindGroupID;\r\n    }\r\n    #dirtyTexture = true;\r\n    get dirtyTexture() {\r\n        return this.#dirtyTexture;\r\n    }\r\n    set dirtyTexture(value) {\r\n        this.#dirtyTexture = value;\r\n    }\r\n    /**\r\n     *\r\n     * @param redGPUContext\r\n     * @param vertexSource\r\n     * @param fragmentSource\r\n     * @param fragmentUniformBufferDescriptor\r\n     * @param fragmentUniformBindGroupLayoutDescriptor\r\n     */\r\n    constructor(redGPUContext, vertexSource, fragmentSource, fragmentUniformBufferDescriptor, fragmentUniformBindGroupLayoutDescriptor) {\r\n        super(redGPUContext);\r\n        const gpuDevice = this.redGPUContext.gpuDevice;\r\n        this.#vShaderModule = makeShaderModule(gpuDevice, vertexSource, `vertex_${this.constructor.name}`);\r\n        this.#fShaderModule = makeShaderModule(gpuDevice, fragmentSource, `fragment_${this.constructor.name}`);\r\n        this.#fragmentUniformBuffer = new _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.redGPUContext, new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_2__[\"default\"](fragmentUniformBufferDescriptor));\r\n        // console.log(this,this.#fragmentUniformBuffer)\r\n        this.#updateRenderInfo_FragmentUniformsBindGroupLayout(fragmentUniformBindGroupLayoutDescriptor);\r\n        // console.log(this)\r\n    }\r\n    #updateRenderInfo_FragmentUniformsBindGroupLayout(fragmentUniformBindGroupLayoutDescriptor) {\r\n        const gpuDevice = this.redGPUContext.gpuDevice;\r\n        this.#renderInfo_FragmentUniformsBindGroupLayout = gpuDevice.createBindGroupLayout(fragmentUniformBindGroupLayoutDescriptor);\r\n        this.updateRenderInfo_pipeline_Fragment();\r\n    }\r\n    updateRenderInfo_pipeline_Fragment() {\r\n        // TODO       \r\n        const preferredCanvasFormat = navigator.gpu.getPreferredCanvasFormat();\r\n        this.#renderInfo_pipeline_Fragment = {\r\n            module: this.fShaderModule,\r\n            entryPoint: 'main',\r\n            targets: [\r\n                {\r\n                    format: preferredCanvasFormat,\r\n                    blend: {\r\n                        color: {\r\n                            srcFactor: \"src-alpha\",\r\n                            dstFactor: \"one-minus-src-alpha\",\r\n                            operation: \"add\"\r\n                        },\r\n                        alpha: {\r\n                            srcFactor: \"one\",\r\n                            dstFactor: \"one-minus-src-alpha\",\r\n                            operation: \"add\"\r\n                        }\r\n                    }\r\n                },\r\n            ],\r\n        };\r\n    }\r\n    updateFragmentUniformBindGroup(renderInfo_FragmentUniformBindGroupDescriptor) {\r\n        const gpuDevice = this.redGPUContext.gpuDevice;\r\n        //      .\r\n        // console.log(renderInfo_FragmentUniformBindGroupDescriptor)\r\n        this.#renderInfo_FragmentUniformBindGroupDescriptor = renderInfo_FragmentUniformBindGroupDescriptor;\r\n        //  \r\n        this.#renderInfo_FragmentUniformBindGroup = gpuDevice.createBindGroup(this.#renderInfo_FragmentUniformBindGroupDescriptor);\r\n    }\r\n    updateBindGroup() {\r\n        throw 'updateBindGroup ';\r\n    }\r\n    initUniformValue() {\r\n        throw 'initUniformValue ';\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BaseMaterial);\r\nconst draftCache = new Map();\r\nfunction makeShaderModule(device, source, label = '') {\r\n    if (draftCache.has(source)) {\r\n        return draftCache.get(source);\r\n    }\r\n    const shaderModuleDescriptor = {\r\n        code: (0,_systemShaderDefine_shaderDefineReplace__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(source),\r\n        label\r\n    };\r\n    const t0 = device.createShaderModule(shaderModuleDescriptor);\r\n    draftCache.set(source, t0);\r\n    // console.log('draftCache', draftCache, t0)\r\n    // console.log(t0)\r\n    return t0;\r\n}\r\n\n\n//# sourceURL=webpack://RedGPU/./src/material/BaseMaterial.ts?");

/***/ }),

/***/ "./src/material/MaterialMix.ts":
/*!*************************************!*\
  !*** ./src/material/MaterialMix.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource/buffers/TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n/* harmony import */ var _util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/color/hexadecimalToRgb */ \"./src/util/color/hexadecimalToRgb.ts\");\n\r\n\r\n\r\nlet float32Array_1 = new Float32Array(1);\r\nconst MaterialMix = (Base, ...texture) => {\r\n    return [Base, ...texture].reduce((parent, extender) => {\r\n        return extender(parent);\r\n    });\r\n};\r\nconst alpha = Base => class extends Base {\r\n    #alpha = 1;\r\n    get alpha() {\r\n        return this.#alpha;\r\n    }\r\n    set alpha(value) {\r\n        this.#alpha = value;\r\n        float32Array_1[0] = value;\r\n        this.redGPUContext.gpuDevice.queue.writeBuffer(this.fragmentUniformBuffer.gpuBuffer, this.fragmentUniformBuffer.descriptor.redGpuStructOffsetMap['alpha'], float32Array_1);\r\n    }\r\n};\r\nconst lightProperty = Base => class extends Base {\r\n    #shininess = 32;\r\n    get shininess() {\r\n        return this.#shininess;\r\n    }\r\n    set shininess(value) {\r\n        this.#shininess = value;\r\n        float32Array_1[0] = this.#shininess;\r\n        this.redGPUContext.gpuDevice.queue.writeBuffer(this.fragmentUniformBuffer.gpuBuffer, this.fragmentUniformBuffer.descriptor.redGpuStructOffsetMap['shininess'], float32Array_1);\r\n    }\r\n    #specularPower = 1;\r\n    get specularPower() {\r\n        return this.#specularPower;\r\n    }\r\n    set specularPower(value) {\r\n        this.#specularPower = value;\r\n        float32Array_1[0] = this.#specularPower;\r\n        this.redGPUContext.gpuDevice.queue.writeBuffer(this.fragmentUniformBuffer.gpuBuffer, this.fragmentUniformBuffer.descriptor.redGpuStructOffsetMap['specularPower'], float32Array_1);\r\n    }\r\n    #specularColor = 0xffffff;\r\n    get specularColor() {\r\n        return this.#specularColor;\r\n    }\r\n    set specularColor(value) {\r\n        this.#specularColor = value;\r\n        let rgb = (0,_util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value);\r\n        this.#specularColorRGB[0] = rgb.r;\r\n        this.#specularColorRGB[1] = rgb.g;\r\n        this.#specularColorRGB[2] = rgb.b;\r\n        this.redGPUContext.gpuDevice.queue.writeBuffer(this.fragmentUniformBuffer.gpuBuffer, this.fragmentUniformBuffer.descriptor.redGpuStructOffsetMap['specularColor'], this.#specularColorRGB);\r\n    }\r\n    #specularColorRGB = new Float32Array([1, 1, 1]);\r\n    get specularColorRGB() {\r\n        return this.#specularColorRGB;\r\n    }\r\n};\r\n// texture\r\nconst diffuseTexture = Base => class extends Base {\r\n    #diffuseTexture;\r\n    get diffuseTexture() {\r\n        return this.#diffuseTexture;\r\n    }\r\n    set diffuseTexture(value) {\r\n        this.#diffuseTexture = value;\r\n        if (this.#diffuseTexture) {\r\n            this.#diffuseTexture.addTargetMaterial(this);\r\n        }\r\n        this.dirtyTexture = true;\r\n    }\r\n    #diffuseTextureSampler;\r\n    get diffuseTextureSampler() {\r\n        return this.#diffuseTextureSampler;\r\n    }\r\n    set diffuseTextureSampler(value) {\r\n        this.#diffuseTextureSampler = value;\r\n    }\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n    mix: MaterialMix,\r\n    alpha,\r\n    alphaUniformDefine: [{ size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_0__[\"default\"].float32, valueName: 'alpha' }],\r\n    lightProperty,\r\n    lightPropertyUniformDefine: [\r\n        { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_0__[\"default\"].float32, valueName: 'shininess' },\r\n        { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_0__[\"default\"].float32, valueName: 'specularPower' },\r\n        { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_0__[\"default\"].float32x3, valueName: 'specularColor' }\r\n    ],\r\n    //\r\n    diffuseTexture\r\n});\r\n\n\n//# sourceURL=webpack://RedGPU/./src/material/MaterialMix.ts?");

/***/ }),

/***/ "./src/material/bitmapMaterial/BitmapMaterial.ts":
/*!*******************************************************!*\
  !*** ./src/material/bitmapMaterial/BitmapMaterial.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertex.wgsl */ \"./src/material/bitmapMaterial/vertex.wgsl\");\n/* harmony import */ var _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragment.wgsl */ \"./src/material/bitmapMaterial/fragment.wgsl\");\n/* harmony import */ var _BaseMaterial__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../BaseMaterial */ \"./src/material/BaseMaterial.ts\");\n/* harmony import */ var _resource_texture_TextureSampler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../resource/texture/TextureSampler */ \"./src/resource/texture/TextureSampler.ts\");\n/* harmony import */ var _MaterialMix__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MaterialMix */ \"./src/material/MaterialMix.ts\");\n\r\n\r\n\r\n\r\n\r\nconst fragmentUniformBindGroupLayoutDescriptor = {\r\n    entries: [\r\n        {\r\n            binding: 0,\r\n            visibility: GPUShaderStage.FRAGMENT,\r\n            buffer: {\r\n                type: 'uniform',\r\n            },\r\n        },\r\n        {\r\n            binding: 1,\r\n            visibility: GPUShaderStage.FRAGMENT,\r\n            sampler: {\r\n                type: 'filtering',\r\n            },\r\n        },\r\n        {\r\n            binding: 2,\r\n            visibility: GPUShaderStage.FRAGMENT,\r\n            texture: {}\r\n        }\r\n    ]\r\n};\r\nconst fragmentUniformBufferDescriptor = [\r\n    ..._MaterialMix__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alphaUniformDefine,\r\n    ..._MaterialMix__WEBPACK_IMPORTED_MODULE_4__[\"default\"].lightPropertyUniformDefine\r\n];\r\nclass BitmapMaterial extends _MaterialMix__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mix(_BaseMaterial__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _MaterialMix__WEBPACK_IMPORTED_MODULE_4__[\"default\"].diffuseTexture, _MaterialMix__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alpha, _MaterialMix__WEBPACK_IMPORTED_MODULE_4__[\"default\"].lightProperty) {\r\n    /**\r\n     *\r\n     * @param redGPUContext\r\n     * @param diffuseTexture\r\n     */\r\n    constructor(redGPUContext, diffuseTexture) {\r\n        super(redGPUContext, _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"], fragmentUniformBufferDescriptor, fragmentUniformBindGroupLayoutDescriptor);\r\n        const gpuDevice = this.redGPUContext.gpuDevice;\r\n        this.diffuseTextureSampler = new _resource_texture_TextureSampler__WEBPACK_IMPORTED_MODULE_3__[\"default\"](redGPUContext);\r\n        this.#initFragmentUniformInfo(gpuDevice);\r\n        this.diffuseTexture = diffuseTexture;\r\n        console.log(this);\r\n    }\r\n    /**\r\n     *\r\n     * @param gpuDevice\r\n     * @private\r\n     */\r\n    #initFragmentUniformInfo(gpuDevice) {\r\n        this.#initUniformValue();\r\n        this.updateBindGroup();\r\n    }\r\n    #initUniformValue() {\r\n        const offsetMap = this.fragmentUniformBuffer.descriptor.redStructOffsetMap;\r\n        for (const k in offsetMap) {\r\n            this[k] = this[k];\r\n        }\r\n    }\r\n    updateBindGroup() {\r\n        if (this.dirtyTexture) {\r\n            this.updateFragmentUniformBindGroup({\r\n                layout: this.renderInfo_FragmentUniformsBindGroupLayout,\r\n                entries: [\r\n                    {\r\n                        binding: 0,\r\n                        resource: {\r\n                            buffer: this.fragmentUniformBuffer.gpuBuffer,\r\n                            offset: 0,\r\n                            size: this.fragmentUniformBuffer.gpuBufferSize\r\n                        }\r\n                    },\r\n                    {\r\n                        binding: 1,\r\n                        resource: this.diffuseTextureSampler.gpuSampler,\r\n                    },\r\n                    {\r\n                        binding: 2,\r\n                        resource: this.diffuseTexture?.gpuTextureView || (this.redGPUContext.resourceManager.emptyTextureInfo.textureView)\r\n                    }\r\n                ]\r\n            });\r\n            this.dirtyTexture = false;\r\n            console.log(this);\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BitmapMaterial);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/material/bitmapMaterial/BitmapMaterial.ts?");

/***/ }),

/***/ "./src/material/colorMaterial/ColorMaterial.ts":
/*!*****************************************************!*\
  !*** ./src/material/colorMaterial/ColorMaterial.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertex.wgsl */ \"./src/material/colorMaterial/vertex.wgsl\");\n/* harmony import */ var _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragment.wgsl */ \"./src/material/colorMaterial/fragment.wgsl\");\n/* harmony import */ var _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../resource/buffers/TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n/* harmony import */ var _BaseMaterial__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../BaseMaterial */ \"./src/material/BaseMaterial.ts\");\n/* harmony import */ var _util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/color/hexadecimalToRgb */ \"./src/util/color/hexadecimalToRgb.ts\");\n\r\n\r\n\r\n\r\n\r\nconst fragmentUniformBufferDescriptor = [\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32x4, valueName: 'color' },\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32, valueName: 'alpha' },\r\n];\r\nconst fragmentUniformBindGroupLayoutDescriptor = {\r\n    entries: [\r\n        {\r\n            binding: 0,\r\n            visibility: GPUShaderStage.FRAGMENT,\r\n            buffer: {\r\n                type: 'uniform',\r\n            },\r\n        }\r\n    ]\r\n};\r\nclass ColorMaterial extends _BaseMaterial__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\r\n    // TODO -  color, rgba   ?\r\n    #color;\r\n    get color() {\r\n        return this.#color;\r\n    }\r\n    set color(value) {\r\n        this.#color = value;\r\n        this.#rgb = (0,_util_color_hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value, true);\r\n    }\r\n    #rgb;\r\n    get rgb() {\r\n        return this.#rgb;\r\n    }\r\n    #alpha = 1;\r\n    get alpha() {\r\n        return this.#alpha;\r\n    }\r\n    set alpha(value) {\r\n        this.#alpha = value;\r\n    }\r\n    /**\r\n     *\r\n     * @param redGPUContext\r\n     */\r\n    constructor(redGPUContext, color, alpha = 1) {\r\n        super(redGPUContext, _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"], fragmentUniformBufferDescriptor, fragmentUniformBindGroupLayoutDescriptor);\r\n        const t0 = color || `#${(Math.random() * 0xFFFFFF << 0).toString(16).padStart(6, '0')}`;\r\n        this.color = t0;\r\n        // console.log(this)\r\n        this.#alpha = alpha;\r\n        this.#initFragmentUniformInfo();\r\n        // console.log(this)\r\n    }\r\n    #initFragmentUniformInfo() {\r\n        this.initUniformValue();\r\n        this.updateBindGroup();\r\n    }\r\n    initUniformValue() {\r\n        const gpuDevice = this.redGPUContext.gpuDevice;\r\n        gpuDevice.queue.writeBuffer(this.fragmentUniformBuffer.gpuBuffer, 0, new Float32Array([\r\n            this.rgb[0],\r\n            this.rgb[1],\r\n            this.rgb[2],\r\n            this.alpha\r\n        ]));\r\n    }\r\n    updateBindGroup() {\r\n        this.updateFragmentUniformBindGroup({\r\n            layout: this.renderInfo_FragmentUniformsBindGroupLayout,\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    resource: {\r\n                        buffer: this.fragmentUniformBuffer.gpuBuffer,\r\n                        offset: 0,\r\n                        size: this.fragmentUniformBuffer.gpuBufferSize\r\n                    }\r\n                },\r\n            ]\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ColorMaterial);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/material/colorMaterial/ColorMaterial.ts?");

/***/ }),

/***/ "./src/material/index.ts":
/*!*******************************!*\
  !*** ./src/material/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BitmapMaterial\": () => (/* reexport safe */ _bitmapMaterial_BitmapMaterial__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"ColorMaterial\": () => (/* reexport safe */ _colorMaterial_ColorMaterial__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"SkyBoxMaterial\": () => (/* reexport safe */ _skyboxMaterial_SkyBoxMaterial__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _colorMaterial_ColorMaterial__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./colorMaterial/ColorMaterial */ \"./src/material/colorMaterial/ColorMaterial.ts\");\n/* harmony import */ var _skyboxMaterial_SkyBoxMaterial__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./skyboxMaterial/SkyBoxMaterial */ \"./src/material/skyboxMaterial/SkyBoxMaterial.ts\");\n/* harmony import */ var _bitmapMaterial_BitmapMaterial__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bitmapMaterial/BitmapMaterial */ \"./src/material/bitmapMaterial/BitmapMaterial.ts\");\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/material/index.ts?");

/***/ }),

/***/ "./src/material/skyboxMaterial/SkyBoxMaterial.ts":
/*!*******************************************************!*\
  !*** ./src/material/skyboxMaterial/SkyBoxMaterial.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertex.wgsl */ \"./src/material/skyboxMaterial/vertex.wgsl\");\n/* harmony import */ var _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragment.wgsl */ \"./src/material/skyboxMaterial/fragment.wgsl\");\n/* harmony import */ var _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../resource/buffers/TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n/* harmony import */ var _BaseMaterial__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../BaseMaterial */ \"./src/material/BaseMaterial.ts\");\n/* harmony import */ var _resource_texture_TextureSampler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../resource/texture/TextureSampler */ \"./src/resource/texture/TextureSampler.ts\");\n\r\n\r\n\r\n\r\n\r\nconst fragmentUniformBufferDescriptor = [\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_2__[\"default\"].float32, valueName: 'opacity' },\r\n];\r\nconst fragmentUniformBindGroupLayoutDescriptor = {\r\n    entries: [\r\n        {\r\n            binding: 0,\r\n            visibility: GPUShaderStage.FRAGMENT,\r\n            buffer: {\r\n                type: 'uniform',\r\n            },\r\n        },\r\n        {\r\n            binding: 1,\r\n            visibility: GPUShaderStage.FRAGMENT,\r\n            sampler: {\r\n                type: 'filtering',\r\n            },\r\n        },\r\n        {\r\n            binding: 2,\r\n            visibility: GPUShaderStage.FRAGMENT,\r\n            texture: {\r\n                viewDimension: 'cube'\r\n            }\r\n        }\r\n    ]\r\n};\r\nclass SkyBoxMaterial extends _BaseMaterial__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\r\n    #texture;\r\n    get texture() {\r\n        return this.#texture;\r\n    }\r\n    set texture(value) {\r\n        this.#texture = value;\r\n        if (this.#texture) {\r\n            this.#texture.addTargetMaterial(this);\r\n        }\r\n        this.dirtyTexture = true;\r\n    }\r\n    #sampler;\r\n    /**\r\n     *\r\n     * @param redGPUContext\r\n     * @param texture\r\n     */\r\n    constructor(redGPUContext, texture) {\r\n        super(redGPUContext, _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"], fragmentUniformBufferDescriptor, fragmentUniformBindGroupLayoutDescriptor);\r\n        const gpuDevice = this.redGPUContext.gpuDevice;\r\n        this.#sampler = new _resource_texture_TextureSampler__WEBPACK_IMPORTED_MODULE_4__[\"default\"](redGPUContext, { magFilter: 'linear', minFilter: 'linear', });\r\n        this.#initFragmentUniformInfo(gpuDevice);\r\n        this.texture = texture;\r\n        // console.log(this)\r\n    }\r\n    /**\r\n     *\r\n     * @param gpuDevice\r\n     * @private\r\n     */\r\n    #initFragmentUniformInfo(gpuDevice) {\r\n        this.updateBindGroup();\r\n    }\r\n    updateBindGroup() {\r\n        if (this.dirtyTexture) {\r\n            this.updateFragmentUniformBindGroup({\r\n                layout: this.renderInfo_FragmentUniformsBindGroupLayout,\r\n                entries: [\r\n                    {\r\n                        binding: 0,\r\n                        resource: {\r\n                            buffer: this.fragmentUniformBuffer.gpuBuffer,\r\n                            offset: 0,\r\n                            size: this.fragmentUniformBuffer.gpuBufferSize\r\n                        }\r\n                    },\r\n                    {\r\n                        binding: 1,\r\n                        resource: this.#sampler.gpuSampler,\r\n                    },\r\n                    {\r\n                        binding: 2,\r\n                        resource: this.#texture?.gpuTextureView || (this.redGPUContext.resourceManager.emptyCubeTextureInfo.textureView)\r\n                    }\r\n                ]\r\n            });\r\n            this.dirtyTexture = false;\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SkyBoxMaterial);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/material/skyboxMaterial/SkyBoxMaterial.ts?");

/***/ }),

/***/ "./src/object3d/base/BaseObject3D.ts":
/*!*******************************************!*\
  !*** ./src/object3d/base/BaseObject3D.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _BaseObject3DPipeline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseObject3DPipeline */ \"./src/object3d/base/BaseObject3DPipeline.ts\");\n\r\nclass BaseObject3D extends _BaseObject3DPipeline__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #vertexUniformBufferDescriptor;\r\n    get vertexUniformBufferDescriptor() {\r\n        return this.#vertexUniformBufferDescriptor;\r\n    }\r\n    #vertexUniformBindGroupLayoutDescriptor;\r\n    get vertexUniformBindGroupLayoutDescriptor() {\r\n        return this.#vertexUniformBindGroupLayoutDescriptor;\r\n    }\r\n    constructor(redGPUContext, vertexUniformBufferDescriptor, vertexUniformBindGroupLayoutDescriptor) {\r\n        super(redGPUContext, vertexUniformBufferDescriptor, vertexUniformBindGroupLayoutDescriptor);\r\n        this.#vertexUniformBufferDescriptor = vertexUniformBufferDescriptor;\r\n        this.#vertexUniformBindGroupLayoutDescriptor = vertexUniformBindGroupLayoutDescriptor;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BaseObject3D);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/object3d/base/BaseObject3D.ts?");

/***/ }),

/***/ "./src/object3d/base/BaseObject3DPipeline.ts":
/*!***************************************************!*\
  !*** ./src/object3d/base/BaseObject3DPipeline.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../context/RedGPUContext */ \"./src/context/RedGPUContext.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resource/buffers/uniformBuffer/UniformBufferFloat32 */ \"./src/resource/buffers/uniformBuffer/UniformBufferFloat32.ts\");\n/* harmony import */ var _BaseObject3DTransform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseObject3DTransform */ \"./src/object3d/base/BaseObject3DTransform.ts\");\n/* harmony import */ var _mesh_MeshPipeline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../mesh/MeshPipeline */ \"./src/object3d/mesh/MeshPipeline.ts\");\n/* harmony import */ var _util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/errorFunc/throwErrorInstanceOf */ \"./src/util/errorFunc/throwErrorInstanceOf.js\");\n\r\n\r\n\r\n\r\n\r\nclass BaseObject3DPipeline extends _BaseObject3DTransform__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\r\n    dirtyPipeline = false;\r\n    ///////////////\r\n    #geometry;\r\n    get geometry() {\r\n        return this.#geometry;\r\n    }\r\n    set geometry(value) {\r\n        this.#geometry = value;\r\n        this.dirtyPipeline = true;\r\n        if (this.#geometry) {\r\n            this.#renderInfo_pipeline_VertexBuffersInfo = [\r\n                {\r\n                    arrayStride: this.geometry.vertexBuffer.arrayStride,\r\n                    attributes: this.geometry.vertexBuffer.attributes\r\n                }\r\n            ];\r\n        }\r\n    }\r\n    #material;\r\n    get material() {\r\n        return this.#material;\r\n    }\r\n    set material(value) {\r\n        this.#material = value;\r\n        this.materialBindGroupID = this.material?.bindGroupID;\r\n        this.dirtyPipeline = true;\r\n    }\r\n    materialBindGroupID;\r\n    ///////////////\r\n    #vertexUniformBuffer;\r\n    get vertexUniformBuffer() {\r\n        return this.#vertexUniformBuffer;\r\n    }\r\n    #renderInfo_VertexUniformBindGroupLayout;\r\n    get renderInfo_VertexUniformBindGroupLayout() {\r\n        return this.#renderInfo_VertexUniformBindGroupLayout;\r\n    }\r\n    #renderInfo_pipeline_VertexBuffersInfo;\r\n    get renderInfo_pipeline_VertexBuffersInfo() {\r\n        return this.#renderInfo_pipeline_VertexBuffersInfo;\r\n    }\r\n    #renderInfo_VertexUniformBindGroup;\r\n    get renderInfo_VertexUniformBindGroup() {\r\n        return this.#renderInfo_VertexUniformBindGroup;\r\n    }\r\n    #renderInfo_VertexUniformBindGroupDescriptor;\r\n    #renderInfo_pipeline;\r\n    get renderInfo_pipeline() {\r\n        return this.#renderInfo_pipeline;\r\n    }\r\n    ///////////////////////////////////////////////////\r\n    #topology = 'triangle-list';\r\n    get topology() {\r\n        return this.#topology;\r\n    }\r\n    set topology(value) {\r\n        this.#topology = value;\r\n        this.dirtyPipeline = true;\r\n    }\r\n    #cullMode = 'none';\r\n    get cullMode() {\r\n        return this.#cullMode;\r\n    }\r\n    set cullMode(value) {\r\n        this.#cullMode = value;\r\n        this.dirtyPipeline = true;\r\n    }\r\n    #frontFace = 'ccw';\r\n    get frontFace() {\r\n        return this.#frontFace;\r\n    }\r\n    set frontFace(value) {\r\n        this.#frontFace = value;\r\n        this.dirtyPipeline = true;\r\n    }\r\n    #depthWriteEnabled = true;\r\n    get depthWriteEnabled() {\r\n        return this.#depthWriteEnabled;\r\n    }\r\n    set depthWriteEnabled(value) {\r\n        this.#depthWriteEnabled = value;\r\n        this.dirtyPipeline = true;\r\n    }\r\n    #depthCompare = 'less-equal';\r\n    get depthCompare() {\r\n        return this.#depthCompare;\r\n    }\r\n    set depthCompare(value) {\r\n        this.#depthCompare = value;\r\n        this.dirtyPipeline = true;\r\n    }\r\n    #depthStencilFormat = \"depth24plus-stencil8\";\r\n    get depthStencilFormat() {\r\n        return this.#depthStencilFormat;\r\n    }\r\n    set depthStencilFormat(value) {\r\n        this.#depthStencilFormat = value;\r\n        this.dirtyPipeline = true;\r\n    }\r\n    ///////////////////////////////////////////////////\r\n    #redGPUContext;\r\n    get redGPUContext() {\r\n        return this.#redGPUContext;\r\n    }\r\n    constructor(redGPUContext, vertexUniformBufferDescriptor, vertexUniformBindGroupLayoutDescriptor) {\r\n        super();\r\n        if (!(redGPUContext instanceof _context_RedGPUContext__WEBPACK_IMPORTED_MODULE_0__[\"default\"]))\r\n            (0,_util_errorFunc_throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, 'redGPUContext', 'RedGPUContext');\r\n        this.#redGPUContext = redGPUContext;\r\n        const { gpuDevice } = redGPUContext;\r\n        this.#vertexUniformBuffer = new _resource_buffers_uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.redGPUContext, vertexUniformBufferDescriptor);\r\n        this.#renderInfo_VertexUniformBindGroupLayout = gpuDevice.createBindGroupLayout(vertexUniformBindGroupLayoutDescriptor);\r\n    }\r\n    updateVertexUniformBindGroup(renderInfo_VertexUniformBindGroupDescriptor) {\r\n        const { gpuDevice } = this.redGPUContext;\r\n        // TODO      \r\n        this.#renderInfo_VertexUniformBindGroupDescriptor = renderInfo_VertexUniformBindGroupDescriptor;\r\n        // \r\n        this.#renderInfo_VertexUniformBindGroup = gpuDevice.createBindGroup(this.#renderInfo_VertexUniformBindGroupDescriptor);\r\n    }\r\n    updatePipeline(targetSystemUniformsBindGroupLayout) {\r\n        //     \r\n        if (this.materialBindGroupID !== this.material?.bindGroupID) {\r\n            this.materialBindGroupID = this.material?.bindGroupID;\r\n            this.dirtyPipeline = true;\r\n        }\r\n        if (this.dirtyPipeline) {\r\n            if (this.material) {\r\n                this.material.updateBindGroup();\r\n            }\r\n            if (this.geometry && this.material) {\r\n                this.#renderInfo_pipeline = new _mesh_MeshPipeline__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.redGPUContext, this, targetSystemUniformsBindGroupLayout);\r\n            }\r\n            this.dirtyPipeline = false;\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BaseObject3DPipeline);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/object3d/base/BaseObject3DPipeline.ts?");

/***/ }),

/***/ "./src/object3d/base/BaseObject3DTransform.ts":
/*!****************************************************!*\
  !*** ./src/object3d/base/BaseObject3DTransform.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/gl-matrix */ \"./src/util/gl-matrix/index.js\");\n/* harmony import */ var _DisplayContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DisplayContainer */ \"./src/object3d/base/DisplayContainer.ts\");\n/* harmony import */ var _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CONST_DIRTY_TRANSFORM_STATE */ \"./src/object3d/base/CONST_DIRTY_TRANSFORM_STATE.ts\");\n\r\n\r\n\r\nclass BaseObject3DTransform extends _DisplayContainer__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n    dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    ///////////////\r\n    #scaleX = 1;\r\n    get scaleX() {\r\n        return this.#scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this.#scaleX = value;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    #scaleY = 1;\r\n    get scaleY() {\r\n        return this.#scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this.#scaleY = value;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    #scaleZ = 1;\r\n    get scaleZ() {\r\n        return this.#scaleZ;\r\n    }\r\n    set scaleZ(value) {\r\n        this.#scaleZ = value;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    setScale(x, y, z) {\r\n        this.#scaleX = x;\r\n        this.#scaleY = y;\r\n        this.#scaleZ = z;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    #x = 0;\r\n    get x() {\r\n        return this.#x;\r\n    }\r\n    set x(value) {\r\n        this.#x = value;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    #y = 0;\r\n    get y() {\r\n        return this.#y;\r\n    }\r\n    set y(value) {\r\n        this.#y = value;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    #z = 0;\r\n    get z() {\r\n        return this.#z;\r\n    }\r\n    set z(value) {\r\n        this.#z = value;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    get position() {\r\n        return [this.#x, this.#y, this.#z];\r\n    }\r\n    ///////////////\r\n    #rotationX = 0;\r\n    get rotationX() {\r\n        return this.#rotationX;\r\n    }\r\n    set rotationX(value) {\r\n        this.#rotationX = value;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    #rotationY = 0;\r\n    get rotationY() {\r\n        return this.#rotationY;\r\n    }\r\n    set rotationY(value) {\r\n        this.#rotationY = value;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    #rotationZ = 0;\r\n    get rotationZ() {\r\n        return this.#rotationZ;\r\n    }\r\n    set rotationZ(value) {\r\n        this.#rotationZ = value;\r\n        this.dirtyTransformState = _CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DIRTY;\r\n    }\r\n    ///////////////\r\n    matrix = _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.create();\r\n    normalMatrix = _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.create();\r\n    constructor() {\r\n        super();\r\n    }\r\n    setPosition(x, y, z) {\r\n        this.#x = x;\r\n        this.#y = y;\r\n        this.#z = z;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BaseObject3DTransform);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/object3d/base/BaseObject3DTransform.ts?");

/***/ }),

/***/ "./src/object3d/base/CONST_DIRTY_TRANSFORM_STATE.ts":
/*!**********************************************************!*\
  !*** ./src/object3d/base/CONST_DIRTY_TRANSFORM_STATE.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst CONST_DIRTY_TRANSFORM_STATE = {\r\n    NONE: 0,\r\n    DIRTY: 1,\r\n    NEED_GPU_UPDATE: 2\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CONST_DIRTY_TRANSFORM_STATE);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/object3d/base/CONST_DIRTY_TRANSFORM_STATE.ts?");

/***/ }),

/***/ "./src/object3d/base/DisplayContainer.ts":
/*!***********************************************!*\
  !*** ./src/object3d/base/DisplayContainer.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass DisplayContainer {\r\n    #children = [];\r\n    get children() {\r\n        return this.#children;\r\n    }\r\n    #parent;\r\n    get parent() {\r\n        return this.#parent;\r\n    }\r\n    set parent(value) {\r\n        this.#parent = value;\r\n    }\r\n    constructor() {\r\n    }\r\n    addChild(child) {\r\n        if (child.parent)\r\n            child.parent.remove(child);\r\n        child.parent = this;\r\n        this.#children.push(child);\r\n        return this;\r\n    }\r\n    addChildAt(child, index) {\r\n        if (child.parent)\r\n            child.parent.remove(child);\r\n        child.parent = this;\r\n        if (this.#children.length < index)\r\n            index = this.#children.length;\r\n        this.#children.splice(index, 0, child);\r\n        return this;\r\n    }\r\n    removeChild(child) {\r\n        child.parent = null;\r\n        this.#children.push(child);\r\n        return this;\r\n    }\r\n    removeChildAt(index) {\r\n        const child = this.#children[index];\r\n        if (child) {\r\n            child.parent = null;\r\n            this.#children.splice(index, 1);\r\n        }\r\n        return this;\r\n    }\r\n    removeAllChild() {\r\n        let i = this.#children.length;\r\n        while (i--) {\r\n            this.#children[i].parent = null;\r\n        }\r\n        this.#children.length = 0;\r\n        return this;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DisplayContainer);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/object3d/base/DisplayContainer.ts?");

/***/ }),

/***/ "./src/object3d/index.ts":
/*!*******************************!*\
  !*** ./src/object3d/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BaseObject3D\": () => (/* reexport safe */ _base_BaseObject3D__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"BaseObject3DPipeline\": () => (/* reexport safe */ _base_BaseObject3DPipeline__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"CONST_DIRTY_TRANSFORM_STATE\": () => (/* reexport safe */ _base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"Mesh\": () => (/* reexport safe */ _mesh_Mesh__WEBPACK_IMPORTED_MODULE_3__.Mesh)\n/* harmony export */ });\n/* harmony import */ var _base_BaseObject3DPipeline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base/BaseObject3DPipeline */ \"./src/object3d/base/BaseObject3DPipeline.ts\");\n/* harmony import */ var _base_BaseObject3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/BaseObject3D */ \"./src/object3d/base/BaseObject3D.ts\");\n/* harmony import */ var _base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base/CONST_DIRTY_TRANSFORM_STATE */ \"./src/object3d/base/CONST_DIRTY_TRANSFORM_STATE.ts\");\n/* harmony import */ var _mesh_Mesh__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mesh/Mesh */ \"./src/object3d/mesh/Mesh.ts\");\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/object3d/index.ts?");

/***/ }),

/***/ "./src/object3d/mesh/Mesh.ts":
/*!***********************************!*\
  !*** ./src/object3d/mesh/Mesh.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Mesh\": () => (/* binding */ Mesh)\n/* harmony export */ });\n/* harmony import */ var _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/gl-matrix */ \"./src/util/gl-matrix/index.js\");\n/* harmony import */ var _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resource/buffers/TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n/* harmony import */ var _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../resource/buffers/uniformBuffer/UniformBufferDescriptor */ \"./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts\");\n/* harmony import */ var _base_BaseObject3D__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base/BaseObject3D */ \"./src/object3d/base/BaseObject3D.ts\");\n/* harmony import */ var _base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base/CONST_DIRTY_TRANSFORM_STATE */ \"./src/object3d/base/CONST_DIRTY_TRANSFORM_STATE.ts\");\n\r\n\r\n\r\n\r\n\r\nconst define_vertexUniformBufferDescriptor = new _resource_buffers_uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_2__[\"default\"]([\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mat4, valueName: 'modelMatrix' },\r\n    { size: _resource_buffers_TypeSize__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mat4, valueName: 'normalMatrix' },\r\n]);\r\nconst define_vertexUniformBindGroupLayoutDescriptor = {\r\n    entries: [\r\n        {\r\n            binding: 0,\r\n            visibility: GPUShaderStage.VERTEX,\r\n            buffer: {\r\n                type: 'uniform',\r\n            },\r\n        }\r\n    ]\r\n};\r\nclass Mesh extends _base_BaseObject3D__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\r\n    updateBindGroup() {\r\n        this.updateVertexUniformBindGroup({\r\n            layout: this.renderInfo_VertexUniformBindGroupLayout,\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    resource: {\r\n                        buffer: this.vertexUniformBuffer.gpuBuffer,\r\n                        offset: 0,\r\n                        size: this.vertexUniformBuffer.gpuBufferSize\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n    constructor(redGPUContext, geometry, material, vertexUniformBufferDescriptor = define_vertexUniformBufferDescriptor, vertexUniformBindGroupLayoutDescriptor = define_vertexUniformBindGroupLayoutDescriptor) {\r\n        super(redGPUContext, vertexUniformBufferDescriptor, vertexUniformBindGroupLayoutDescriptor);\r\n        const device = redGPUContext.gpuDevice;\r\n        this.geometry = geometry;\r\n        this.material = material;\r\n        //   \r\n        this.#initVertexUniformBindGroupLayout(device);\r\n        //   \r\n        // this.updatePipeline()\r\n        // console.log(this)\r\n    }\r\n    #initVertexUniformBindGroupLayout(device) {\r\n        this.updateBindGroup();\r\n    }\r\n    updateTransform() {\r\n        const { redStructOffsetMap, redGpuStructOffsetMap } = this.vertexUniformBuffer.descriptor;\r\n        // mat4.identity(this.matrix);\r\n        // mat4.translate(this.matrix, this.matrix, [this.x, this.y, this.z]);\r\n        // mat4.rotateX(this.matrix, this.matrix, this.rotationX);\r\n        // mat4.rotateY(this.matrix, this.matrix, this.rotationY);\r\n        // mat4.rotateZ(this.matrix, this.matrix, this.rotationZ);\r\n        // mat4.scale(this.matrix, this.matrix, [this.scaleX, this.scaleY, this.scaleZ]);\r\n        // update Uniform\r\n        // this.vertexUniformBuffer.data.set(this.matrix,redStructOffsetMap['modelMatrix'])\r\n        this.redGPUContext.gpuDevice.queue.writeBuffer(this.vertexUniformBuffer.gpuBuffer, redGpuStructOffsetMap['modelMatrix'], this.matrix);\r\n        // this.vertexUniformBuffer.update(0, this.matrix)\r\n        /////////////////////////////////////////////////////////\r\n        if (this.vertexUniformBufferDescriptor.redStructOffsetMap['normalMatrix']) {\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.transpose(this.normalMatrix, _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.invert(this.normalMatrix, this.matrix));\r\n            // this.vertexUniformBuffer.data.set(this.normalMatrix,redStructOffsetMap['normalMatrix'])\r\n            this.redGPUContext.gpuDevice.queue.writeBuffer(this.vertexUniformBuffer.gpuBuffer, redGpuStructOffsetMap['normalMatrix'], this.normalMatrix);\r\n        }\r\n        // this.vertexUniformBuffer.update()\r\n        /////////////////////////////////////////////////////////\r\n        this.dirtyTransformState = _base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].NONE;\r\n    }\r\n    renderBundle;\r\n    render(view, passEncoder, time) {\r\n        if (this.redGPUContext.dirtyMultiSample)\r\n            this.dirtyPipeline = true;\r\n        // dirty \r\n        if (this.materialBindGroupID !== this.material?.bindGroupID) {\r\n            this.materialBindGroupID = this.material?.bindGroupID;\r\n            this.dirtyPipeline = true;\r\n        }\r\n        const tempDirtyPipeline = this.dirtyPipeline;\r\n        const frustumPlanes = view.frustumPlanes;\r\n        let frustumCulling = true;\r\n        // GPU\r\n        if (this.dirtyTransformState === _base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].DIRTY) {\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.identity(this.matrix);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.translate(this.matrix, this.matrix, [this.x, this.y, this.z]);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.rotateX(this.matrix, this.matrix, this.rotationX);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.rotateY(this.matrix, this.matrix, this.rotationY);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.rotateZ(this.matrix, this.matrix, this.rotationZ);\r\n            _util_gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.scale(this.matrix, this.matrix, [this.scaleX, this.scaleY, this.scaleZ]);\r\n            this.dirtyTransformState = _base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].NEED_GPU_UPDATE;\r\n        }\r\n        if (this.geometry && this.material) {\r\n            // if(!this.renderBundle || tempDirtyPipeline){\r\n            //     const des : GPURenderBundleEncoderDescriptor = {\r\n            //         colorFormats: [navigator.gpu.getPreferredCanvasFormat()],\r\n            //         depthStencilFormat : 'depth24plus-stencil8',\r\n            //         sampleCount:4,\r\n            //     }\r\n            //     const renderBundleEncoder:GPURenderBundleEncoder = this.redGPUContext.gpuDevice.createRenderBundleEncoder(des)\r\n            //     //\r\n            //     renderBundleEncoder.setBindGroup(0, view.renderInfo_SystemUniformBindGroup);\r\n            //     //\r\n            //     renderBundleEncoder.setPipeline(this.renderInfo_pipeline.gpuPipeline); // \r\n            //     renderBundleEncoder.setVertexBuffer(0, this.geometry.vertexGpuBuffer); //   \r\n            //     renderBundleEncoder.setBindGroup(1, this.renderInfo_VertexUniformBindGroup); //    1 \r\n            //     renderBundleEncoder.setBindGroup(2, this.material.renderInfo_FragmentUniformBindGroup); //     2 \r\n            //     if (this.geometry.indexGpuBuffer) {\r\n            //         //TODO  \r\n            //         renderBundleEncoder.setIndexBuffer(this.geometry.indexGpuBuffer, 'uint32')\r\n            //         renderBundleEncoder.drawIndexed(this.geometry.indexBuffer.indexNum, 1, 0, 0, 0);\r\n            //     } else {\r\n            //         renderBundleEncoder.draw(this.geometry.vertexBuffer.vertexCount, 1, 0, 0);\r\n            //     }\r\n            //     this.renderBundle = renderBundleEncoder.finish();\r\n            // }else{\r\n            //     // console.log(this.renderBundle)\r\n            // }\r\n            //\r\n            // passEncoder.executeBundles([this.renderBundle])\r\n            {\r\n                let frustumPlanes0, frustumPlanes1, frustumPlanes2, frustumPlanes3, frustumPlanes4, frustumPlanes5;\r\n                frustumPlanes0 = frustumPlanes[0];\r\n                frustumPlanes1 = frustumPlanes[1];\r\n                frustumPlanes2 = frustumPlanes[2];\r\n                frustumPlanes3 = frustumPlanes[3];\r\n                frustumPlanes4 = frustumPlanes[4];\r\n                frustumPlanes5 = frustumPlanes[5];\r\n                let a00, a01, a02;\r\n                const geoVolume = this.geometry.volume;\r\n                let geometryRadius = geoVolume.geometryRadius;\r\n                let radius = Math.max(geometryRadius, Math.max(geometryRadius * this.matrix[0], Math.max(geometryRadius * this.matrix[5], geometryRadius * this.matrix[10])));\r\n                // let radiusTemp: number = geometryRadius * this.matrix[5];\r\n                // radius = radius < radiusTemp ? radiusTemp : radius;\r\n                // radiusTemp = geometryRadius * this.matrix[10];\r\n                // radius = radius < radiusTemp ? radiusTemp : radius;\r\n                // console.log(radius)\r\n                a00 = this.matrix[12], a01 = this.matrix[13], a02 = this.matrix[14],\r\n                    frustumPlanes0[0] * a00 + frustumPlanes0[1] * a01 + frustumPlanes0[2] * a02 + frustumPlanes0[3] <= -radius ? frustumCulling = false\r\n                        : frustumPlanes1[0] * a00 + frustumPlanes1[1] * a01 + frustumPlanes1[2] * a02 + frustumPlanes1[3] <= -radius ? frustumCulling = false\r\n                            : frustumPlanes2[0] * a00 + frustumPlanes2[1] * a01 + frustumPlanes2[2] * a02 + frustumPlanes2[3] <= -radius ? frustumCulling = false\r\n                                : frustumPlanes3[0] * a00 + frustumPlanes3[1] * a01 + frustumPlanes3[2] * a02 + frustumPlanes3[3] <= -radius ? frustumCulling = false\r\n                                    : frustumPlanes4[0] * a00 + frustumPlanes4[1] * a01 + frustumPlanes4[2] * a02 + frustumPlanes4[3] <= -radius ? frustumCulling = false\r\n                                        : frustumPlanes5[0] * a00 + frustumPlanes5[1] * a01 + frustumPlanes5[2] * a02 + frustumPlanes5[3] <= -radius ? frustumCulling = false : 0;\r\n            }\r\n            if (frustumCulling) {\r\n                if (this.dirtyPipeline)\r\n                    this.updatePipeline(view.systemUniformsBindGroupLayout);\r\n                if (this.dirtyTransformState === _base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].NEED_GPU_UPDATE)\r\n                    this.updateTransform();\r\n                passEncoder.setPipeline(this.renderInfo_pipeline.gpuPipeline); // \r\n                passEncoder.setVertexBuffer(0, this.geometry.vertexGpuBuffer); //   \r\n                passEncoder.setBindGroup(1, this.renderInfo_VertexUniformBindGroup); //    1 \r\n                passEncoder.setBindGroup(2, this.material.renderInfo_FragmentUniformBindGroup); //     2 \r\n                if (this.geometry.indexGpuBuffer) {\r\n                    //TODO  \r\n                    passEncoder.setIndexBuffer(this.geometry.indexGpuBuffer, 'uint32');\r\n                    passEncoder.drawIndexed(this.geometry.indexBuffer.indexNum, 1, 0, 0, 0);\r\n                }\r\n                else {\r\n                    passEncoder.draw(this.geometry.vertexBuffer.vertexCount, 1, 0, 0);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.dirtyTransformState = _base_CONST_DIRTY_TRANSFORM_STATE__WEBPACK_IMPORTED_MODULE_4__[\"default\"].NONE;\r\n        }\r\n        //\r\n        const children = this.children;\r\n        let i = children.length;\r\n        while (i--)\r\n            children[i].render(view, passEncoder, time);\r\n        return frustumCulling ? 0 : this;\r\n        //\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/object3d/mesh/Mesh.ts?");

/***/ }),

/***/ "./src/object3d/mesh/MeshPipeline.ts":
/*!*******************************************!*\
  !*** ./src/object3d/mesh/MeshPipeline.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass MeshPipeline {\r\n    #gpuPipeline;\r\n    get gpuPipeline() {\r\n        return this.#gpuPipeline;\r\n    }\r\n    constructor(redGPUContext, mesh, targetSystemUniformsBindGroupLayout) {\r\n        const gpuDevice = redGPUContext.gpuDevice;\r\n        const { material, renderInfo_VertexUniformBindGroupLayout } = mesh;\r\n        const { topology, cullMode, frontFace } = mesh;\r\n        const { depthWriteEnabled, depthCompare, depthStencilFormat } = mesh;\r\n        const { renderInfo_FragmentUniformsBindGroupLayout } = material;\r\n        //        \r\n        // console.log(renderInfo_VertexUniformBindGroupLayout, renderInfo_FragmentUniformsBindGroupLayout)\r\n        const gpuPipeline_Layout = gpuDevice.createPipelineLayout({\r\n            // maxBindGroups  \r\n            bindGroupLayouts: [\r\n                targetSystemUniformsBindGroupLayout,\r\n                renderInfo_VertexUniformBindGroupLayout,\r\n                renderInfo_FragmentUniformsBindGroupLayout\r\n            ]\r\n        });\r\n        const gpuPipeline_Vertex = {\r\n            module: material.vShaderModule,\r\n            entryPoint: 'main',\r\n            buffers: mesh.renderInfo_pipeline_VertexBuffersInfo // maxVertexBuffer  .\r\n        };\r\n        const pipeLineDescriptor = {\r\n            layout: gpuPipeline_Layout,\r\n            vertex: gpuPipeline_Vertex,\r\n            fragment: material.renderInfo_pipeline_Fragment,\r\n            multisample: {\r\n                count: redGPUContext.useMultiSample ? 4 : 1\r\n            },\r\n            //TODO   \r\n            primitive: {\r\n                topology,\r\n                cullMode,\r\n                frontFace,\r\n            },\r\n            depthStencil: {\r\n                depthWriteEnabled,\r\n                depthCompare,\r\n                format: depthStencilFormat,\r\n            }\r\n        };\r\n        //  GPU    \r\n        //    \r\n        this.#gpuPipeline = gpuDevice.createRenderPipeline(pipeLineDescriptor);\r\n        // // console.log(this)\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MeshPipeline);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/object3d/mesh/MeshPipeline.ts?");

/***/ }),

/***/ "./src/resource/buffers/TypeSize.ts":
/*!******************************************!*\
  !*** ./src/resource/buffers/TypeSize.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\r\nlet TypeSize = {\r\n    'float32': Float32Array.BYTES_PER_ELEMENT,\r\n    'float32x2': 2 * Float32Array.BYTES_PER_ELEMENT,\r\n    \"float32x3\": 3 * Float32Array.BYTES_PER_ELEMENT,\r\n    'float32x4': 4 * Float32Array.BYTES_PER_ELEMENT,\r\n    'mat2': 4 * 2 * Float32Array.BYTES_PER_ELEMENT,\r\n    'mat3': 4 * 3 * Float32Array.BYTES_PER_ELEMENT,\r\n    'mat4': 4 * 4 * Float32Array.BYTES_PER_ELEMENT\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TypeSize);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/buffers/TypeSize.ts?");

/***/ }),

/***/ "./src/resource/buffers/buffer/IndexBuffer.ts":
/*!****************************************************!*\
  !*** ./src/resource/buffers/buffer/IndexBuffer.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n\r\n/**\r\n * IndexBuffer\r\n */\r\nclass IndexBuffer extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #gpuBuffer;\r\n    get gpuBuffer() {\r\n        return this.#gpuBuffer;\r\n    }\r\n    #indexNum;\r\n    get indexNum() {\r\n        return this.#indexNum;\r\n    }\r\n    #byteLength;\r\n    get byteLength() {\r\n        return this.#byteLength;\r\n    }\r\n    #descriptor;\r\n    get descriptor() {\r\n        return this.#descriptor;\r\n    }\r\n    #usage;\r\n    get usage() {\r\n        return this.#usage;\r\n    }\r\n    /**\r\n     * IndexBuffer\r\n     */\r\n    constructor(redGPUContext, data, usage = GPUBufferUsage.INDEX | GPUBufferUsage.COPY_DST) {\r\n        super(redGPUContext);\r\n        this.#indexNum = data.length;\r\n        this.#byteLength = data.byteLength;\r\n        this.#usage = usage;\r\n        this.#descriptor = {\r\n            size: data.byteLength,\r\n            usage: this.#usage\r\n        };\r\n        this.#gpuBuffer = this.redGPUContext.gpuDevice.createBuffer(this.#descriptor);\r\n        this.update(0, data);\r\n        // console.log(this)\r\n    }\r\n    update(gpuBufferOffset, data, dataOffset, size) {\r\n        this.redGPUContext.gpuDevice.queue.writeBuffer(this.#gpuBuffer, gpuBufferOffset, data, dataOffset, size);\r\n    }\r\n    destroy() {\r\n        //TODO\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IndexBuffer);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/buffers/buffer/IndexBuffer.ts?");

/***/ }),

/***/ "./src/resource/buffers/buffer/VertexBuffer.ts":
/*!*****************************************************!*\
  !*** ./src/resource/buffers/buffer/VertexBuffer.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n// import VertexBufferDescriptor from \"./VertexBufferDescriptor\";\r\n\r\n/**\r\n * VertexBuffer\r\n */\r\nclass VertexBuffer extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #gpuBuffer;\r\n    get gpuBuffer() {\r\n        return this.#gpuBuffer;\r\n    }\r\n    #byteLength;\r\n    get byteLength() {\r\n        return this.#byteLength;\r\n    }\r\n    #descriptor;\r\n    get descriptor() {\r\n        return this.#descriptor;\r\n    }\r\n    #usage;\r\n    get usage() {\r\n        return this.#usage;\r\n    }\r\n    #vertexCount = 0;\r\n    get vertexCount() {\r\n        return this.#vertexCount;\r\n    }\r\n    #interleaveInfo;\r\n    get interleaveInfo() {\r\n        return this.#interleaveInfo;\r\n    }\r\n    get arrayStride() {\r\n        return this.#interleaveInfo.arrayStride;\r\n    }\r\n    get attributes() {\r\n        return this.#interleaveInfo.attributes;\r\n    }\r\n    constructor(redGPUContext, data, interleaveInfo, usage = GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST) {\r\n        super(redGPUContext);\r\n        this.#interleaveInfo = interleaveInfo;\r\n        this.#vertexCount = data.length / this.#interleaveInfo.stride;\r\n        this.#byteLength = data.byteLength;\r\n        this.#usage = usage;\r\n        this.#descriptor = {\r\n            size: this.#byteLength,\r\n            usage: usage\r\n        };\r\n        this.#gpuBuffer = this.redGPUContext.gpuDevice.createBuffer(this.#descriptor);\r\n        this.update(0, data);\r\n        // console.log(this)\r\n    }\r\n    update(gpuBufferOffset, data, dataOffset, size) {\r\n        this.redGPUContext.gpuDevice.queue.writeBuffer(this.#gpuBuffer, gpuBufferOffset, data, dataOffset, size);\r\n    }\r\n    destroy() {\r\n        //TODO\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VertexBuffer);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/buffers/buffer/VertexBuffer.ts?");

/***/ }),

/***/ "./src/resource/buffers/index.ts":
/*!***************************************!*\
  !*** ./src/resource/buffers/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IndexBuffer\": () => (/* reexport safe */ _buffer_IndexBuffer__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   \"InterleaveInfo\": () => (/* reexport safe */ _interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   \"InterleaveUnit\": () => (/* reexport safe */ _interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"TypeSize\": () => (/* reexport safe */ _TypeSize__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"UniformBufferDescriptor\": () => (/* reexport safe */ _uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"UniformBufferFloat32\": () => (/* reexport safe */ _uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"VertexBuffer\": () => (/* reexport safe */ _buffer_VertexBuffer__WEBPACK_IMPORTED_MODULE_4__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _uniformBuffer_UniformBufferFloat32__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./uniformBuffer/UniformBufferFloat32 */ \"./src/resource/buffers/uniformBuffer/UniformBufferFloat32.ts\");\n/* harmony import */ var _TypeSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n/* harmony import */ var _uniformBuffer_UniformBufferDescriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./uniformBuffer/UniformBufferDescriptor */ \"./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts\");\n/* harmony import */ var _interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interleaveInfo/InterleaveUnit */ \"./src/resource/buffers/interleaveInfo/InterleaveUnit.ts\");\n/* harmony import */ var _buffer_VertexBuffer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./buffer/VertexBuffer */ \"./src/resource/buffers/buffer/VertexBuffer.ts\");\n/* harmony import */ var _interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interleaveInfo/InterleaveInfo */ \"./src/resource/buffers/interleaveInfo/InterleaveInfo.ts\");\n/* harmony import */ var _buffer_IndexBuffer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./buffer/IndexBuffer */ \"./src/resource/buffers/buffer/IndexBuffer.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/buffers/index.ts?");

/***/ }),

/***/ "./src/resource/buffers/interleaveInfo/InterleaveInfo.ts":
/*!***************************************************************!*\
  !*** ./src/resource/buffers/interleaveInfo/InterleaveInfo.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass InterleaveInfo {\r\n    #stride = 0;\r\n    get stride() {\r\n        return this.#stride;\r\n    }\r\n    #arrayStride = 0;\r\n    get arrayStride() {\r\n        return this.#arrayStride;\r\n    }\r\n    #attributes = [];\r\n    get attributes() {\r\n        return this.#attributes;\r\n    }\r\n    constructor(dataList) {\r\n        dataList.forEach((v, index) => {\r\n            this.#stride += v.stride / Float32Array.BYTES_PER_ELEMENT;\r\n            //\r\n            this.#attributes.push({\r\n                attributeHint: v['attributeHint'],\r\n                shaderLocation: index,\r\n                offset: this.#arrayStride,\r\n                format: v['format']\r\n            });\r\n            this.#arrayStride += v['stride'];\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InterleaveInfo);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/buffers/interleaveInfo/InterleaveInfo.ts?");

/***/ }),

/***/ "./src/resource/buffers/interleaveInfo/InterleaveUnit.ts":
/*!***************************************************************!*\
  !*** ./src/resource/buffers/interleaveInfo/InterleaveUnit.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _TypeSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n\r\nclass InterleaveUnit {\r\n    static #VERTEX_POSITION = 'vertexPosition';\r\n    static get VERTEX_POSITION() {\r\n        return this.#VERTEX_POSITION;\r\n    }\r\n    static #VERTEX_NORMAL = 'vertexNormal';\r\n    static get VERTEX_NORMAL() {\r\n        return this.#VERTEX_NORMAL;\r\n    }\r\n    static #VERTEX_COLOR = 'vertexColor';\r\n    static get VERTEX_COLOR() {\r\n        return this.#VERTEX_COLOR;\r\n    }\r\n    static #TEXCOORD = 'texcoord';\r\n    static get TEXCOORD() {\r\n        return this.#TEXCOORD;\r\n    }\r\n    #attributeHint;\r\n    get attributeHint() {\r\n        return this.#attributeHint;\r\n    }\r\n    #format;\r\n    get format() {\r\n        return this.#format;\r\n    }\r\n    #stride;\r\n    get stride() {\r\n        return this.#stride;\r\n    }\r\n    constructor(attributeHint, format) {\r\n        this.#attributeHint = attributeHint;\r\n        this.#format = format;\r\n        this.#stride = _TypeSize__WEBPACK_IMPORTED_MODULE_0__[\"default\"][format];\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InterleaveUnit);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/buffers/interleaveInfo/InterleaveUnit.ts?");

/***/ }),

/***/ "./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts":
/*!***********************************************************************!*\
  !*** ./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/errorFunc/throwError */ \"./src/util/errorFunc/throwError.js\");\n/* harmony import */ var _TypeSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TypeSize */ \"./src/resource/buffers/TypeSize.ts\");\n\r\n\r\n/**\r\n * UniformBufferDescriptor\r\n */\r\nclass UniformBufferDescriptor {\r\n    #redStruct;\r\n    get redStruct() {\r\n        return this.#redStruct;\r\n    }\r\n    #redStructOffsetMap;\r\n    get redStructOffsetMap() {\r\n        return this.#redStructOffsetMap;\r\n    }\r\n    #redGpuStructOffsetMap;\r\n    get redGpuStructOffsetMap() {\r\n        return this.#redGpuStructOffsetMap;\r\n    }\r\n    #typeArraySize;\r\n    get typeArraySize() {\r\n        return this.#typeArraySize;\r\n    }\r\n    #gpuBufferSize;\r\n    get gpuBufferSize() {\r\n        return this.#gpuBufferSize;\r\n    }\r\n    constructor(redStruct = []) {\r\n        if (!Array.isArray(redStruct))\r\n            (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`${this.constructor.name} - only allow Array Instance. / inputValue : ${redStruct} { type : ${typeof redStruct} }`);\r\n        this.#redStruct = JSON.parse(JSON.stringify(redStruct));\r\n        this.#redStructOffsetMap = {};\r\n        this.#redGpuStructOffsetMap = {};\r\n        let offset = 0;\r\n        let FLOAT4_SIZE = _TypeSize__WEBPACK_IMPORTED_MODULE_1__[\"default\"].float32x4;\r\n        const parser = (redStruct) => {\r\n            redStruct.map((v) => {\r\n                if (v['struct']) {\r\n                    parseStruct(v);\r\n                }\r\n                else {\r\n                    if (!v.valueName)\r\n                        (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`${this.constructor.name} - need valueName / inputValue : ${v.valueName} { type : ${typeof v.valueName} }`);\r\n                    if (!v.hasOwnProperty('size'))\r\n                        (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`${this.constructor.name} - need size / inputValue : ${v.size} { type : ${typeof v.size} }`);\r\n                    if (v.size <= FLOAT4_SIZE) {\r\n                        let t0 = Math.floor(offset / FLOAT4_SIZE);\r\n                        let t1 = Math.floor((offset + v.size - 1) / FLOAT4_SIZE);\r\n                        if (t0 != t1)\r\n                            offset += FLOAT4_SIZE - offset % FLOAT4_SIZE;\r\n                        v.offset = offset;\r\n                        // console.log(v.valueName, ' ', offset)\r\n                        offset += v.size;\r\n                    }\r\n                    else {\r\n                        if (offset % FLOAT4_SIZE)\r\n                            offset += FLOAT4_SIZE - offset % FLOAT4_SIZE;\r\n                        v.offset = offset;\r\n                        offset += v.size;\r\n                    }\r\n                    this.#redStructOffsetMap[v['valueName']] = v.offset;\r\n                }\r\n                // v._UUID = v.valueName + '_' + UUID.getNextUUID();\r\n            });\r\n        };\r\n        const parseStruct = (redStruct) => {\r\n            let startOffset = offset;\r\n            let i = 0;\r\n            const len = redStruct['num'];\r\n            for (i; i < len; i++) {\r\n                redStruct['struct'].map((v, index) => {\r\n                    if (!v.valueName)\r\n                        (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`${this.constructor.name} - need valueName / inputValue : ${v.valueName} { type : ${typeof v.valueName} }`);\r\n                    if (!v.hasOwnProperty('size'))\r\n                        (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`${this.constructor.name} - need size / inputValue : ${v.size} { type : ${typeof v.size} }`);\r\n                    if (v.size <= FLOAT4_SIZE) {\r\n                        let t0 = Math.floor(offset / FLOAT4_SIZE);\r\n                        let t1 = Math.floor((offset + v.size - 1) / FLOAT4_SIZE);\r\n                        if (t0 != t1) {\r\n                            offset += FLOAT4_SIZE - offset % FLOAT4_SIZE;\r\n                        }\r\n                        if (i === 0 && index === 0)\r\n                            startOffset = offset;\r\n                        if (i === 0)\r\n                            v.offset = offset;\r\n                        offset += v.size;\r\n                    }\r\n                    else {\r\n                        if (offset % FLOAT4_SIZE)\r\n                            offset += FLOAT4_SIZE - offset % FLOAT4_SIZE;\r\n                        if (i === 0 && index === 0)\r\n                            startOffset = offset;\r\n                        if (i === 0)\r\n                            v.offset = offset;\r\n                        offset += v.size;\r\n                    }\r\n                    if (i === 0) {\r\n                        // this.#redStructOffsetMap[v['valueName']] = v.offset;\r\n                    }\r\n                    if (i === 0 && index === 0) {\r\n                        this.#redStructOffsetMap[redStruct['valueName']] = startOffset;\r\n                        redStruct['offset'] = startOffset;\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        parser(this.#redStruct);\r\n        let t0 = offset % FLOAT4_SIZE;\r\n        this.#gpuBufferSize = (this.#redStruct.length ? (offset + (t0 ? (FLOAT4_SIZE - t0) : 0)) : FLOAT4_SIZE);\r\n        this.#typeArraySize = this.#gpuBufferSize / Float32Array.BYTES_PER_ELEMENT;\r\n        Object.keys(this.#redStructOffsetMap).forEach(key => {\r\n            this.#redGpuStructOffsetMap[key] = this.#redStructOffsetMap[key];\r\n            this.#redStructOffsetMap[key] = this.#redStructOffsetMap[key] / Float32Array.BYTES_PER_ELEMENT;\r\n        });\r\n        // console.log(this)\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UniformBufferDescriptor);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/buffers/uniformBuffer/UniformBufferDescriptor.ts?");

/***/ }),

/***/ "./src/resource/buffers/uniformBuffer/UniformBufferFloat32.ts":
/*!********************************************************************!*\
  !*** ./src/resource/buffers/uniformBuffer/UniformBufferFloat32.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/errorFunc/throwError */ \"./src/util/errorFunc/throwError.js\");\n\r\n\r\n/**\r\n *  \r\n */\r\nclass UniformBufferFloat32 extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #gpuBuffer;\r\n    get gpuBuffer() {\r\n        return this.#gpuBuffer;\r\n    }\r\n    #typeArraySize;\r\n    get typeArraySize() {\r\n        return this.#typeArraySize;\r\n    }\r\n    #gpuBufferSize;\r\n    get gpuBufferSize() {\r\n        return this.#gpuBufferSize;\r\n    }\r\n    #descriptor;\r\n    get descriptor() {\r\n        return this.#descriptor;\r\n    }\r\n    #usage;\r\n    get usage() {\r\n        return this.#usage;\r\n    }\r\n    #data;\r\n    get data() {\r\n        return this.#data;\r\n    }\r\n    set data(value) {\r\n        this.#data = value;\r\n    }\r\n    constructor(redGPUContext, descriptor, usage = GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST) {\r\n        super(redGPUContext);\r\n        this.#descriptor = descriptor;\r\n        this.#typeArraySize = descriptor.typeArraySize;\r\n        this.#gpuBufferSize = descriptor.gpuBufferSize;\r\n        this.#usage = usage;\r\n        this.#data = new Float32Array(this.#typeArraySize);\r\n        this.#gpuBuffer = this.redGPUContext.gpuDevice.createBuffer({\r\n            size: this.#gpuBufferSize,\r\n            usage: this.#usage,\r\n        });\r\n        // console.log(this)\r\n    }\r\n    update(data, gpuBufferOffset = 0, dataOffset, size) {\r\n        if (!data)\r\n            (0,_util_errorFunc_throwError__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('  ');\r\n        this.#data = data;\r\n        this.redGPUContext.gpuDevice.queue.writeBuffer(this.#gpuBuffer, gpuBufferOffset, data, dataOffset, size);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UniformBufferFloat32);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/buffers/uniformBuffer/UniformBufferFloat32.ts?");

/***/ }),

/***/ "./src/resource/geometry/Geometry.ts":
/*!*******************************************!*\
  !*** ./src/resource/geometry/Geometry.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _buffers_buffer_VertexBuffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../buffers/buffer/VertexBuffer */ \"./src/resource/buffers/buffer/VertexBuffer.ts\");\n/* harmony import */ var _buffers_buffer_IndexBuffer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../buffers/buffer/IndexBuffer */ \"./src/resource/buffers/buffer/IndexBuffer.ts\");\n\r\n\r\n\r\nclass Geometry extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #data;\r\n    get data() {\r\n        return this.#data;\r\n    }\r\n    #indexData;\r\n    get indexData() {\r\n        return this.#indexData;\r\n    }\r\n    #vertexGpuBuffer;\r\n    get vertexGpuBuffer() {\r\n        return this.#vertexGpuBuffer;\r\n    }\r\n    #vertexBuffer;\r\n    get vertexBuffer() {\r\n        return this.#vertexBuffer;\r\n    }\r\n    #indexGpuBuffer;\r\n    get indexGpuBuffer() {\r\n        return this.#indexGpuBuffer;\r\n    }\r\n    #indexBuffer;\r\n    get indexBuffer() {\r\n        return this.#indexBuffer;\r\n    }\r\n    constructor(redGPUContext, data, interleaveInfo, indexData) {\r\n        super(redGPUContext);\r\n        this.#data = data;\r\n        this.#indexData = indexData;\r\n        this.#vertexBuffer = new _buffers_buffer_VertexBuffer__WEBPACK_IMPORTED_MODULE_1__[\"default\"](redGPUContext, data, interleaveInfo);\r\n        this.#vertexGpuBuffer = this.#vertexBuffer.gpuBuffer;\r\n        // console.log('', this.#vertexBuffer.interleaveInfo)\r\n        if (indexData) {\r\n            this.#indexBuffer = new _buffers_buffer_IndexBuffer__WEBPACK_IMPORTED_MODULE_2__[\"default\"](redGPUContext, indexData);\r\n            this.#indexGpuBuffer = this.#indexBuffer.gpuBuffer;\r\n        }\r\n        // console.log(this)\r\n    }\r\n    //TODO - LOD Generator\r\n    #volume;\r\n    get volume() {\r\n        if (!this.#volume)\r\n            this.volumeCalculate();\r\n        return this.#volume;\r\n    }\r\n    volumeCalculate() {\r\n        // console.time('volumeCalculate');\r\n        let minX, minY, minZ, maxX, maxY, maxZ, t0, t1, t2, t, i, len;\r\n        let stride = this.#vertexBuffer.interleaveInfo.stride;\r\n        // console.log('stride',this.#vertexBuffer.interleaveInfo)\r\n        // if (!volume[this]) {\r\n        minX = minY = minZ = maxX = maxY = maxZ = 0;\r\n        t = this.#data;\r\n        i = 0;\r\n        len = this.#vertexBuffer['vertexCount'];\r\n        for (i; i < len; i++) {\r\n            t0 = i * stride, t1 = t0 + 1, t2 = t0 + 2,\r\n                minX = t[t0] < minX ? t[t0] : minX,\r\n                maxX = t[t0] > maxX ? t[t0] : maxX,\r\n                minY = t[t1] < minY ? t[t1] : minY,\r\n                maxY = t[t1] > maxY ? t[t1] : maxY,\r\n                minZ = t[t2] < minZ ? t[t2] : minZ,\r\n                maxZ = t[t2] > maxZ ? t[t2] : maxZ;\r\n        }\r\n        this.#volume = {};\r\n        this.#volume.volume = [maxX - minX, maxY - minY, maxZ - minZ];\r\n        this.#volume.minX = minX;\r\n        this.#volume.maxX = maxX;\r\n        this.#volume.minY = minY;\r\n        this.#volume.maxY = maxY;\r\n        this.#volume.minZ = minZ;\r\n        this.#volume.maxZ = maxZ;\r\n        this.#volume.xSize = Math.max(Math.abs(minX), Math.abs(maxX));\r\n        this.#volume.ySize = Math.max(Math.abs(minY), Math.abs(maxY));\r\n        this.#volume.zSize = Math.max(Math.abs(minZ), Math.abs(maxZ));\r\n        // this.#volume.xSize = Math.max(Math.abs(minX), Math.abs(maxX)) - Math.min(Math.abs(minX), Math.abs(maxX)) ;\r\n        // this.#volume.ySize = Math.max(Math.abs(minY), Math.abs(maxY)) - Math.min(Math.abs(minY), Math.abs(maxY));\r\n        // this.#volume.zSize = Math.max(Math.abs(minZ), Math.abs(maxZ)) - Math.min(Math.abs(minZ), Math.abs(maxZ));\r\n        this.#volume.geometryRadius = Math.max(this.#volume.xSize, this.#volume.ySize, this.#volume.zSize);\r\n        // }\r\n        // console.timeEnd('volumeCalculate');\r\n        return this.#volume;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Geometry);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/geometry/Geometry.ts?");

/***/ }),

/***/ "./src/resource/geometry/index.ts":
/*!****************************************!*\
  !*** ./src/resource/geometry/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Box\": () => (/* reexport safe */ _primitives_Box__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"Geometry\": () => (/* reexport safe */ _Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"Sphere\": () => (/* reexport safe */ _primitives_Sphere__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _Geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Geometry */ \"./src/resource/geometry/Geometry.ts\");\n/* harmony import */ var _primitives_Box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./primitives/Box */ \"./src/resource/geometry/primitives/Box.ts\");\n/* harmony import */ var _primitives_Sphere__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./primitives/Sphere */ \"./src/resource/geometry/primitives/Sphere.ts\");\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/geometry/index.ts?");

/***/ }),

/***/ "./src/resource/geometry/primitives/Box.ts":
/*!*************************************************!*\
  !*** ./src/resource/geometry/primitives/Box.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Box)\n/* harmony export */ });\n/* harmony import */ var _Geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Geometry */ \"./src/resource/geometry/Geometry.ts\");\n/* harmony import */ var _buffers_interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../buffers/interleaveInfo/InterleaveInfo */ \"./src/resource/buffers/interleaveInfo/InterleaveInfo.ts\");\n/* harmony import */ var _buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../buffers/interleaveInfo/InterleaveUnit */ \"./src/resource/buffers/interleaveInfo/InterleaveUnit.ts\");\n\r\n\r\n\r\n\r\nclass Box extends _Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(redGPUContext, width = 1, height = 1, depth = 1, wSegments = 1, hSegments = 1, dSegments = 1, uvSize = 1) {\r\n        const tData = makeData(redGPUContext, width, height, depth, wSegments, hSegments, dSegments, uvSize);\r\n        // console.log('tData', tData)\r\n        const data = tData['vertexData'];\r\n        const interleaveInfo = tData['interleaveInfo'];\r\n        const indexData = tData['indexData'];\r\n        super(redGPUContext, data, interleaveInfo, indexData);\r\n    }\r\n}\r\nconst makeData = (function () {\r\n    let numberOfVertices;\r\n    let groupStart;\r\n    let buildPlane;\r\n    buildPlane = function (interleaveData, indexData, u, v, w, udir, vdir, width, height, depth, gridX, gridY, uvSize) {\r\n        let segmentWidth = width / gridX;\r\n        let segmentHeight = height / gridY;\r\n        let widthHalf = width / 2, heightHalf = height / 2;\r\n        let depthHalf = depth / 2;\r\n        let gridX1 = gridX + 1, gridY1 = gridY + 1;\r\n        let vertexCounter = 0;\r\n        let groupCount = 0;\r\n        let ix, iy;\r\n        let vector = [];\r\n        for (iy = 0; iy < gridY1; iy++) {\r\n            let y = iy * segmentHeight - heightHalf;\r\n            for (ix = 0; ix < gridX1; ix++) {\r\n                let x = ix * segmentWidth - widthHalf;\r\n                // set values to correct vector component\r\n                vector[u] = x * udir, vector[v] = y * vdir, vector[w] = depthHalf,\r\n                    interleaveData.push(vector['x'], vector['y'], vector['z']), // position\r\n                    vector[u] = 0, vector[v] = 0, vector[w] = depth > 0 ? 1 : -1,\r\n                    interleaveData.push(vector['x'], vector['y'], vector['z']), // normal\r\n                    interleaveData.push(ix / gridX * uvSize, (iy / gridY * uvSize)), // texcoord\r\n                    vertexCounter += 1; // counters\r\n            }\r\n        }\r\n        // indices\r\n        for (iy = 0; iy < gridY; iy++) {\r\n            for (ix = 0; ix < gridX; ix++) {\r\n                let a = numberOfVertices + ix + gridX1 * iy;\r\n                let b = numberOfVertices + ix + gridX1 * (iy + 1);\r\n                let c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);\r\n                let d = numberOfVertices + (ix + 1) + gridX1 * iy;\r\n                indexData.push(a, b, d, b, c, d);\r\n                groupCount += 6;\r\n            }\r\n        }\r\n        groupStart += groupCount;\r\n        numberOfVertices += vertexCounter;\r\n    };\r\n    return function (redGPUContext, width, height, depth, wSegments, hSegments, dSegments, uvSize) {\r\n        ////////////////////////////////////////////////////////////////////////////\r\n        //  !\r\n        // buffers Data\r\n        let interleaveData = [];\r\n        let indexData = [];\r\n        numberOfVertices = 0;\r\n        groupStart = 0;\r\n        buildPlane(interleaveData, indexData, 'z', 'y', 'x', -1, -1, depth, height, width, dSegments, hSegments, uvSize); // px\r\n        buildPlane(interleaveData, indexData, 'z', 'y', 'x', 1, -1, depth, height, -width, dSegments, hSegments, uvSize); // nx\r\n        buildPlane(interleaveData, indexData, 'x', 'z', 'y', 1, 1, width, depth, height, wSegments, dSegments, uvSize); // py\r\n        buildPlane(interleaveData, indexData, 'x', 'z', 'y', 1, -1, width, depth, -height, wSegments, dSegments, uvSize); // ny\r\n        buildPlane(interleaveData, indexData, 'x', 'y', 'z', 1, -1, width, height, depth, wSegments, hSegments, uvSize); // pz\r\n        buildPlane(interleaveData, indexData, 'x', 'y', 'z', -1, -1, width, height, -depth, wSegments, hSegments, uvSize); // nz\r\n        return {\r\n            vertexData: new Float32Array(interleaveData),\r\n            interleaveInfo: new _buffers_interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_1__[\"default\"]([\r\n                new _buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"].VERTEX_POSITION, \"float32x3\"),\r\n                new _buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"].VERTEX_NORMAL, \"float32x3\"),\r\n                new _buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TEXCOORD, 'float32x2')\r\n            ]),\r\n            indexData: new Uint32Array(indexData)\r\n        };\r\n    };\r\n})();\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/geometry/primitives/Box.ts?");

/***/ }),

/***/ "./src/resource/geometry/primitives/Sphere.ts":
/*!****************************************************!*\
  !*** ./src/resource/geometry/primitives/Sphere.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Sphere)\n/* harmony export */ });\n/* harmony import */ var _Geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Geometry */ \"./src/resource/geometry/Geometry.ts\");\n/* harmony import */ var _buffers_interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../buffers/interleaveInfo/InterleaveInfo */ \"./src/resource/buffers/interleaveInfo/InterleaveInfo.ts\");\n/* harmony import */ var _buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../buffers/interleaveInfo/InterleaveUnit */ \"./src/resource/buffers/interleaveInfo/InterleaveUnit.ts\");\n/* harmony import */ var _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/gl-matrix */ \"./src/util/gl-matrix/index.js\");\n\r\n\r\n\r\n\r\n\r\nclass Sphere extends _Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(redGPUContext, radius = 1, widthSegments = 16, heightSegments = 16, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI, uvSize = 1) {\r\n        const tData = makeData(redGPUContext, radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength, uvSize);\r\n        // console.log('tData', tData)\r\n        const data = tData['vertexData'];\r\n        const interleaveInfo = tData['interleaveInfo'];\r\n        const indexData = tData['indexData'];\r\n        super(redGPUContext, data, interleaveInfo, indexData);\r\n    }\r\n}\r\nconst makeData = (function () {\r\n    let thetaEnd;\r\n    let ix, iy;\r\n    let index;\r\n    let grid = [];\r\n    let a, b, c, d;\r\n    let vertex = new Float32Array([0, 0, 0]);\r\n    let normal = new Float32Array([0, 0, 0]);\r\n    return function (redGPUContext, radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength, uvSize) {\r\n        thetaEnd = thetaStart + thetaLength;\r\n        index = 0;\r\n        grid.length = 0;\r\n        vertex[0] = 0, vertex[1] = 0, vertex[2] = 0;\r\n        normal[0] = 0, normal[1] = 0, normal[2] = 0;\r\n        ////////////////////////////////////////////////////////////////////////////\r\n        //  !\r\n        // buffers Data\r\n        let interleaveData = [];\r\n        let indexData = [];\r\n        // generate vertices, normals and uvs\r\n        for (iy = 0; iy <= heightSegments; iy++) {\r\n            let verticesRow = [];\r\n            let v = iy / heightSegments;\r\n            for (ix = 0; ix <= widthSegments; ix++) {\r\n                let u = ix / widthSegments;\r\n                // vertex\r\n                vertex['x'] = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\r\n                vertex['y'] = radius * Math.cos(thetaStart + v * thetaLength);\r\n                vertex['z'] = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\r\n                interleaveData.push(vertex['x'], vertex['y'], vertex['z']);\r\n                // normal\r\n                normal[0] = vertex['x'];\r\n                normal[1] = vertex['y'];\r\n                normal[2] = vertex['z'];\r\n                _util_gl_matrix__WEBPACK_IMPORTED_MODULE_3__.vec3.normalize(normal, normal);\r\n                interleaveData.push(normal[0], normal[1], normal[2]);\r\n                // uv\r\n                interleaveData.push(u * uvSize, v * uvSize);\r\n                verticesRow.push(index++);\r\n            }\r\n            grid.push(verticesRow);\r\n        }\r\n        // indices\r\n        for (iy = 0; iy < heightSegments; iy++) {\r\n            for (ix = 0; ix < widthSegments; ix++) {\r\n                a = grid[iy][ix + 1];\r\n                b = grid[iy][ix];\r\n                c = grid[iy + 1][ix];\r\n                d = grid[iy + 1][ix + 1];\r\n                if (iy !== 0 || thetaStart > 0)\r\n                    indexData.push(a, b, d);\r\n                if (iy !== heightSegments - 1 || thetaEnd < Math.PI)\r\n                    indexData.push(b, c, d);\r\n            }\r\n        }\r\n        return {\r\n            vertexData: new Float32Array(interleaveData),\r\n            interleaveInfo: new _buffers_interleaveInfo_InterleaveInfo__WEBPACK_IMPORTED_MODULE_1__[\"default\"]([\r\n                new _buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"].VERTEX_POSITION, \"float32x3\"),\r\n                new _buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"].VERTEX_NORMAL, \"float32x3\"),\r\n                new _buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_buffers_interleaveInfo_InterleaveUnit__WEBPACK_IMPORTED_MODULE_2__[\"default\"].TEXCOORD, 'float32x2')\r\n            ]),\r\n            indexData: new Uint32Array(indexData)\r\n        };\r\n    };\r\n})();\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/geometry/primitives/Sphere.ts?");

/***/ }),

/***/ "./src/resource/resourceManager/CubeTextureInfo.ts":
/*!*********************************************************!*\
  !*** ./src/resource/resourceManager/CubeTextureInfo.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass CubeTextureInfo {\r\n    resource;\r\n    textureView;\r\n    constructor(resource, textureView = null) {\r\n        this.resource = resource;\r\n        this.textureView = textureView;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CubeTextureInfo);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/resourceManager/CubeTextureInfo.ts?");

/***/ }),

/***/ "./src/resource/resourceManager/RedGPUContextResourceManager.ts":
/*!**********************************************************************!*\
  !*** ./src/resource/resourceManager/RedGPUContextResourceManager.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _texture__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../texture */ \"./src/resource/texture/index.ts\");\n/* harmony import */ var _util_makeUUID__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/makeUUID */ \"./src/util/makeUUID.ts\");\n/* harmony import */ var _TextureInfo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TextureInfo */ \"./src/resource/resourceManager/TextureInfo.ts\");\n/* harmony import */ var _CubeTextureInfo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CubeTextureInfo */ \"./src/resource/resourceManager/CubeTextureInfo.ts\");\n\r\n\r\n\r\n\r\n\r\nclass RedGPUContextResourceManager extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #uuidTable = {};\r\n    #textureTable = {};\r\n    get textureTable() {\r\n        return this.#textureTable;\r\n    }\r\n    #cubeTextureTable = {};\r\n    get cubeTextureTable() {\r\n        return this.#cubeTextureTable;\r\n    }\r\n    #samplerTable = {};\r\n    get samplerTable() {\r\n        return this.#samplerTable;\r\n    }\r\n    #emptyTextureInfo;\r\n    get emptyTextureInfo() {\r\n        return this.#emptyTextureInfo;\r\n    }\r\n    #emptyCubeTextureInfo;\r\n    get emptyCubeTextureInfo() {\r\n        return this.#emptyCubeTextureInfo;\r\n    }\r\n    constructor(context) {\r\n        super(context);\r\n        const emptyTextureInfo = this.redGPUContext.gpuDevice.createTexture({\r\n            size: { width: 1, height: 1, depthOrArrayLayers: 1 },\r\n            format: navigator.gpu.getPreferredCanvasFormat(),\r\n            usage: GPUTextureUsage.TEXTURE_BINDING,\r\n        });\r\n        const emptyCubeTextureInfo = this.redGPUContext.gpuDevice.createTexture({\r\n            size: { width: 1, height: 1, depthOrArrayLayers: 6, },\r\n            dimension: '2d',\r\n            // arrayLayerCount: 6,\r\n            mipLevelCount: 1,\r\n            sampleCount: 1,\r\n            format: navigator.gpu.getPreferredCanvasFormat(),\r\n            usage: GPUTextureUsage.TEXTURE_BINDING,\r\n        });\r\n        this.#emptyTextureInfo = new _TextureInfo__WEBPACK_IMPORTED_MODULE_3__[\"default\"](emptyTextureInfo, emptyTextureInfo.createView());\r\n        this.#emptyCubeTextureInfo = new _CubeTextureInfo__WEBPACK_IMPORTED_MODULE_4__[\"default\"](emptyCubeTextureInfo, emptyCubeTextureInfo.createView({\r\n            dimension: 'cube',\r\n            aspect: 'all',\r\n            baseMipLevel: 0,\r\n            mipLevelCount: 1,\r\n            baseArrayLayer: 0,\r\n            arrayLayerCount: 6\r\n        }));\r\n        console.log(this, this.#textureTable);\r\n    }\r\n    #getUUID(resource) {\r\n        let tableID;\r\n        const label = this.#getLabel(resource);\r\n        if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapTexture) {\r\n            tableID = this.#uuidTable[label];\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapCubeTexture) {\r\n            tableID = this.#uuidTable[label];\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.TextureSampler) {\r\n            tableID = this.#uuidTable[label];\r\n        }\r\n        else {\r\n            alert('    ');\r\n        }\r\n        return tableID;\r\n    }\r\n    #getLabel(resource) {\r\n        let label;\r\n        if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapTexture) {\r\n            label = resource.src;\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapCubeTexture) {\r\n            label = resource.srcList.toString();\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.TextureSampler) {\r\n            label = resource.optionString;\r\n        }\r\n        else {\r\n            alert('    ');\r\n        }\r\n        return label;\r\n    }\r\n    delResource(resource) {\r\n        const uuid = this.#getUUID(resource);\r\n        if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapTexture) {\r\n            delete this.#textureTable[uuid];\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapCubeTexture) {\r\n            delete this.#cubeTextureTable[uuid];\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.TextureSampler) {\r\n            delete this.#samplerTable[uuid];\r\n        }\r\n        else {\r\n        }\r\n    }\r\n    getResource(resource) {\r\n        const uuid = this.#getUUID(resource);\r\n        if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapTexture) {\r\n            return this.#textureTable[uuid];\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapCubeTexture) {\r\n            return this.#cubeTextureTable[uuid];\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.TextureSampler) {\r\n            return this.#samplerTable[uuid];\r\n        }\r\n        else {\r\n        }\r\n    }\r\n    addResource(resource) {\r\n        console.log('addResource', resource);\r\n        let uuid;\r\n        const label = this.#getLabel(resource);\r\n        if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapTexture) {\r\n            uuid = this.#uuidTable[label] = (0,_util_makeUUID__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\r\n            this.#textureTable[uuid] = new _TextureInfo__WEBPACK_IMPORTED_MODULE_3__[\"default\"](resource);\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.BitmapCubeTexture) {\r\n            uuid = this.#uuidTable[label] = (0,_util_makeUUID__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\r\n            this.#cubeTextureTable[uuid] = new _CubeTextureInfo__WEBPACK_IMPORTED_MODULE_4__[\"default\"](resource, null);\r\n        }\r\n        else if (resource instanceof _texture__WEBPACK_IMPORTED_MODULE_1__.TextureSampler) {\r\n            uuid = this.#uuidTable[label] = (0,_util_makeUUID__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\r\n            this.#samplerTable[uuid] = resource;\r\n        }\r\n        else {\r\n            alert('  ');\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RedGPUContextResourceManager);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/resourceManager/RedGPUContextResourceManager.ts?");

/***/ }),

/***/ "./src/resource/resourceManager/TextureInfo.ts":
/*!*****************************************************!*\
  !*** ./src/resource/resourceManager/TextureInfo.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass TextureInfo {\r\n    resource;\r\n    textureView;\r\n    constructor(resource, textureView = null) {\r\n        this.resource = resource;\r\n        this.textureView = textureView;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TextureInfo);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/resourceManager/TextureInfo.ts?");

/***/ }),

/***/ "./src/resource/texture/BitmapCubeTexture.ts":
/*!***************************************************!*\
  !*** ./src/resource/texture/BitmapCubeTexture.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _mipmapGenerator_generateWebGPUTextureMipmap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mipmapGenerator/generateWebGPUTextureMipmap */ \"./src/resource/texture/mipmapGenerator/generateWebGPUTextureMipmap.ts\");\n/* harmony import */ var _util_makeUUID__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/makeUUID */ \"./src/util/makeUUID.ts\");\n\r\n\r\n\r\nclass BitmapCubeTexture extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #srcList;\r\n    get srcList() {\r\n        return this.#srcList;\r\n    }\r\n    #imgBitmapList;\r\n    get imgBitmapList() {\r\n        return this.#imgBitmapList;\r\n    }\r\n    #gpuTexture;\r\n    get gpuTexture() {\r\n        return this.#gpuTexture;\r\n    }\r\n    get gpuTextureView() {\r\n        const tResource = this.redGPUContext.resourceManager.getResource(this);\r\n        if (this.#gpuTexture) {\r\n            if (tResource.textureView) {\r\n                console.log('BitmapCubeTexture    ');\r\n                return tResource.textureView;\r\n            }\r\n            else {\r\n                console.log('BitmapCubeTexture    ');\r\n                tResource.textureView = this.#gpuTexture?.createView({\r\n                    dimension: 'cube',\r\n                    aspect: 'all',\r\n                    baseMipLevel: 0,\r\n                    mipLevelCount: 1,\r\n                    baseArrayLayer: 0,\r\n                    arrayLayerCount: 6,\r\n                    label: (this.#srcList || []).toString()\r\n                });\r\n                return tResource.textureView;\r\n            }\r\n        }\r\n        else {\r\n            return this.redGPUContext.resourceManager['emptyCubeTextureInfo'].textureView;\r\n        }\r\n    }\r\n    #targetList = new Set();\r\n    constructor(redGPUContext, srcList) {\r\n        super(redGPUContext);\r\n        this.#srcList = srcList;\r\n        if (this.#srcList) {\r\n            const resource = redGPUContext.resourceManager.getResource(this);\r\n            if (resource) {\r\n                console.log('BitmapCubeTexture  ');\r\n                // console.log(' ',redGPUContext.resourceManager,redGPUContext.resourceManager.getResource(this))\r\n                return resource.resource;\r\n            }\r\n            else {\r\n                console.log('BitmapCubeTexture  ');\r\n                redGPUContext.resourceManager.addResource(this);\r\n                this.#webGPUTextureFromImageUrl(this.#srcList);\r\n            }\r\n        }\r\n    }\r\n    destroy() {\r\n        //TODO destroy\r\n    }\r\n    addTargetMaterial(target) {\r\n        this.#targetList.add(target);\r\n    }\r\n    #webGPUTextureFromImageUrl(srcList) {\r\n        const { redGPUContext } = this;\r\n        const { gpuDevice } = redGPUContext;\r\n        console.log('srcList', srcList);\r\n        Promise.all(srcList.map(url => {\r\n            console.log('url', url);\r\n            return fetch(url).then(response => response.blob().then(blob => createImageBitmap(blob)));\r\n        })).then(imgBitmapList => {\r\n            this.#gpuTexture = makeWebGPUTexture(gpuDevice, imgBitmapList, true, (srcList || []).toString());\r\n            this.#imgBitmapList = imgBitmapList;\r\n            this.#resolve();\r\n        }).catch(e => {\r\n            this.#gpuTexture = null;\r\n            this.#resolve();\r\n        });\r\n    }\r\n    #resolve() {\r\n        const temp = this.#targetList;\r\n        this.#targetList = new Set();\r\n        console.log('#targetList', temp);\r\n        for (const value of temp) {\r\n            temp.delete(value);\r\n            value['bindGroupID'] = (0,_util_makeUUID__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\r\n            value['dirtyTexture'] = true;\r\n        }\r\n        console.log('#targetList', temp);\r\n        // temp.clear()\r\n    }\r\n}\r\nfunction makeWebGPUTexture(gpuDevice, sourceList, generateMipmaps = true, label) {\r\n    console.log('sourceList', sourceList);\r\n    //    \r\n    const textureDescriptor = {\r\n        size: { width: sourceList[0].width, height: sourceList[0].height, depthOrArrayLayers: 6 },\r\n        format: 'rgba8unorm',\r\n        usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST,\r\n        label\r\n    };\r\n    //    ...    .\r\n    // if (generateMipmaps) {\r\n    //     // Compute how many mip levels are needed for a full chain.\r\n    //     textureDescriptor.mipLevelCount = Math.floor(Math.log2(Math.max(sourceList[0].width, sourceList[0].height))) + 1;\r\n    //     // Needed in order to use render passes to generate the mipmaps.\r\n    //     textureDescriptor.usage |= GPUTextureUsage.RENDER_ATTACHMENT;\r\n    // }\r\n    //    .\r\n    const cubeMapTexture2 = gpuDevice.createTexture(textureDescriptor);\r\n    console.log('cubeMapTexture1', cubeMapTexture2);\r\n    sourceList.forEach((imageBitmap, i) => {\r\n        gpuDevice.queue.copyExternalImageToTexture({ source: imageBitmap }, { texture: cubeMapTexture2, origin: [0, 0, i] }, [imageBitmap.width, imageBitmap.height]);\r\n    });\r\n    if (generateMipmaps) {\r\n        //  .\r\n        (0,_mipmapGenerator_generateWebGPUTextureMipmap__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(gpuDevice, cubeMapTexture2, textureDescriptor);\r\n    }\r\n    // //    .\r\n    // console.log('cubeTexture1', cubeTexture)\r\n    // sourceList.forEach((source, face) => {\r\n    //     console.log(source)\r\n    //     gpuDevice.queue.copyExternalImageToTexture({source}, {\r\n    //         texture: cubeTexture,\r\n    //         mipLevel: face,\r\n    //         origin: {z: face},\r\n    //         textureExtent: {\r\n    //             width: source.width,\r\n    //             height: source.height,\r\n    //             depthOrArrayLayers: 1\r\n    //         }\r\n    //     }, textureDescriptor.size);\r\n    //\r\n    // })\r\n    // console.log('cubeTexture2', cubeTexture)\r\n    // if (generateMipmaps) {\r\n    //     //  .\r\n    //     generateWebGPUTextureMipmap(gpuDevice, cubeTexture, textureDescriptor);\r\n    // }\r\n    console.log('cubeMapTexture2', cubeMapTexture2);\r\n    return cubeMapTexture2;\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BitmapCubeTexture);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/texture/BitmapCubeTexture.ts?");

/***/ }),

/***/ "./src/resource/texture/BitmapTexture.ts":
/*!***********************************************!*\
  !*** ./src/resource/texture/BitmapTexture.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n/* harmony import */ var _mipmapGenerator_generateWebGPUTextureMipmap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mipmapGenerator/generateWebGPUTextureMipmap */ \"./src/resource/texture/mipmapGenerator/generateWebGPUTextureMipmap.ts\");\n/* harmony import */ var _util_makeUUID__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/makeUUID */ \"./src/util/makeUUID.ts\");\n\r\n\r\n\r\nclass BitmapTexture extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #src;\r\n    get src() {\r\n        return this.#src;\r\n    }\r\n    #imgBitmap;\r\n    get imgBitmap() {\r\n        return this.#imgBitmap;\r\n    }\r\n    #gpuTexture;\r\n    get gpuTexture() {\r\n        return this.#gpuTexture;\r\n    }\r\n    get gpuTextureView() {\r\n        const tResource = this.redGPUContext.resourceManager.getResource(this);\r\n        if (this.#gpuTexture) {\r\n            if (tResource.textureView) {\r\n                console.log('BitmapTexture    ');\r\n                return tResource.textureView;\r\n            }\r\n            else {\r\n                console.log('BitmapTexture    ');\r\n                tResource.textureView = this.#gpuTexture.createView({\r\n                    label: this.#src\r\n                });\r\n                return tResource.textureView;\r\n            }\r\n        }\r\n        else {\r\n            return this.redGPUContext.resourceManager['emptyTextureInfo'].textureView;\r\n        }\r\n    }\r\n    #targetList = new Set();\r\n    constructor(redGPUContext, src) {\r\n        super(redGPUContext);\r\n        this.#src = src;\r\n        if (this.#src) {\r\n            const resource = redGPUContext.resourceManager.getResource(this);\r\n            if (resource) {\r\n                console.log('BitmapTexture  ');\r\n                // console.log(' ',redGPUContext.resourceManager,redGPUContext.resourceManager.getResource(this))\r\n                return resource.resource;\r\n            }\r\n            else {\r\n                console.log('BitmapTexture  ');\r\n                redGPUContext.resourceManager.addResource(this);\r\n                this.#webGPUTextureFromImageUrl(this.#src);\r\n            }\r\n        }\r\n    }\r\n    destroy() {\r\n        if (this.#gpuTexture) {\r\n            this.#gpuTexture.destroy();\r\n            this.#gpuTexture = null;\r\n            this.redGPUContext.resourceManager.delResource(this);\r\n        }\r\n    }\r\n    addTargetMaterial(target) {\r\n        this.#targetList.add(target);\r\n    }\r\n    #webGPUTextureFromImageUrl(url) {\r\n        const { redGPUContext } = this;\r\n        const { gpuDevice } = redGPUContext;\r\n        fetch(url).then(response => response.blob().then(blob => createImageBitmap(blob))).then(imgBitmap => {\r\n            console.log(imgBitmap);\r\n            this.#imgBitmap = imgBitmap;\r\n            this.#gpuTexture = makeWebGPUTexture(gpuDevice, imgBitmap, true, url);\r\n            this.#resolve();\r\n        }).catch(e => {\r\n            this.#gpuTexture = null;\r\n            this.#resolve();\r\n        });\r\n    }\r\n    #resolve() {\r\n        const temp = this.#targetList;\r\n        this.#targetList = new Set();\r\n        console.log('#targetList', temp);\r\n        for (const value of temp) {\r\n            temp.delete(value);\r\n            value['bindGroupID'] = (0,_util_makeUUID__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\r\n            value['dirtyTexture'] = true;\r\n        }\r\n        console.log('#targetList', temp);\r\n        // temp.clear()\r\n    }\r\n}\r\nfunction makeWebGPUTexture(gpuDevice, source, generateMipmaps = true, label) {\r\n    //    \r\n    const textureDescriptor = {\r\n        size: { width: source.width, height: source.height },\r\n        format: 'rgba8unorm',\r\n        usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST,\r\n        label\r\n    };\r\n    //    ...    .\r\n    if (generateMipmaps) {\r\n        // Compute how many mip levels are needed for a full chain.\r\n        textureDescriptor.mipLevelCount = Math.floor(Math.log2(Math.max(source.width, source.height))) + 1;\r\n        // Needed in order to use render passes to generate the mipmaps.\r\n        textureDescriptor.usage |= GPUTextureUsage.RENDER_ATTACHMENT;\r\n    }\r\n    //    .\r\n    const texture = gpuDevice.createTexture(textureDescriptor);\r\n    //    .\r\n    gpuDevice.queue.copyExternalImageToTexture({ source }, { texture }, textureDescriptor.size);\r\n    if (generateMipmaps) {\r\n        //  .\r\n        (0,_mipmapGenerator_generateWebGPUTextureMipmap__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(gpuDevice, texture, textureDescriptor);\r\n    }\r\n    return texture;\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BitmapTexture);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/texture/BitmapTexture.ts?");

/***/ }),

/***/ "./src/resource/texture/TextureSampler.ts":
/*!************************************************!*\
  !*** ./src/resource/texture/TextureSampler.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../context/RedGPUContextBase */ \"./src/context/RedGPUContextBase.ts\");\n\r\nclass TextureSampler extends _context_RedGPUContextBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    #optionString;\r\n    get optionString() {\r\n        return this.#optionString;\r\n    }\r\n    #gpuSampler;\r\n    get gpuSampler() {\r\n        return this.#gpuSampler;\r\n    }\r\n    constructor(redGPUContext, option = {}) {\r\n        super(redGPUContext);\r\n        const { resourceManager } = redGPUContext;\r\n        option = {\r\n            ...option,\r\n            magFilter: option['magFilter'] || \"linear\",\r\n            minFilter: option['minFilter'] || \"linear\",\r\n            mipmapFilter: option['mipmapFilter'] || \"linear\",\r\n            addressModeU: option['addressModeU'] || \"repeat\",\r\n            addressModeV: option['addressModeV'] || \"repeat\",\r\n            addressModeW: option['addressModeW'] || \"repeat\",\r\n        };\r\n        this.#optionString = Object.keys(option).map(key => {\r\n            return `${key}:${option[key]}`;\r\n        }, []).join(' ');\r\n        const resource = resourceManager.getResource(this);\r\n        if (resource) {\r\n            console.log('TextureSampler  ', resource);\r\n            return resource;\r\n        }\r\n        else {\r\n            option['label'] = this.#optionString;\r\n            this.#gpuSampler = redGPUContext.gpuDevice.createSampler(option);\r\n            resourceManager.addResource(this);\r\n        }\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TextureSampler);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/texture/TextureSampler.ts?");

/***/ }),

/***/ "./src/resource/texture/index.ts":
/*!***************************************!*\
  !*** ./src/resource/texture/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BitmapCubeTexture\": () => (/* reexport safe */ _BitmapCubeTexture__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"BitmapTexture\": () => (/* reexport safe */ _BitmapTexture__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"RedGPUContextResourceManager\": () => (/* reexport safe */ _resourceManager_RedGPUContextResourceManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"TextureSampler\": () => (/* reexport safe */ _TextureSampler__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _BitmapTexture__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BitmapTexture */ \"./src/resource/texture/BitmapTexture.ts\");\n/* harmony import */ var _TextureSampler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TextureSampler */ \"./src/resource/texture/TextureSampler.ts\");\n/* harmony import */ var _BitmapCubeTexture__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BitmapCubeTexture */ \"./src/resource/texture/BitmapCubeTexture.ts\");\n/* harmony import */ var _resourceManager_RedGPUContextResourceManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../resourceManager/RedGPUContextResourceManager */ \"./src/resource/resourceManager/RedGPUContextResourceManager.ts\");\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/texture/index.ts?");

/***/ }),

/***/ "./src/resource/texture/mipmapGenerator/generateWebGPUTextureMipmap.ts":
/*!*****************************************************************************!*\
  !*** ./src/resource/texture/mipmapGenerator/generateWebGPUTextureMipmap.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertex.wgsl */ \"./src/resource/texture/mipmapGenerator/vertex.wgsl\");\n/* harmony import */ var _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragment.wgsl */ \"./src/resource/texture/mipmapGenerator/fragment.wgsl\");\n\r\n\r\nconst generateWebGPUTextureMipmap = (gpuDevice, texture, textureDescriptor) => {\r\n    console.log('generateWebGPUTextureMipmap');\r\n    //TODO   \r\n    const vShaderModule = gpuDevice.createShaderModule({\r\n        code: _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\r\n        label: 'vertex_generateWebGPUTextureMipmap'\r\n    });\r\n    const fShaderModule = gpuDevice.createShaderModule({\r\n        code: _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n        label: 'fragment_generateWebGPUTextureMipmap'\r\n    });\r\n    const pipelineDescriptor = {\r\n        layout: gpuDevice.createPipelineLayout({\r\n            // maxBindGroups  \r\n            bindGroupLayouts: [\r\n                gpuDevice.createBindGroupLayout({\r\n                    entries: [\r\n                        {\r\n                            binding: 0,\r\n                            visibility: GPUShaderStage.FRAGMENT,\r\n                            sampler: {\r\n                                type: 'filtering',\r\n                            },\r\n                        },\r\n                        {\r\n                            binding: 1,\r\n                            visibility: GPUShaderStage.FRAGMENT,\r\n                            texture: {}\r\n                        }\r\n                    ]\r\n                })\r\n            ]\r\n        }),\r\n        vertex: {\r\n            module: vShaderModule,\r\n            entryPoint: 'main',\r\n        },\r\n        fragment: {\r\n            module: fShaderModule,\r\n            entryPoint: 'main',\r\n            targets: [{\r\n                    format: textureDescriptor.format // Make sure to use the same format as the texture\r\n                }],\r\n        },\r\n        primitive: {\r\n            topology: 'triangle-strip',\r\n            stripIndexFormat: 'uint32',\r\n        },\r\n    };\r\n    const pipeline = gpuDevice.createRenderPipeline(pipelineDescriptor);\r\n    // We'll ALWAYS be rendering minified here, so that's the only filter mode we need to set.\r\n    // const gpuSampler = sampler?.gpuSampler || gpuDevice.createSampler( {minFilter: 'linear'});\r\n    const gpuSampler = gpuDevice.createSampler({ minFilter: 'linear' });\r\n    let srcView = texture.createView({\r\n        baseMipLevel: 0,\r\n        mipLevelCount: 1\r\n    });\r\n    // Loop through each mip level and renders the previous level's contents into it.\r\n    const commandEncoder = gpuDevice.createCommandEncoder({});\r\n    for (let i = 1; i < textureDescriptor.mipLevelCount; ++i) {\r\n        const dstView = texture.createView({\r\n            baseMipLevel: i,\r\n            mipLevelCount: 1, // And only selecting one mip level\r\n        });\r\n        const passEncoder = commandEncoder.beginRenderPass({\r\n            colorAttachments: [{\r\n                    view: dstView,\r\n                    clearValue: { r: 1.0, g: 0.0, b: 0.0, a: 1.0 },\r\n                    loadOp: 'clear',\r\n                    storeOp: 'store'\r\n                }],\r\n        });\r\n        // Need a separate bind group for each level to ensure\r\n        // we're only sampling from the previous level.\r\n        const bindGroup = gpuDevice.createBindGroup({\r\n            layout: pipeline.getBindGroupLayout(0),\r\n            entries: [{\r\n                    binding: 0,\r\n                    resource: gpuSampler,\r\n                }, {\r\n                    binding: 1,\r\n                    resource: srcView,\r\n                }],\r\n        });\r\n        // Render\r\n        passEncoder.setPipeline(pipeline);\r\n        passEncoder.setBindGroup(0, bindGroup);\r\n        passEncoder.draw(4);\r\n        passEncoder.end();\r\n        // The source texture view for the next iteration of the loop is the\r\n        // destination view for this one.\r\n        srcView = dstView;\r\n    }\r\n    gpuDevice.queue.submit([commandEncoder.finish()]);\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (generateWebGPUTextureMipmap);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/resource/texture/mipmapGenerator/generateWebGPUTextureMipmap.ts?");

/***/ }),

/***/ "./src/systemShaderDefine/index.ts":
/*!*****************************************!*\
  !*** ./src/systemShaderDefine/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SHADER_DEFINE\": () => (/* binding */ SHADER_DEFINE)\n/* harmony export */ });\n/* harmony import */ var _shaderDefineReplace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shaderDefineReplace */ \"./src/systemShaderDefine/shaderDefineReplace.ts\");\n/* harmony import */ var _material_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../material/wgsl */ \"./src/material/wgsl/index.js\");\n\r\n\r\nconst SHADER_DEFINE = {\r\n    shaderDefineReplace: _shaderDefineReplace__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\r\n    ..._material_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\r\n};\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/systemShaderDefine/index.ts?");

/***/ }),

/***/ "./src/systemShaderDefine/shaderDefineReplace.ts":
/*!*******************************************************!*\
  !*** ./src/systemShaderDefine/shaderDefineReplace.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../light/pointLightCluster/PassLightClustersHelper */ \"./src/light/pointLightCluster/PassLightClustersHelper.ts\");\n/* harmony import */ var _material_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../material/wgsl */ \"./src/material/wgsl/index.js\");\n/* harmony import */ var _light__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../light */ \"./src/light/index.ts\");\n\r\n\r\n\r\nconst shaderDefineReplace = (source) => {\r\n    return source\r\n        .replace(/#+\\bREDGPU_DEFINE_VERTEX_BASE\\b/g, `#REDGPU_DEFINE_SYSTEM_UNIFORMS`)\r\n        .replace(/#+\\bREDGPU_DEFINE_FRAGMENT_BASE\\b/g, `#REDGPU_DEFINE_SYSTEM_UNIFORMS\r\n#REDGPU_DEFINE_SYSTEM_AMBIENT_DIRECTIONAL_LIGHTS\r\n#REDGPU_DEFINE_SYSTEM_POINT_LIGHTS\r\n#REDGPU_DEFINE_POINT_LIGHT_CLUSTER\r\n#REDGPU_DEFINE_POINT_LIGHT_CLUSTER_LIGHT_GROUP\r\n#REDGPU_DEFINE_SYSTEM_CALC_LIGHT_FUNCTIONS\r\n`)\r\n        .replace(/#+\\bREDGPU_DEFINE_SYSTEM_UNIFORMS\\b/g, _material_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ShaderDefine_SystemUniforms)\r\n        .replace(/#+\\bREDGPU_DEFINE_MODEL_UNIFORMS_STRUCT\\b/g, _material_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ShaderDefine_ModelUniformStruct)\r\n        .replace(/#+\\bREDGPU_DEFINE_SYSTEM_AMBIENT_DIRECTIONAL_LIGHTS\\b/g, _material_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ShaderDefine_SystemAmbientDirectionalLights)\r\n        .replace(/#+\\bREDGPU_DEFINE_SYSTEM_POINT_LIGHTS\\b/g, _material_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ShaderDefine_SystemPointLights)\r\n        .replace(/#+\\bREDGPU_DEFINE_POINT_LIGHT_CLUSTER\\b/g, _material_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ShaderDefine_PointLightCluster)\r\n        .replace(/#+\\bREDGPU_DEFINE_POINT_LIGHT_CLUSTER_LIGHT_GROUP\\b/g, _material_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ShaderDefine_PointLightClusterLightGroup)\r\n        .replace(/#+\\bREDGPU_DEFINE_SYSTEM_CALC_LIGHT_FUNCTIONS\\b/g, _material_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ShaderDefine_SystemCalcLightFunctions)\r\n        .replace(/REDGPU_DEFINE_TILE_COUNT_X/g, _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TILE_COUNT_X.toString())\r\n        .replace(/REDGPU_DEFINE_TILE_COUNT_Y/g, _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TILE_COUNT_Y.toString())\r\n        .replace(/REDGPU_DEFINE_TILE_COUNT_Z/g, _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TILE_COUNT_Z.toString())\r\n        .replace(/REDGPU_DEFINE_TOTAL_TILES/g, _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTotalTileSize().toString())\r\n        .replace(/REDGPU_DEFINE_WORKGROUP_SIZE_X/g, _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].WORKGROUP_SIZE_X.toString())\r\n        .replace(/REDGPU_DEFINE_WORKGROUP_SIZE_Y/g, _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].WORKGROUP_SIZE_Y.toString())\r\n        .replace(/REDGPU_DEFINE_WORKGROUP_SIZE_Z/g, _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].WORKGROUP_SIZE_Z.toString())\r\n        .replace(/REDGPU_DEFINE_WORKGROUP_SIZE_Z/g, _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].WORKGROUP_SIZE_Z.toString())\r\n        .replace(/REDGPU_DEFINE_MAX_LIGHTS_PER_CLUSTER/g, _light_pointLightCluster_PassLightClustersHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].MAX_POINT_LIGHTS_PER_CLUSTER.toString())\r\n        .replace(/REDGPU_CONST_MAX_DIRECTIONAL_LIGHT_NUM/g, _light__WEBPACK_IMPORTED_MODULE_2__.LightManager.MAX_DIRECTIONAL_LIGHT_NUM.toString());\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (shaderDefineReplace);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/systemShaderDefine/shaderDefineReplace.ts?");

/***/ }),

/***/ "./src/temp/qurd/Quad.ts":
/*!*******************************!*\
  !*** ./src/temp/qurd/Quad.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertex.wgsl */ \"./src/temp/qurd/vertex.wgsl\");\n/* harmony import */ var _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragment.wgsl */ \"./src/temp/qurd/fragment.wgsl\");\n\r\n\r\nclass Quad {\r\n    #pipeline;\r\n    constructor(redGPUContext) {\r\n        const { gpuDevice } = redGPUContext;\r\n        this.#pipeline = gpuDevice.createRenderPipeline({\r\n            layout: 'auto',\r\n            vertex: {\r\n                module: gpuDevice.createShaderModule({\r\n                    code: _vertex_wgsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\r\n                }),\r\n                entryPoint: 'main',\r\n            },\r\n            fragment: {\r\n                module: gpuDevice.createShaderModule({\r\n                    code: _fragment_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n                }),\r\n                entryPoint: 'main',\r\n                targets: [\r\n                    {\r\n                        format: navigator.gpu.getPreferredCanvasFormat(),\r\n                        blend: {\r\n                            color: {\r\n                                srcFactor: \"src-alpha\",\r\n                                dstFactor: \"one-minus-src-alpha\",\r\n                                operation: \"add\"\r\n                            },\r\n                            alpha: {\r\n                                srcFactor: \"one\",\r\n                                dstFactor: \"one-minus-src-alpha\",\r\n                                operation: \"add\"\r\n                            }\r\n                        }\r\n                    },\r\n                ],\r\n            },\r\n            multisample: {\r\n                count: redGPUContext.useMultiSample ? 4 : 1\r\n            },\r\n            depthStencil: {\r\n                depthWriteEnabled: false,\r\n                depthCompare: 'less-equal',\r\n                format: \"depth24plus-stencil8\",\r\n            },\r\n            primitive: {\r\n                topology: 'triangle-list',\r\n                cullMode: 'none',\r\n                frontFace: \"ccw\"\r\n            },\r\n        });\r\n    }\r\n    render(passEncoder, gpuBuffer) {\r\n        passEncoder.setPipeline(this.#pipeline);\r\n        passEncoder.draw(6, 1, 0, 0);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Quad);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/temp/qurd/Quad.ts?");

/***/ }),

/***/ "./src/util/color/hexadecimalToRgb.ts":
/*!********************************************!*\
  !*** ./src/util/color/hexadecimalToRgb.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _getConstructorName__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../getConstructorName */ \"./src/util/getConstructorName.ts\");\n\r\nconst hexadecimalToRgb = (hexadecimal, returnArrayYn = false) => {\r\n    // console.log(hexadecimal, typeof hexadecimal)\r\n    if (typeof hexadecimal === 'number') {\r\n        hexadecimal = Math.floor(+hexadecimal);\r\n        if (returnArrayYn) {\r\n            return [\r\n                (hexadecimal >> 16 & 255) / 255,\r\n                (hexadecimal >> 8 & 255) / 255,\r\n                (hexadecimal & 255) / 255,\r\n                1\r\n            ];\r\n        }\r\n        else {\r\n            return {\r\n                r: (hexadecimal >> 16 & 255) / 255,\r\n                g: (hexadecimal >> 8 & 255) / 255,\r\n                b: (hexadecimal & 255) / 255,\r\n                a: 1,\r\n            };\r\n        }\r\n    }\r\n    else if (typeof hexadecimal === 'string' && (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hexadecimal)\r\n        || /^(0x)([A-Fa-f0-9]{3}){1,2}$/.test(hexadecimal))) {\r\n        const result = [];\r\n        let temp = (hexadecimal.substring(0, 2) === '0x' ? hexadecimal.substring(2) : hexadecimal.substring(1)).split('');\r\n        if (temp.length === 3)\r\n            temp = [temp[0], temp[0], temp[1], temp[1], temp[2], temp[2]];\r\n        const temp2 = '0x' + temp.join('');\r\n        result[0] = ((temp2 >> 16) & 255) / 255;\r\n        result[1] = ((temp2 >> 8) & 255) / 255;\r\n        result[2] = (temp2 & 255) / 255;\r\n        if (returnArrayYn) {\r\n            return [\r\n                ...result,\r\n                1\r\n            ];\r\n        }\r\n        else {\r\n            return {\r\n                r: result[0],\r\n                g: result[1],\r\n                b: result[2],\r\n                a: 1,\r\n            };\r\n        }\r\n    }\r\n    else {\r\n        throw Error(`from ${(0,_getConstructorName__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(hexadecimalToRgb)} : input value - ${hexadecimal} / Only hexadecimal number or hex string allowed`);\r\n    }\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (hexadecimalToRgb);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/util/color/hexadecimalToRgb.ts?");

/***/ }),

/***/ "./src/util/color/index.ts":
/*!*********************************!*\
  !*** ./src/util/color/index.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hexadecimalToRgb\": () => (/* reexport safe */ _hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _hexadecimalToRgb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hexadecimalToRgb */ \"./src/util/color/hexadecimalToRgb.ts\");\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/util/color/index.ts?");

/***/ }),

/***/ "./src/util/computeViewFrustumPlanes.ts":
/*!**********************************************!*\
  !*** ./src/util/computeViewFrustumPlanes.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gl-matrix */ \"./src/util/gl-matrix/index.js\");\n\r\nconst computeViewFrustumPlanes = (projectionMatrix, cameraMatrix) => {\r\n    let tMTX = _gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.create();\r\n    _gl_matrix__WEBPACK_IMPORTED_MODULE_0__.mat4.multiply(tMTX, projectionMatrix, cameraMatrix);\r\n    let planes = [];\r\n    planes[0] = [tMTX[3] - tMTX[0], tMTX[7] - tMTX[4], tMTX[11] - tMTX[8], tMTX[15] - tMTX[12]];\r\n    planes[1] = [tMTX[3] + tMTX[0], tMTX[7] + tMTX[4], tMTX[11] + tMTX[8], tMTX[15] + tMTX[12]];\r\n    planes[2] = [tMTX[3] + tMTX[1], tMTX[7] + tMTX[5], tMTX[11] + tMTX[9], tMTX[15] + tMTX[13]];\r\n    planes[3] = [tMTX[3] - tMTX[1], tMTX[7] - tMTX[5], tMTX[11] - tMTX[9], tMTX[15] - tMTX[13]];\r\n    planes[4] = [tMTX[3] - tMTX[2], tMTX[7] - tMTX[6], tMTX[11] - tMTX[10], tMTX[15] - tMTX[14]];\r\n    planes[5] = [tMTX[3] + tMTX[2], tMTX[7] + tMTX[6], tMTX[11] + tMTX[10], tMTX[15] + tMTX[14]];\r\n    for (let i = 0; i < planes.length; i++) {\r\n        let plane = planes[i];\r\n        let norm = Math.sqrt(plane[0] * plane[0] + plane[1] * plane[1] + plane[2] * plane[2]);\r\n        plane[0] /= norm;\r\n        plane[1] /= norm;\r\n        plane[2] /= norm;\r\n        plane[3] /= norm;\r\n    }\r\n    return planes;\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (computeViewFrustumPlanes);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/util/computeViewFrustumPlanes.ts?");

/***/ }),

/***/ "./src/util/errorFunc/index.ts":
/*!*************************************!*\
  !*** ./src/util/errorFunc/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"throwError\": () => (/* reexport safe */ _throwError__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"throwErrorInstanceOf\": () => (/* reexport safe */ _throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"throwErrorNumberType\": () => (/* reexport safe */ _throwErrorNumberType__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _throwError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./throwError */ \"./src/util/errorFunc/throwError.js\");\n/* harmony import */ var _throwErrorInstanceOf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./throwErrorInstanceOf */ \"./src/util/errorFunc/throwErrorInstanceOf.js\");\n/* harmony import */ var _throwErrorNumberType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./throwErrorNumberType */ \"./src/util/errorFunc/throwErrorNumberType.js\");\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/util/errorFunc/index.ts?");

/***/ }),

/***/ "./src/util/getConstructorName.ts":
/*!****************************************!*\
  !*** ./src/util/getConstructorName.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst getConstructorName = function (target) {\r\n    return `${target.constructor.name}`;\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getConstructorName);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/util/getConstructorName.ts?");

/***/ }),

/***/ "./src/util/makeUUID.ts":
/*!******************************!*\
  !*** ./src/util/makeUUID.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst makeUUID = function () {\r\n    let u = '', m = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx', i = 0, rb = Math.random() * 0xffffffff | 0;\r\n    while (i++ < 36) {\r\n        let c = m[i - 1], r = rb & 0xf, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        u += (c == '-' || c == '4') ? c : v.toString(16);\r\n        rb = i % 8 == 0 ? Math.random() * 0xffffffff | 0 : rb >> 4;\r\n    }\r\n    return u;\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (makeUUID);\r\n\n\n//# sourceURL=webpack://RedGPU/./src/util/makeUUID.ts?");

/***/ }),

/***/ "./src/material/wgsl/index.js":
/*!************************************!*\
  !*** ./src/material/wgsl/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ShaderDefine_SystemUniforms_wgsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ShaderDefine_SystemUniforms.wgsl */ \"./src/material/wgsl/ShaderDefine_SystemUniforms.wgsl\");\n/* harmony import */ var _ShaderDefine_ModelUniformStruct_wgsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ShaderDefine_ModelUniformStruct.wgsl */ \"./src/material/wgsl/ShaderDefine_ModelUniformStruct.wgsl\");\n/* harmony import */ var _ShaderDefine_SystemAmbientDirectionalLights_wgsl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShaderDefine_SystemAmbientDirectionalLights.wgsl */ \"./src/material/wgsl/ShaderDefine_SystemAmbientDirectionalLights.wgsl\");\n/* harmony import */ var _ShaderDefine_SystemPointLights_wgsl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ShaderDefine_SystemPointLights.wgsl */ \"./src/material/wgsl/ShaderDefine_SystemPointLights.wgsl\");\n/* harmony import */ var _ShaderDefine_PointLightCluster_wgsl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ShaderDefine_PointLightCluster.wgsl */ \"./src/material/wgsl/ShaderDefine_PointLightCluster.wgsl\");\n/* harmony import */ var _ShaderDefine_PointLightClusterLightGroup_wgsl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ShaderDefine_PointLightClusterLightGroup.wgsl */ \"./src/material/wgsl/ShaderDefine_PointLightClusterLightGroup.wgsl\");\n/* harmony import */ var _ShaderDefine_SystemCalcLightFunctions_wgsl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ShaderDefine_SystemCalcLightFunctions.wgsl */ \"./src/material/wgsl/ShaderDefine_SystemCalcLightFunctions.wgsl\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n * @type {{ShaderDefine_PointLightClusterLightGroup: *, ShaderDefine_SystemCalcLightFunctions: *, ShaderDefine_SystemPointLights: *, ShaderDefine_PointLightCluster: *, ShaderDefine_ModelUniformStruct: *, ShaderDefine_SystemUniforms: *, ShaderDefine_SystemAmbientDirectionalLights: *}}\r\n */\r\nconst ShaderDefine = {\r\n\tShaderDefine_SystemUniforms: _ShaderDefine_SystemUniforms_wgsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\r\n\tShaderDefine_ModelUniformStruct: _ShaderDefine_ModelUniformStruct_wgsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n\tShaderDefine_SystemAmbientDirectionalLights: _ShaderDefine_SystemAmbientDirectionalLights_wgsl__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\r\n\tShaderDefine_SystemPointLights: _ShaderDefine_SystemPointLights_wgsl__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\r\n\tShaderDefine_PointLightCluster: _ShaderDefine_PointLightCluster_wgsl__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\r\n\tShaderDefine_PointLightClusterLightGroup: _ShaderDefine_PointLightClusterLightGroup_wgsl__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\r\n\tShaderDefine_SystemCalcLightFunctions: _ShaderDefine_SystemCalcLightFunctions_wgsl__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShaderDefine);\n\n//# sourceURL=webpack://RedGPU/./src/material/wgsl/index.js?");

/***/ }),

/***/ "./src/util/errorFunc/throwError.js":
/*!******************************************!*\
  !*** ./src/util/errorFunc/throwError.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst throwError = function () {\r\n\tconsole.log('------ throwError! ------')\r\n\tthrow new Error(Array.prototype.slice.call(arguments).join(' '))\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (throwError);\n\n//# sourceURL=webpack://RedGPU/./src/util/errorFunc/throwError.js?");

/***/ }),

/***/ "./src/util/errorFunc/throwErrorInstanceOf.js":
/*!****************************************************!*\
  !*** ./src/util/errorFunc/throwErrorInstanceOf.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _getConstructorName__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../getConstructorName */ \"./src/util/getConstructorName.ts\");\n/**\r\n *  \r\n */\r\n\r\n\r\nconst throwErrorInstanceOf = function (target, key, wantClassName) {\r\n\tconsole.log('------ throwErrorInstanceOf! ------')\r\n\tthrow Error(`from ${(0,_getConstructorName__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target)} : ${key} ${wantClassName} instance  `)\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (throwErrorInstanceOf);\n\n//# sourceURL=webpack://RedGPU/./src/util/errorFunc/throwErrorInstanceOf.js?");

/***/ }),

/***/ "./src/util/errorFunc/throwErrorNumberType.js":
/*!****************************************************!*\
  !*** ./src/util/errorFunc/throwErrorNumberType.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _getConstructorName__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../getConstructorName */ \"./src/util/getConstructorName.ts\");\n/**\r\n *  \r\n */\r\n\r\n\r\nconst throwErrorNumberType = function (target, key) {\r\n\tconsole.log('------ throwErrorNumberType! ------')\r\n\tthrow Error(`from ${(0,_getConstructorName__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target)} : ${key} - Only number type allowed`)\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (throwErrorNumberType);\n\n//# sourceURL=webpack://RedGPU/./src/util/errorFunc/throwErrorNumberType.js?");

/***/ }),

/***/ "./src/util/gl-matrix/common.js":
/*!**************************************!*\
  !*** ./src/util/gl-matrix/common.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ANGLE_ORDER\": () => (/* binding */ ANGLE_ORDER),\n/* harmony export */   \"ARRAY_TYPE\": () => (/* binding */ ARRAY_TYPE),\n/* harmony export */   \"EPSILON\": () => (/* binding */ EPSILON),\n/* harmony export */   \"RANDOM\": () => (/* binding */ RANDOM),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"setMatrixArrayType\": () => (/* binding */ setMatrixArrayType),\n/* harmony export */   \"toRadian\": () => (/* binding */ toRadian)\n/* harmony export */ });\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nvar ARRAY_TYPE = typeof Float32Array !== \"undefined\" ? Float32Array : Array;\nvar RANDOM = Math.random;\nvar ANGLE_ORDER = \"zyx\";\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nfunction setMatrixArrayType(type) {\n\tARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nfunction toRadian(a) {\n\treturn a * degree;\n}\n\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of gl-matrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\treturn Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\n\nif (!Math.hypot) Math.hypot = function () {\n\tvar y = 0,\n\t\ti = arguments.length;\n\n\twhile (i--) {\n\t\ty += arguments[i] * arguments[i];\n\t}\n\n\treturn Math.sqrt(y);\n};\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/common.js?");

/***/ }),

/***/ "./src/util/gl-matrix/index.js":
/*!*************************************!*\
  !*** ./src/util/gl-matrix/index.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"glMatrix\": () => (/* reexport module object */ _common_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   \"mat2\": () => (/* reexport module object */ _mat2_js__WEBPACK_IMPORTED_MODULE_1__),\n/* harmony export */   \"mat2d\": () => (/* reexport module object */ _mat2d_js__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   \"mat3\": () => (/* reexport module object */ _mat3_js__WEBPACK_IMPORTED_MODULE_3__),\n/* harmony export */   \"mat4\": () => (/* reexport module object */ _mat4_js__WEBPACK_IMPORTED_MODULE_4__),\n/* harmony export */   \"quat\": () => (/* reexport module object */ _quat_js__WEBPACK_IMPORTED_MODULE_5__),\n/* harmony export */   \"quat2\": () => (/* reexport module object */ _quat2_js__WEBPACK_IMPORTED_MODULE_6__),\n/* harmony export */   \"vec2\": () => (/* reexport module object */ _vec2_js__WEBPACK_IMPORTED_MODULE_7__),\n/* harmony export */   \"vec3\": () => (/* reexport module object */ _vec3_js__WEBPACK_IMPORTED_MODULE_8__),\n/* harmony export */   \"vec4\": () => (/* reexport module object */ _vec4_js__WEBPACK_IMPORTED_MODULE_9__)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n/* harmony import */ var _mat2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mat2.js */ \"./src/util/gl-matrix/mat2.js\");\n/* harmony import */ var _mat2d_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mat2d.js */ \"./src/util/gl-matrix/mat2d.js\");\n/* harmony import */ var _mat3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mat3.js */ \"./src/util/gl-matrix/mat3.js\");\n/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mat4.js */ \"./src/util/gl-matrix/mat4.js\");\n/* harmony import */ var _quat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./quat.js */ \"./src/util/gl-matrix/quat.js\");\n/* harmony import */ var _quat2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./quat2.js */ \"./src/util/gl-matrix/quat2.js\");\n/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./vec2.js */ \"./src/util/gl-matrix/vec2.js\");\n/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./vec3.js */ \"./src/util/gl-matrix/vec3.js\");\n/* harmony import */ var _vec4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./vec4.js */ \"./src/util/gl-matrix/vec4.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/index.js?");

/***/ }),

/***/ "./src/util/gl-matrix/mat2.js":
/*!************************************!*\
  !*** ./src/util/gl-matrix/mat2.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LDU\": () => (/* binding */ LDU),\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"adjoint\": () => (/* binding */ adjoint),\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"copy\": () => (/* binding */ copy),\n/* harmony export */   \"create\": () => (/* binding */ create),\n/* harmony export */   \"determinant\": () => (/* binding */ determinant),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"exactEquals\": () => (/* binding */ exactEquals),\n/* harmony export */   \"frob\": () => (/* binding */ frob),\n/* harmony export */   \"fromRotation\": () => (/* binding */ fromRotation),\n/* harmony export */   \"fromScaling\": () => (/* binding */ fromScaling),\n/* harmony export */   \"fromValues\": () => (/* binding */ fromValues),\n/* harmony export */   \"identity\": () => (/* binding */ identity),\n/* harmony export */   \"invert\": () => (/* binding */ invert),\n/* harmony export */   \"mul\": () => (/* binding */ mul),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"multiplyScalar\": () => (/* binding */ multiplyScalar),\n/* harmony export */   \"multiplyScalarAndAdd\": () => (/* binding */ multiplyScalarAndAdd),\n/* harmony export */   \"rotate\": () => (/* binding */ rotate),\n/* harmony export */   \"scale\": () => (/* binding */ scale),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"str\": () => (/* binding */ str),\n/* harmony export */   \"sub\": () => (/* binding */ sub),\n/* harmony export */   \"subtract\": () => (/* binding */ subtract),\n/* harmony export */   \"transpose\": () => (/* binding */ transpose)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n\n\n/**\n * 2x2 Matrix\n * @module mat2\n */\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\n\nfunction create() {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\n\tif (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n\t\tout[1] = 0;\n\t\tout[2] = 0;\n\t}\n\n\tout[0] = 1;\n\tout[3] = 1;\n\treturn out;\n}\n\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\n\nfunction clone(a) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\treturn out;\n}\n\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nfunction copy(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\treturn out;\n}\n\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\n\nfunction identity(out) {\n\tout[0] = 1;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 1;\n\treturn out;\n}\n\n/**\n * Create a new mat2 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out A new 2x2 matrix\n */\n\nfunction fromValues(m00, m01, m10, m11) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\tout[0] = m00;\n\tout[1] = m01;\n\tout[2] = m10;\n\tout[3] = m11;\n\treturn out;\n}\n\n/**\n * Set the components of a mat2 to the given values\n *\n * @param {mat2} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out\n */\n\nfunction set(out, m00, m01, m10, m11) {\n\tout[0] = m00;\n\tout[1] = m01;\n\tout[2] = m10;\n\tout[3] = m11;\n\treturn out;\n}\n\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nfunction transpose(out, a) {\n\t// If we are transposing ourselves we can skip a few steps but have to cache\n\t// some values\n\tif (out === a) {\n\t\tvar a1 = a[1];\n\t\tout[1] = a[2];\n\t\tout[2] = a1;\n\t} else {\n\t\tout[0] = a[0];\n\t\tout[1] = a[2];\n\t\tout[2] = a[1];\n\t\tout[3] = a[3];\n\t}\n\n\treturn out;\n}\n\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nfunction invert(out, a) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3]; // Calculate the determinant\n\n\tvar det = a0 * a3 - a2 * a1;\n\n\tif (!det) {\n\t\treturn null;\n\t}\n\n\tdet = 1.0 / det;\n\tout[0] = a3 * det;\n\tout[1] = -a1 * det;\n\tout[2] = -a2 * det;\n\tout[3] = a0 * det;\n\treturn out;\n}\n\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nfunction adjoint(out, a) {\n\t// Caching this value is necessary if out == a\n\tvar a0 = a[0];\n\tout[0] = a[3];\n\tout[1] = -a[1];\n\tout[2] = -a[2];\n\tout[3] = a0;\n\treturn out;\n}\n\n/**\n * Calculates the determinant of a mat2\n *\n * @param {ReadonlyMat2} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n\treturn a[0] * a[3] - a[2] * a[1];\n}\n\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nfunction multiply(out, a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3];\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2],\n\t\tb3 = b[3];\n\tout[0] = a0 * b0 + a2 * b1;\n\tout[1] = a1 * b0 + a3 * b1;\n\tout[2] = a0 * b2 + a2 * b3;\n\tout[3] = a1 * b2 + a3 * b3;\n\treturn out;\n}\n\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nfunction rotate(out, a, rad) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3];\n\tvar s = Math.sin(rad);\n\tvar c = Math.cos(rad);\n\tout[0] = a0 * c + a2 * s;\n\tout[1] = a1 * c + a3 * s;\n\tout[2] = a0 * -s + a2 * c;\n\tout[3] = a1 * -s + a3 * c;\n\treturn out;\n}\n\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\n\nfunction scale(out, a, v) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3];\n\tvar v0 = v[0],\n\t\tv1 = v[1];\n\tout[0] = a0 * v0;\n\tout[1] = a1 * v0;\n\tout[2] = a2 * v1;\n\tout[3] = a3 * v1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nfunction fromRotation(out, rad) {\n\tvar s = Math.sin(rad);\n\tvar c = Math.cos(rad);\n\tout[0] = c;\n\tout[1] = s;\n\tout[2] = -s;\n\tout[3] = c;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2} out\n */\n\nfunction fromScaling(out, v) {\n\tout[0] = v[0];\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = v[1];\n\treturn out;\n}\n\n/**\n * Returns a string representation of a mat2\n *\n * @param {ReadonlyMat2} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n\treturn \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n\treturn Math.hypot(a[0], a[1], a[2], a[3]);\n}\n\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {ReadonlyMat2} L the lower triangular matrix\n * @param {ReadonlyMat2} D the diagonal matrix\n * @param {ReadonlyMat2} U the upper triangular matrix\n * @param {ReadonlyMat2} a the input matrix to factorize\n */\n\nfunction LDU(L, D, U, a) {\n\tL[2] = a[2] / a[0];\n\tU[0] = a[0];\n\tU[1] = a[1];\n\tU[3] = a[3] - L[2] * U[1];\n\treturn [L, D, U];\n}\n\n/**\n * Adds two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nfunction add(out, a, b) {\n\tout[0] = a[0] + b[0];\n\tout[1] = a[1] + b[1];\n\tout[2] = a[2] + b[2];\n\tout[3] = a[3] + b[3];\n\treturn out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nfunction subtract(out, a, b) {\n\tout[0] = a[0] - b[0];\n\tout[1] = a[1] - b[1];\n\tout[2] = a[2] - b[2];\n\tout[3] = a[3] - b[3];\n\treturn out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n\treturn a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3];\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2],\n\t\tb3 = b[3];\n\treturn Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2} out\n */\n\nfunction multiplyScalar(out, a, b) {\n\tout[0] = a[0] * b;\n\tout[1] = a[1] * b;\n\tout[2] = a[2] * b;\n\tout[3] = a[3] * b;\n\treturn out;\n}\n\n/**\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2} out the receiving vector\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n\tout[0] = a[0] + b[0] * scale;\n\tout[1] = a[1] + b[1] * scale;\n\tout[2] = a[2] + b[2] * scale;\n\tout[3] = a[3] + b[3] * scale;\n\treturn out;\n}\n\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat2.subtract}\n * @function\n */\n\nvar sub = subtract;\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/mat2.js?");

/***/ }),

/***/ "./src/util/gl-matrix/mat2d.js":
/*!*************************************!*\
  !*** ./src/util/gl-matrix/mat2d.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"copy\": () => (/* binding */ copy),\n/* harmony export */   \"create\": () => (/* binding */ create),\n/* harmony export */   \"determinant\": () => (/* binding */ determinant),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"exactEquals\": () => (/* binding */ exactEquals),\n/* harmony export */   \"frob\": () => (/* binding */ frob),\n/* harmony export */   \"fromRotation\": () => (/* binding */ fromRotation),\n/* harmony export */   \"fromScaling\": () => (/* binding */ fromScaling),\n/* harmony export */   \"fromTranslation\": () => (/* binding */ fromTranslation),\n/* harmony export */   \"fromValues\": () => (/* binding */ fromValues),\n/* harmony export */   \"identity\": () => (/* binding */ identity),\n/* harmony export */   \"invert\": () => (/* binding */ invert),\n/* harmony export */   \"mul\": () => (/* binding */ mul),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"multiplyScalar\": () => (/* binding */ multiplyScalar),\n/* harmony export */   \"multiplyScalarAndAdd\": () => (/* binding */ multiplyScalarAndAdd),\n/* harmony export */   \"rotate\": () => (/* binding */ rotate),\n/* harmony export */   \"scale\": () => (/* binding */ scale),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"str\": () => (/* binding */ str),\n/* harmony export */   \"sub\": () => (/* binding */ sub),\n/* harmony export */   \"subtract\": () => (/* binding */ subtract),\n/* harmony export */   \"translate\": () => (/* binding */ translate)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n\n\n/**\n * 2x3 Matrix\n * @module mat2d\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, b,\n *  c, d,\n *  tx, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, b, 0,\n *  c, d, 0,\n *  tx, ty, 1]\n * </pre>\n * The last column is ignored so the array is shorter and operations are faster.\n */\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\n\nfunction create() {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(6);\n\n\tif (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n\t\tout[1] = 0;\n\t\tout[2] = 0;\n\t\tout[4] = 0;\n\t\tout[5] = 0;\n\t}\n\n\tout[0] = 1;\n\tout[3] = 1;\n\treturn out;\n}\n\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\n\nfunction clone(a) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(6);\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\tout[4] = a[4];\n\tout[5] = a[5];\n\treturn out;\n}\n\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nfunction copy(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\tout[4] = a[4];\n\tout[5] = a[5];\n\treturn out;\n}\n\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\n\nfunction identity(out) {\n\tout[0] = 1;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 1;\n\tout[4] = 0;\n\tout[5] = 0;\n\treturn out;\n}\n\n/**\n * Create a new mat2d with the given values\n *\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} A new mat2d\n */\n\nfunction fromValues(a, b, c, d, tx, ty) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(6);\n\tout[0] = a;\n\tout[1] = b;\n\tout[2] = c;\n\tout[3] = d;\n\tout[4] = tx;\n\tout[5] = ty;\n\treturn out;\n}\n\n/**\n * Set the components of a mat2d to the given values\n *\n * @param {mat2d} out the receiving matrix\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} out\n */\n\nfunction set(out, a, b, c, d, tx, ty) {\n\tout[0] = a;\n\tout[1] = b;\n\tout[2] = c;\n\tout[3] = d;\n\tout[4] = tx;\n\tout[5] = ty;\n\treturn out;\n}\n\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nfunction invert(out, a) {\n\tvar aa = a[0],\n\t\tab = a[1],\n\t\tac = a[2],\n\t\tad = a[3];\n\tvar atx = a[4],\n\t\taty = a[5];\n\tvar det = aa * ad - ab * ac;\n\n\tif (!det) {\n\t\treturn null;\n\t}\n\n\tdet = 1.0 / det;\n\tout[0] = ad * det;\n\tout[1] = -ab * det;\n\tout[2] = -ac * det;\n\tout[3] = aa * det;\n\tout[4] = (ac * aty - ad * atx) * det;\n\tout[5] = (ab * atx - aa * aty) * det;\n\treturn out;\n}\n\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n\treturn a[0] * a[3] - a[1] * a[2];\n}\n\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nfunction multiply(out, a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3],\n\t\ta4 = a[4],\n\t\ta5 = a[5];\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2],\n\t\tb3 = b[3],\n\t\tb4 = b[4],\n\t\tb5 = b[5];\n\tout[0] = a0 * b0 + a2 * b1;\n\tout[1] = a1 * b0 + a3 * b1;\n\tout[2] = a0 * b2 + a2 * b3;\n\tout[3] = a1 * b2 + a3 * b3;\n\tout[4] = a0 * b4 + a2 * b5 + a4;\n\tout[5] = a1 * b4 + a3 * b5 + a5;\n\treturn out;\n}\n\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nfunction rotate(out, a, rad) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3],\n\t\ta4 = a[4],\n\t\ta5 = a[5];\n\tvar s = Math.sin(rad);\n\tvar c = Math.cos(rad);\n\tout[0] = a0 * c + a2 * s;\n\tout[1] = a1 * c + a3 * s;\n\tout[2] = a0 * -s + a2 * c;\n\tout[3] = a1 * -s + a3 * c;\n\tout[4] = a4;\n\tout[5] = a5;\n\treturn out;\n}\n\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\n\nfunction scale(out, a, v) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3],\n\t\ta4 = a[4],\n\t\ta5 = a[5];\n\tvar v0 = v[0],\n\t\tv1 = v[1];\n\tout[0] = a0 * v0;\n\tout[1] = a1 * v0;\n\tout[2] = a2 * v1;\n\tout[3] = a3 * v1;\n\tout[4] = a4;\n\tout[5] = a5;\n\treturn out;\n}\n\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\n\nfunction translate(out, a, v) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3],\n\t\ta4 = a[4],\n\t\ta5 = a[5];\n\tvar v0 = v[0],\n\t\tv1 = v[1];\n\tout[0] = a0;\n\tout[1] = a1;\n\tout[2] = a2;\n\tout[3] = a3;\n\tout[4] = a0 * v0 + a2 * v1 + a4;\n\tout[5] = a1 * v0 + a3 * v1 + a5;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nfunction fromRotation(out, rad) {\n\tvar s = Math.sin(rad),\n\t\tc = Math.cos(rad);\n\tout[0] = c;\n\tout[1] = s;\n\tout[2] = -s;\n\tout[3] = c;\n\tout[4] = 0;\n\tout[5] = 0;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2d} out\n */\n\nfunction fromScaling(out, v) {\n\tout[0] = v[0];\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = v[1];\n\tout[4] = 0;\n\tout[5] = 0;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat2d} out\n */\n\nfunction fromTranslation(out, v) {\n\tout[0] = 1;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 1;\n\tout[4] = v[0];\n\tout[5] = v[1];\n\treturn out;\n}\n\n/**\n * Returns a string representation of a mat2d\n *\n * @param {ReadonlyMat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n\treturn \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n\treturn Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n\n/**\n * Adds two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nfunction add(out, a, b) {\n\tout[0] = a[0] + b[0];\n\tout[1] = a[1] + b[1];\n\tout[2] = a[2] + b[2];\n\tout[3] = a[3] + b[3];\n\tout[4] = a[4] + b[4];\n\tout[5] = a[5] + b[5];\n\treturn out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nfunction subtract(out, a, b) {\n\tout[0] = a[0] - b[0];\n\tout[1] = a[1] - b[1];\n\tout[2] = a[2] - b[2];\n\tout[3] = a[3] - b[3];\n\tout[4] = a[4] - b[4];\n\tout[5] = a[5] - b[5];\n\treturn out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2d} out\n */\n\nfunction multiplyScalar(out, a, b) {\n\tout[0] = a[0] * b;\n\tout[1] = a[1] * b;\n\tout[2] = a[2] * b;\n\tout[3] = a[3] * b;\n\tout[4] = a[4] * b;\n\tout[5] = a[5] * b;\n\treturn out;\n}\n\n/**\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2d} out the receiving vector\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2d} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n\tout[0] = a[0] + b[0] * scale;\n\tout[1] = a[1] + b[1] * scale;\n\tout[2] = a[2] + b[2] * scale;\n\tout[3] = a[3] + b[3] * scale;\n\tout[4] = a[4] + b[4] * scale;\n\tout[5] = a[5] + b[5] * scale;\n\treturn out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n\treturn a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3],\n\t\ta4 = a[4],\n\t\ta5 = a[5];\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2],\n\t\tb3 = b[3],\n\t\tb4 = b[4],\n\t\tb5 = b[5];\n\treturn Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat2d.subtract}\n * @function\n */\n\nvar sub = subtract;\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/mat2d.js?");

/***/ }),

/***/ "./src/util/gl-matrix/mat3.js":
/*!************************************!*\
  !*** ./src/util/gl-matrix/mat3.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"adjoint\": () => (/* binding */ adjoint),\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"copy\": () => (/* binding */ copy),\n/* harmony export */   \"create\": () => (/* binding */ create),\n/* harmony export */   \"determinant\": () => (/* binding */ determinant),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"exactEquals\": () => (/* binding */ exactEquals),\n/* harmony export */   \"frob\": () => (/* binding */ frob),\n/* harmony export */   \"fromMat2d\": () => (/* binding */ fromMat2d),\n/* harmony export */   \"fromMat4\": () => (/* binding */ fromMat4),\n/* harmony export */   \"fromQuat\": () => (/* binding */ fromQuat),\n/* harmony export */   \"fromRotation\": () => (/* binding */ fromRotation),\n/* harmony export */   \"fromScaling\": () => (/* binding */ fromScaling),\n/* harmony export */   \"fromTranslation\": () => (/* binding */ fromTranslation),\n/* harmony export */   \"fromValues\": () => (/* binding */ fromValues),\n/* harmony export */   \"identity\": () => (/* binding */ identity),\n/* harmony export */   \"invert\": () => (/* binding */ invert),\n/* harmony export */   \"mul\": () => (/* binding */ mul),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"multiplyScalar\": () => (/* binding */ multiplyScalar),\n/* harmony export */   \"multiplyScalarAndAdd\": () => (/* binding */ multiplyScalarAndAdd),\n/* harmony export */   \"normalFromMat4\": () => (/* binding */ normalFromMat4),\n/* harmony export */   \"projection\": () => (/* binding */ projection),\n/* harmony export */   \"rotate\": () => (/* binding */ rotate),\n/* harmony export */   \"scale\": () => (/* binding */ scale),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"str\": () => (/* binding */ str),\n/* harmony export */   \"sub\": () => (/* binding */ sub),\n/* harmony export */   \"subtract\": () => (/* binding */ subtract),\n/* harmony export */   \"translate\": () => (/* binding */ translate),\n/* harmony export */   \"transpose\": () => (/* binding */ transpose)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nfunction create() {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(9);\n\n\tif (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n\t\tout[1] = 0;\n\t\tout[2] = 0;\n\t\tout[3] = 0;\n\t\tout[5] = 0;\n\t\tout[6] = 0;\n\t\tout[7] = 0;\n\t}\n\n\tout[0] = 1;\n\tout[4] = 1;\n\tout[8] = 1;\n\treturn out;\n}\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nfunction fromMat4(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[4];\n\tout[4] = a[5];\n\tout[5] = a[6];\n\tout[6] = a[8];\n\tout[7] = a[9];\n\tout[8] = a[10];\n\treturn out;\n}\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nfunction clone(a) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(9);\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\tout[4] = a[4];\n\tout[5] = a[5];\n\tout[6] = a[6];\n\tout[7] = a[7];\n\tout[8] = a[8];\n\treturn out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nfunction copy(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\tout[4] = a[4];\n\tout[5] = a[5];\n\tout[6] = a[6];\n\tout[7] = a[7];\n\tout[8] = a[8];\n\treturn out;\n}\n\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(9);\n\tout[0] = m00;\n\tout[1] = m01;\n\tout[2] = m02;\n\tout[3] = m10;\n\tout[4] = m11;\n\tout[5] = m12;\n\tout[6] = m20;\n\tout[7] = m21;\n\tout[8] = m22;\n\treturn out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n\tout[0] = m00;\n\tout[1] = m01;\n\tout[2] = m02;\n\tout[3] = m10;\n\tout[4] = m11;\n\tout[5] = m12;\n\tout[6] = m20;\n\tout[7] = m21;\n\tout[8] = m22;\n\treturn out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nfunction identity(out) {\n\tout[0] = 1;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 1;\n\tout[5] = 0;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 1;\n\treturn out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nfunction transpose(out, a) {\n\t// If we are transposing ourselves we can skip a few steps but have to cache some values\n\tif (out === a) {\n\t\tvar a01 = a[1],\n\t\t\ta02 = a[2],\n\t\t\ta12 = a[5];\n\t\tout[1] = a[3];\n\t\tout[2] = a[6];\n\t\tout[3] = a01;\n\t\tout[5] = a[7];\n\t\tout[6] = a02;\n\t\tout[7] = a12;\n\t} else {\n\t\tout[0] = a[0];\n\t\tout[1] = a[3];\n\t\tout[2] = a[6];\n\t\tout[3] = a[1];\n\t\tout[4] = a[4];\n\t\tout[5] = a[7];\n\t\tout[6] = a[2];\n\t\tout[7] = a[5];\n\t\tout[8] = a[8];\n\t}\n\n\treturn out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nfunction invert(out, a) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2];\n\tvar a10 = a[3],\n\t\ta11 = a[4],\n\t\ta12 = a[5];\n\tvar a20 = a[6],\n\t\ta21 = a[7],\n\t\ta22 = a[8];\n\tvar b01 = a22 * a11 - a12 * a21;\n\tvar b11 = -a22 * a10 + a12 * a20;\n\tvar b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n\tvar det = a00 * b01 + a01 * b11 + a02 * b21;\n\n\tif (!det) {\n\t\treturn null;\n\t}\n\n\tdet = 1.0 / det;\n\tout[0] = b01 * det;\n\tout[1] = (-a22 * a01 + a02 * a21) * det;\n\tout[2] = (a12 * a01 - a02 * a11) * det;\n\tout[3] = b11 * det;\n\tout[4] = (a22 * a00 - a02 * a20) * det;\n\tout[5] = (-a12 * a00 + a02 * a10) * det;\n\tout[6] = b21 * det;\n\tout[7] = (-a21 * a00 + a01 * a20) * det;\n\tout[8] = (a11 * a00 - a01 * a10) * det;\n\treturn out;\n}\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nfunction adjoint(out, a) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2];\n\tvar a10 = a[3],\n\t\ta11 = a[4],\n\t\ta12 = a[5];\n\tvar a20 = a[6],\n\t\ta21 = a[7],\n\t\ta22 = a[8];\n\tout[0] = a11 * a22 - a12 * a21;\n\tout[1] = a02 * a21 - a01 * a22;\n\tout[2] = a01 * a12 - a02 * a11;\n\tout[3] = a12 * a20 - a10 * a22;\n\tout[4] = a00 * a22 - a02 * a20;\n\tout[5] = a02 * a10 - a00 * a12;\n\tout[6] = a10 * a21 - a11 * a20;\n\tout[7] = a01 * a20 - a00 * a21;\n\tout[8] = a00 * a11 - a01 * a10;\n\treturn out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2];\n\tvar a10 = a[3],\n\t\ta11 = a[4],\n\t\ta12 = a[5];\n\tvar a20 = a[6],\n\t\ta21 = a[7],\n\t\ta22 = a[8];\n\treturn a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nfunction multiply(out, a, b) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2];\n\tvar a10 = a[3],\n\t\ta11 = a[4],\n\t\ta12 = a[5];\n\tvar a20 = a[6],\n\t\ta21 = a[7],\n\t\ta22 = a[8];\n\tvar b00 = b[0],\n\t\tb01 = b[1],\n\t\tb02 = b[2];\n\tvar b10 = b[3],\n\t\tb11 = b[4],\n\t\tb12 = b[5];\n\tvar b20 = b[6],\n\t\tb21 = b[7],\n\t\tb22 = b[8];\n\tout[0] = b00 * a00 + b01 * a10 + b02 * a20;\n\tout[1] = b00 * a01 + b01 * a11 + b02 * a21;\n\tout[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\tout[3] = b10 * a00 + b11 * a10 + b12 * a20;\n\tout[4] = b10 * a01 + b11 * a11 + b12 * a21;\n\tout[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\tout[6] = b20 * a00 + b21 * a10 + b22 * a20;\n\tout[7] = b20 * a01 + b21 * a11 + b22 * a21;\n\tout[8] = b20 * a02 + b21 * a12 + b22 * a22;\n\treturn out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nfunction translate(out, a, v) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2],\n\t\ta10 = a[3],\n\t\ta11 = a[4],\n\t\ta12 = a[5],\n\t\ta20 = a[6],\n\t\ta21 = a[7],\n\t\ta22 = a[8],\n\t\tx = v[0],\n\t\ty = v[1];\n\tout[0] = a00;\n\tout[1] = a01;\n\tout[2] = a02;\n\tout[3] = a10;\n\tout[4] = a11;\n\tout[5] = a12;\n\tout[6] = x * a00 + y * a10 + a20;\n\tout[7] = x * a01 + y * a11 + a21;\n\tout[8] = x * a02 + y * a12 + a22;\n\treturn out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nfunction rotate(out, a, rad) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2],\n\t\ta10 = a[3],\n\t\ta11 = a[4],\n\t\ta12 = a[5],\n\t\ta20 = a[6],\n\t\ta21 = a[7],\n\t\ta22 = a[8],\n\t\ts = Math.sin(rad),\n\t\tc = Math.cos(rad);\n\tout[0] = c * a00 + s * a10;\n\tout[1] = c * a01 + s * a11;\n\tout[2] = c * a02 + s * a12;\n\tout[3] = c * a10 - s * a00;\n\tout[4] = c * a11 - s * a01;\n\tout[5] = c * a12 - s * a02;\n\tout[6] = a20;\n\tout[7] = a21;\n\tout[8] = a22;\n\treturn out;\n}\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nfunction scale(out, a, v) {\n\tvar x = v[0],\n\t\ty = v[1];\n\tout[0] = x * a[0];\n\tout[1] = x * a[1];\n\tout[2] = x * a[2];\n\tout[3] = y * a[3];\n\tout[4] = y * a[4];\n\tout[5] = y * a[5];\n\tout[6] = a[6];\n\tout[7] = a[7];\n\tout[8] = a[8];\n\treturn out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nfunction fromTranslation(out, v) {\n\tout[0] = 1;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 1;\n\tout[5] = 0;\n\tout[6] = v[0];\n\tout[7] = v[1];\n\tout[8] = 1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nfunction fromRotation(out, rad) {\n\tvar s = Math.sin(rad),\n\t\tc = Math.cos(rad);\n\tout[0] = c;\n\tout[1] = s;\n\tout[2] = 0;\n\tout[3] = -s;\n\tout[4] = c;\n\tout[5] = 0;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nfunction fromScaling(out, v) {\n\tout[0] = v[0];\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = v[1];\n\tout[5] = 0;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 1;\n\treturn out;\n}\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nfunction fromMat2d(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = 0;\n\tout[3] = a[2];\n\tout[4] = a[3];\n\tout[5] = 0;\n\tout[6] = a[4];\n\tout[7] = a[5];\n\tout[8] = 1;\n\treturn out;\n}\n\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nfunction fromQuat(out, q) {\n\tvar x = q[0],\n\t\ty = q[1],\n\t\tz = q[2],\n\t\tw = q[3];\n\tvar x2 = x + x;\n\tvar y2 = y + y;\n\tvar z2 = z + z;\n\tvar xx = x * x2;\n\tvar yx = y * x2;\n\tvar yy = y * y2;\n\tvar zx = z * x2;\n\tvar zy = z * y2;\n\tvar zz = z * z2;\n\tvar wx = w * x2;\n\tvar wy = w * y2;\n\tvar wz = w * z2;\n\tout[0] = 1 - yy - zz;\n\tout[3] = yx - wz;\n\tout[6] = zx + wy;\n\tout[1] = yx + wz;\n\tout[4] = 1 - xx - zz;\n\tout[7] = zy - wx;\n\tout[2] = zx - wy;\n\tout[5] = zy + wx;\n\tout[8] = 1 - xx - yy;\n\treturn out;\n}\n\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nfunction normalFromMat4(out, a) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2],\n\t\ta03 = a[3];\n\tvar a10 = a[4],\n\t\ta11 = a[5],\n\t\ta12 = a[6],\n\t\ta13 = a[7];\n\tvar a20 = a[8],\n\t\ta21 = a[9],\n\t\ta22 = a[10],\n\t\ta23 = a[11];\n\tvar a30 = a[12],\n\t\ta31 = a[13],\n\t\ta32 = a[14],\n\t\ta33 = a[15];\n\tvar b00 = a00 * a11 - a01 * a10;\n\tvar b01 = a00 * a12 - a02 * a10;\n\tvar b02 = a00 * a13 - a03 * a10;\n\tvar b03 = a01 * a12 - a02 * a11;\n\tvar b04 = a01 * a13 - a03 * a11;\n\tvar b05 = a02 * a13 - a03 * a12;\n\tvar b06 = a20 * a31 - a21 * a30;\n\tvar b07 = a20 * a32 - a22 * a30;\n\tvar b08 = a20 * a33 - a23 * a30;\n\tvar b09 = a21 * a32 - a22 * a31;\n\tvar b10 = a21 * a33 - a23 * a31;\n\tvar b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n\tvar det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n\tif (!det) {\n\t\treturn null;\n\t}\n\n\tdet = 1.0 / det;\n\tout[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n\tout[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n\tout[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\tout[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n\tout[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n\tout[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\tout[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n\tout[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n\tout[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\treturn out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nfunction projection(out, width, height) {\n\tout[0] = 2 / width;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = -2 / height;\n\tout[5] = 0;\n\tout[6] = -1;\n\tout[7] = 1;\n\tout[8] = 1;\n\treturn out;\n}\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n\treturn \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n\treturn Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nfunction add(out, a, b) {\n\tout[0] = a[0] + b[0];\n\tout[1] = a[1] + b[1];\n\tout[2] = a[2] + b[2];\n\tout[3] = a[3] + b[3];\n\tout[4] = a[4] + b[4];\n\tout[5] = a[5] + b[5];\n\tout[6] = a[6] + b[6];\n\tout[7] = a[7] + b[7];\n\tout[8] = a[8] + b[8];\n\treturn out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nfunction subtract(out, a, b) {\n\tout[0] = a[0] - b[0];\n\tout[1] = a[1] - b[1];\n\tout[2] = a[2] - b[2];\n\tout[3] = a[3] - b[3];\n\tout[4] = a[4] - b[4];\n\tout[5] = a[5] - b[5];\n\tout[6] = a[6] - b[6];\n\tout[7] = a[7] - b[7];\n\tout[8] = a[8] - b[8];\n\treturn out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nfunction multiplyScalar(out, a, b) {\n\tout[0] = a[0] * b;\n\tout[1] = a[1] * b;\n\tout[2] = a[2] * b;\n\tout[3] = a[3] * b;\n\tout[4] = a[4] * b;\n\tout[5] = a[5] * b;\n\tout[6] = a[6] * b;\n\tout[7] = a[7] * b;\n\tout[8] = a[8] * b;\n\treturn out;\n}\n\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n\tout[0] = a[0] + b[0] * scale;\n\tout[1] = a[1] + b[1] * scale;\n\tout[2] = a[2] + b[2] * scale;\n\tout[3] = a[3] + b[3] * scale;\n\tout[4] = a[4] + b[4] * scale;\n\tout[5] = a[5] + b[5] * scale;\n\tout[6] = a[6] + b[6] * scale;\n\tout[7] = a[7] + b[7] * scale;\n\tout[8] = a[8] + b[8] * scale;\n\treturn out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n\treturn a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3],\n\t\ta4 = a[4],\n\t\ta5 = a[5],\n\t\ta6 = a[6],\n\t\ta7 = a[7],\n\t\ta8 = a[8];\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2],\n\t\tb3 = b[3],\n\t\tb4 = b[4],\n\t\tb5 = b[5],\n\t\tb6 = b[6],\n\t\tb7 = b[7],\n\t\tb8 = b[8];\n\treturn Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nvar sub = subtract;\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/mat3.js?");

/***/ }),

/***/ "./src/util/gl-matrix/mat4.js":
/*!************************************!*\
  !*** ./src/util/gl-matrix/mat4.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"adjoint\": () => (/* binding */ adjoint),\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"copy\": () => (/* binding */ copy),\n/* harmony export */   \"create\": () => (/* binding */ create),\n/* harmony export */   \"decompose\": () => (/* binding */ decompose),\n/* harmony export */   \"determinant\": () => (/* binding */ determinant),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"exactEquals\": () => (/* binding */ exactEquals),\n/* harmony export */   \"frob\": () => (/* binding */ frob),\n/* harmony export */   \"fromQuat\": () => (/* binding */ fromQuat),\n/* harmony export */   \"fromQuat2\": () => (/* binding */ fromQuat2),\n/* harmony export */   \"fromRotation\": () => (/* binding */ fromRotation),\n/* harmony export */   \"fromRotationTranslation\": () => (/* binding */ fromRotationTranslation),\n/* harmony export */   \"fromRotationTranslationScale\": () => (/* binding */ fromRotationTranslationScale),\n/* harmony export */   \"fromRotationTranslationScaleOrigin\": () => (/* binding */ fromRotationTranslationScaleOrigin),\n/* harmony export */   \"fromScaling\": () => (/* binding */ fromScaling),\n/* harmony export */   \"fromTranslation\": () => (/* binding */ fromTranslation),\n/* harmony export */   \"fromValues\": () => (/* binding */ fromValues),\n/* harmony export */   \"fromXRotation\": () => (/* binding */ fromXRotation),\n/* harmony export */   \"fromYRotation\": () => (/* binding */ fromYRotation),\n/* harmony export */   \"fromZRotation\": () => (/* binding */ fromZRotation),\n/* harmony export */   \"frustum\": () => (/* binding */ frustum),\n/* harmony export */   \"getRotation\": () => (/* binding */ getRotation),\n/* harmony export */   \"getScaling\": () => (/* binding */ getScaling),\n/* harmony export */   \"getTranslation\": () => (/* binding */ getTranslation),\n/* harmony export */   \"identity\": () => (/* binding */ identity),\n/* harmony export */   \"invert\": () => (/* binding */ invert),\n/* harmony export */   \"lookAt\": () => (/* binding */ lookAt),\n/* harmony export */   \"mul\": () => (/* binding */ mul),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"multiplyScalar\": () => (/* binding */ multiplyScalar),\n/* harmony export */   \"multiplyScalarAndAdd\": () => (/* binding */ multiplyScalarAndAdd),\n/* harmony export */   \"ortho\": () => (/* binding */ ortho),\n/* harmony export */   \"orthoNO\": () => (/* binding */ orthoNO),\n/* harmony export */   \"orthoZO\": () => (/* binding */ orthoZO),\n/* harmony export */   \"perspective\": () => (/* binding */ perspective),\n/* harmony export */   \"perspectiveFromFieldOfView\": () => (/* binding */ perspectiveFromFieldOfView),\n/* harmony export */   \"perspectiveNO\": () => (/* binding */ perspectiveNO),\n/* harmony export */   \"perspectiveZO\": () => (/* binding */ perspectiveZO),\n/* harmony export */   \"rotate\": () => (/* binding */ rotate),\n/* harmony export */   \"rotateX\": () => (/* binding */ rotateX),\n/* harmony export */   \"rotateY\": () => (/* binding */ rotateY),\n/* harmony export */   \"rotateZ\": () => (/* binding */ rotateZ),\n/* harmony export */   \"scale\": () => (/* binding */ scale),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"str\": () => (/* binding */ str),\n/* harmony export */   \"sub\": () => (/* binding */ sub),\n/* harmony export */   \"subtract\": () => (/* binding */ subtract),\n/* harmony export */   \"targetTo\": () => (/* binding */ targetTo),\n/* harmony export */   \"translate\": () => (/* binding */ translate),\n/* harmony export */   \"transpose\": () => (/* binding */ transpose)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n\n\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nfunction create() {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n\n\tif (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n\t\tout[1] = 0;\n\t\tout[2] = 0;\n\t\tout[3] = 0;\n\t\tout[4] = 0;\n\t\tout[6] = 0;\n\t\tout[7] = 0;\n\t\tout[8] = 0;\n\t\tout[9] = 0;\n\t\tout[11] = 0;\n\t\tout[12] = 0;\n\t\tout[13] = 0;\n\t\tout[14] = 0;\n\t}\n\n\tout[0] = 1;\n\tout[5] = 1;\n\tout[10] = 1;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nfunction clone(a) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\tout[4] = a[4];\n\tout[5] = a[5];\n\tout[6] = a[6];\n\tout[7] = a[7];\n\tout[8] = a[8];\n\tout[9] = a[9];\n\tout[10] = a[10];\n\tout[11] = a[11];\n\tout[12] = a[12];\n\tout[13] = a[13];\n\tout[14] = a[14];\n\tout[15] = a[15];\n\treturn out;\n}\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction copy(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\tout[4] = a[4];\n\tout[5] = a[5];\n\tout[6] = a[6];\n\tout[7] = a[7];\n\tout[8] = a[8];\n\tout[9] = a[9];\n\tout[10] = a[10];\n\tout[11] = a[11];\n\tout[12] = a[12];\n\tout[13] = a[13];\n\tout[14] = a[14];\n\tout[15] = a[15];\n\treturn out;\n}\n\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n\tout[0] = m00;\n\tout[1] = m01;\n\tout[2] = m02;\n\tout[3] = m03;\n\tout[4] = m10;\n\tout[5] = m11;\n\tout[6] = m12;\n\tout[7] = m13;\n\tout[8] = m20;\n\tout[9] = m21;\n\tout[10] = m22;\n\tout[11] = m23;\n\tout[12] = m30;\n\tout[13] = m31;\n\tout[14] = m32;\n\tout[15] = m33;\n\treturn out;\n}\n\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n\tout[0] = m00;\n\tout[1] = m01;\n\tout[2] = m02;\n\tout[3] = m03;\n\tout[4] = m10;\n\tout[5] = m11;\n\tout[6] = m12;\n\tout[7] = m13;\n\tout[8] = m20;\n\tout[9] = m21;\n\tout[10] = m22;\n\tout[11] = m23;\n\tout[12] = m30;\n\tout[13] = m31;\n\tout[14] = m32;\n\tout[15] = m33;\n\treturn out;\n}\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nfunction identity(out) {\n\tout[0] = 1;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = 1;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 0;\n\tout[9] = 0;\n\tout[10] = 1;\n\tout[11] = 0;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[14] = 0;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction transpose(out, a) {\n\t// If we are transposing ourselves we can skip a few steps but have to cache some values\n\tif (out === a) {\n\t\tvar a01 = a[1],\n\t\t\ta02 = a[2],\n\t\t\ta03 = a[3];\n\t\tvar a12 = a[6],\n\t\t\ta13 = a[7];\n\t\tvar a23 = a[11];\n\t\tout[1] = a[4];\n\t\tout[2] = a[8];\n\t\tout[3] = a[12];\n\t\tout[4] = a01;\n\t\tout[6] = a[9];\n\t\tout[7] = a[13];\n\t\tout[8] = a02;\n\t\tout[9] = a12;\n\t\tout[11] = a[14];\n\t\tout[12] = a03;\n\t\tout[13] = a13;\n\t\tout[14] = a23;\n\t} else {\n\t\tout[0] = a[0];\n\t\tout[1] = a[4];\n\t\tout[2] = a[8];\n\t\tout[3] = a[12];\n\t\tout[4] = a[1];\n\t\tout[5] = a[5];\n\t\tout[6] = a[9];\n\t\tout[7] = a[13];\n\t\tout[8] = a[2];\n\t\tout[9] = a[6];\n\t\tout[10] = a[10];\n\t\tout[11] = a[14];\n\t\tout[12] = a[3];\n\t\tout[13] = a[7];\n\t\tout[14] = a[11];\n\t\tout[15] = a[15];\n\t}\n\n\treturn out;\n}\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction invert(out, a) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2],\n\t\ta03 = a[3];\n\tvar a10 = a[4],\n\t\ta11 = a[5],\n\t\ta12 = a[6],\n\t\ta13 = a[7];\n\tvar a20 = a[8],\n\t\ta21 = a[9],\n\t\ta22 = a[10],\n\t\ta23 = a[11];\n\tvar a30 = a[12],\n\t\ta31 = a[13],\n\t\ta32 = a[14],\n\t\ta33 = a[15];\n\tvar b00 = a00 * a11 - a01 * a10;\n\tvar b01 = a00 * a12 - a02 * a10;\n\tvar b02 = a00 * a13 - a03 * a10;\n\tvar b03 = a01 * a12 - a02 * a11;\n\tvar b04 = a01 * a13 - a03 * a11;\n\tvar b05 = a02 * a13 - a03 * a12;\n\tvar b06 = a20 * a31 - a21 * a30;\n\tvar b07 = a20 * a32 - a22 * a30;\n\tvar b08 = a20 * a33 - a23 * a30;\n\tvar b09 = a21 * a32 - a22 * a31;\n\tvar b10 = a21 * a33 - a23 * a31;\n\tvar b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n\tvar det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n\tif (!det) {\n\t\treturn null;\n\t}\n\n\tdet = 1.0 / det;\n\tout[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n\tout[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n\tout[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n\tout[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n\tout[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n\tout[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n\tout[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n\tout[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n\tout[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\tout[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\tout[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\tout[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n\tout[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n\tout[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n\tout[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n\tout[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\treturn out;\n}\n\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction adjoint(out, a) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2],\n\t\ta03 = a[3];\n\tvar a10 = a[4],\n\t\ta11 = a[5],\n\t\ta12 = a[6],\n\t\ta13 = a[7];\n\tvar a20 = a[8],\n\t\ta21 = a[9],\n\t\ta22 = a[10],\n\t\ta23 = a[11];\n\tvar a30 = a[12],\n\t\ta31 = a[13],\n\t\ta32 = a[14],\n\t\ta33 = a[15];\n\tvar b00 = a00 * a11 - a01 * a10;\n\tvar b01 = a00 * a12 - a02 * a10;\n\tvar b02 = a00 * a13 - a03 * a10;\n\tvar b03 = a01 * a12 - a02 * a11;\n\tvar b04 = a01 * a13 - a03 * a11;\n\tvar b05 = a02 * a13 - a03 * a12;\n\tvar b06 = a20 * a31 - a21 * a30;\n\tvar b07 = a20 * a32 - a22 * a30;\n\tvar b08 = a20 * a33 - a23 * a30;\n\tvar b09 = a21 * a32 - a22 * a31;\n\tvar b10 = a21 * a33 - a23 * a31;\n\tvar b11 = a22 * a33 - a23 * a32;\n\tout[0] = a11 * b11 - a12 * b10 + a13 * b09;\n\tout[1] = a02 * b10 - a01 * b11 - a03 * b09;\n\tout[2] = a31 * b05 - a32 * b04 + a33 * b03;\n\tout[3] = a22 * b04 - a21 * b05 - a23 * b03;\n\tout[4] = a12 * b08 - a10 * b11 - a13 * b07;\n\tout[5] = a00 * b11 - a02 * b08 + a03 * b07;\n\tout[6] = a32 * b02 - a30 * b05 - a33 * b01;\n\tout[7] = a20 * b05 - a22 * b02 + a23 * b01;\n\tout[8] = a10 * b10 - a11 * b08 + a13 * b06;\n\tout[9] = a01 * b08 - a00 * b10 - a03 * b06;\n\tout[10] = a30 * b04 - a31 * b02 + a33 * b00;\n\tout[11] = a21 * b02 - a20 * b04 - a23 * b00;\n\tout[12] = a11 * b07 - a10 * b09 - a12 * b06;\n\tout[13] = a00 * b09 - a01 * b07 + a02 * b06;\n\tout[14] = a31 * b01 - a30 * b03 - a32 * b00;\n\tout[15] = a20 * b03 - a21 * b01 + a22 * b00;\n\treturn out;\n}\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2],\n\t\ta03 = a[3];\n\tvar a10 = a[4],\n\t\ta11 = a[5],\n\t\ta12 = a[6],\n\t\ta13 = a[7];\n\tvar a20 = a[8],\n\t\ta21 = a[9],\n\t\ta22 = a[10],\n\t\ta23 = a[11];\n\tvar a30 = a[12],\n\t\ta31 = a[13],\n\t\ta32 = a[14],\n\t\ta33 = a[15];\n\tvar b0 = a00 * a11 - a01 * a10;\n\tvar b1 = a00 * a12 - a02 * a10;\n\tvar b2 = a01 * a12 - a02 * a11;\n\tvar b3 = a20 * a31 - a21 * a30;\n\tvar b4 = a20 * a32 - a22 * a30;\n\tvar b5 = a21 * a32 - a22 * a31;\n\tvar b6 = a00 * b5 - a01 * b4 + a02 * b3;\n\tvar b7 = a10 * b5 - a11 * b4 + a12 * b3;\n\tvar b8 = a20 * b2 - a21 * b1 + a22 * b0;\n\tvar b9 = a30 * b2 - a31 * b1 + a32 * b0; // Calculate the determinant\n\n\treturn a13 * b6 - a03 * b7 + a33 * b8 - a23 * b9;\n}\n\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction multiply(out, a, b) {\n\tvar a00 = a[0],\n\t\ta01 = a[1],\n\t\ta02 = a[2],\n\t\ta03 = a[3];\n\tvar a10 = a[4],\n\t\ta11 = a[5],\n\t\ta12 = a[6],\n\t\ta13 = a[7];\n\tvar a20 = a[8],\n\t\ta21 = a[9],\n\t\ta22 = a[10],\n\t\ta23 = a[11];\n\tvar a30 = a[12],\n\t\ta31 = a[13],\n\t\ta32 = a[14],\n\t\ta33 = a[15]; // Cache only the current line of the second matrix\n\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2],\n\t\tb3 = b[3];\n\tout[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n\tout[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n\tout[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n\tout[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\tb0 = b[4];\n\tb1 = b[5];\n\tb2 = b[6];\n\tb3 = b[7];\n\tout[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n\tout[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n\tout[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n\tout[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\tb0 = b[8];\n\tb1 = b[9];\n\tb2 = b[10];\n\tb3 = b[11];\n\tout[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n\tout[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n\tout[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n\tout[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\tb0 = b[12];\n\tb1 = b[13];\n\tb2 = b[14];\n\tb3 = b[15];\n\tout[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n\tout[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n\tout[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n\tout[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\treturn out;\n}\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nfunction translate(out, a, v) {\n\tvar x = v[0],\n\t\ty = v[1],\n\t\tz = v[2];\n\tvar a00, a01, a02, a03;\n\tvar a10, a11, a12, a13;\n\tvar a20, a21, a22, a23;\n\n\tif (a === out) {\n\t\tout[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n\t\tout[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n\t\tout[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n\t\tout[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n\t} else {\n\t\ta00 = a[0];\n\t\ta01 = a[1];\n\t\ta02 = a[2];\n\t\ta03 = a[3];\n\t\ta10 = a[4];\n\t\ta11 = a[5];\n\t\ta12 = a[6];\n\t\ta13 = a[7];\n\t\ta20 = a[8];\n\t\ta21 = a[9];\n\t\ta22 = a[10];\n\t\ta23 = a[11];\n\t\tout[0] = a00;\n\t\tout[1] = a01;\n\t\tout[2] = a02;\n\t\tout[3] = a03;\n\t\tout[4] = a10;\n\t\tout[5] = a11;\n\t\tout[6] = a12;\n\t\tout[7] = a13;\n\t\tout[8] = a20;\n\t\tout[9] = a21;\n\t\tout[10] = a22;\n\t\tout[11] = a23;\n\t\tout[12] = a00 * x + a10 * y + a20 * z + a[12];\n\t\tout[13] = a01 * x + a11 * y + a21 * z + a[13];\n\t\tout[14] = a02 * x + a12 * y + a22 * z + a[14];\n\t\tout[15] = a03 * x + a13 * y + a23 * z + a[15];\n\t}\n\n\treturn out;\n}\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nfunction scale(out, a, v) {\n\tvar x = v[0],\n\t\ty = v[1],\n\t\tz = v[2];\n\tout[0] = a[0] * x;\n\tout[1] = a[1] * x;\n\tout[2] = a[2] * x;\n\tout[3] = a[3] * x;\n\tout[4] = a[4] * y;\n\tout[5] = a[5] * y;\n\tout[6] = a[6] * y;\n\tout[7] = a[7] * y;\n\tout[8] = a[8] * z;\n\tout[9] = a[9] * z;\n\tout[10] = a[10] * z;\n\tout[11] = a[11] * z;\n\tout[12] = a[12];\n\tout[13] = a[13];\n\tout[14] = a[14];\n\tout[15] = a[15];\n\treturn out;\n}\n\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nfunction rotate(out, a, rad, axis) {\n\tvar x = axis[0],\n\t\ty = axis[1],\n\t\tz = axis[2];\n\tvar len = Math.hypot(x, y, z);\n\tvar s, c, t;\n\tvar a00, a01, a02, a03;\n\tvar a10, a11, a12, a13;\n\tvar a20, a21, a22, a23;\n\tvar b00, b01, b02;\n\tvar b10, b11, b12;\n\tvar b20, b21, b22;\n\n\tif (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n\t\treturn null;\n\t}\n\n\tlen = 1 / len;\n\tx *= len;\n\ty *= len;\n\tz *= len;\n\ts = Math.sin(rad);\n\tc = Math.cos(rad);\n\tt = 1 - c;\n\ta00 = a[0];\n\ta01 = a[1];\n\ta02 = a[2];\n\ta03 = a[3];\n\ta10 = a[4];\n\ta11 = a[5];\n\ta12 = a[6];\n\ta13 = a[7];\n\ta20 = a[8];\n\ta21 = a[9];\n\ta22 = a[10];\n\ta23 = a[11]; // Construct the elements of the rotation matrix\n\n\tb00 = x * x * t + c;\n\tb01 = y * x * t + z * s;\n\tb02 = z * x * t - y * s;\n\tb10 = x * y * t - z * s;\n\tb11 = y * y * t + c;\n\tb12 = z * y * t + x * s;\n\tb20 = x * z * t + y * s;\n\tb21 = y * z * t - x * s;\n\tb22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n\tout[0] = a00 * b00 + a10 * b01 + a20 * b02;\n\tout[1] = a01 * b00 + a11 * b01 + a21 * b02;\n\tout[2] = a02 * b00 + a12 * b01 + a22 * b02;\n\tout[3] = a03 * b00 + a13 * b01 + a23 * b02;\n\tout[4] = a00 * b10 + a10 * b11 + a20 * b12;\n\tout[5] = a01 * b10 + a11 * b11 + a21 * b12;\n\tout[6] = a02 * b10 + a12 * b11 + a22 * b12;\n\tout[7] = a03 * b10 + a13 * b11 + a23 * b12;\n\tout[8] = a00 * b20 + a10 * b21 + a20 * b22;\n\tout[9] = a01 * b20 + a11 * b21 + a21 * b22;\n\tout[10] = a02 * b20 + a12 * b21 + a22 * b22;\n\tout[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n\tif (a !== out) {\n\t\t// If the source and destination differ, copy the unchanged last row\n\t\tout[12] = a[12];\n\t\tout[13] = a[13];\n\t\tout[14] = a[14];\n\t\tout[15] = a[15];\n\t}\n\n\treturn out;\n}\n\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateX(out, a, rad) {\n\tvar s = Math.sin(rad);\n\tvar c = Math.cos(rad);\n\tvar a10 = a[4];\n\tvar a11 = a[5];\n\tvar a12 = a[6];\n\tvar a13 = a[7];\n\tvar a20 = a[8];\n\tvar a21 = a[9];\n\tvar a22 = a[10];\n\tvar a23 = a[11];\n\n\tif (a !== out) {\n\t\t// If the source and destination differ, copy the unchanged rows\n\t\tout[0] = a[0];\n\t\tout[1] = a[1];\n\t\tout[2] = a[2];\n\t\tout[3] = a[3];\n\t\tout[12] = a[12];\n\t\tout[13] = a[13];\n\t\tout[14] = a[14];\n\t\tout[15] = a[15];\n\t} // Perform axis-specific matrix multiplication\n\n\tout[4] = a10 * c + a20 * s;\n\tout[5] = a11 * c + a21 * s;\n\tout[6] = a12 * c + a22 * s;\n\tout[7] = a13 * c + a23 * s;\n\tout[8] = a20 * c - a10 * s;\n\tout[9] = a21 * c - a11 * s;\n\tout[10] = a22 * c - a12 * s;\n\tout[11] = a23 * c - a13 * s;\n\treturn out;\n}\n\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateY(out, a, rad) {\n\tvar s = Math.sin(rad);\n\tvar c = Math.cos(rad);\n\tvar a00 = a[0];\n\tvar a01 = a[1];\n\tvar a02 = a[2];\n\tvar a03 = a[3];\n\tvar a20 = a[8];\n\tvar a21 = a[9];\n\tvar a22 = a[10];\n\tvar a23 = a[11];\n\n\tif (a !== out) {\n\t\t// If the source and destination differ, copy the unchanged rows\n\t\tout[4] = a[4];\n\t\tout[5] = a[5];\n\t\tout[6] = a[6];\n\t\tout[7] = a[7];\n\t\tout[12] = a[12];\n\t\tout[13] = a[13];\n\t\tout[14] = a[14];\n\t\tout[15] = a[15];\n\t} // Perform axis-specific matrix multiplication\n\n\tout[0] = a00 * c - a20 * s;\n\tout[1] = a01 * c - a21 * s;\n\tout[2] = a02 * c - a22 * s;\n\tout[3] = a03 * c - a23 * s;\n\tout[8] = a00 * s + a20 * c;\n\tout[9] = a01 * s + a21 * c;\n\tout[10] = a02 * s + a22 * c;\n\tout[11] = a03 * s + a23 * c;\n\treturn out;\n}\n\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateZ(out, a, rad) {\n\tvar s = Math.sin(rad);\n\tvar c = Math.cos(rad);\n\tvar a00 = a[0];\n\tvar a01 = a[1];\n\tvar a02 = a[2];\n\tvar a03 = a[3];\n\tvar a10 = a[4];\n\tvar a11 = a[5];\n\tvar a12 = a[6];\n\tvar a13 = a[7];\n\n\tif (a !== out) {\n\t\t// If the source and destination differ, copy the unchanged last row\n\t\tout[8] = a[8];\n\t\tout[9] = a[9];\n\t\tout[10] = a[10];\n\t\tout[11] = a[11];\n\t\tout[12] = a[12];\n\t\tout[13] = a[13];\n\t\tout[14] = a[14];\n\t\tout[15] = a[15];\n\t} // Perform axis-specific matrix multiplication\n\n\tout[0] = a00 * c + a10 * s;\n\tout[1] = a01 * c + a11 * s;\n\tout[2] = a02 * c + a12 * s;\n\tout[3] = a03 * c + a13 * s;\n\tout[4] = a10 * c - a00 * s;\n\tout[5] = a11 * c - a01 * s;\n\tout[6] = a12 * c - a02 * s;\n\tout[7] = a13 * c - a03 * s;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nfunction fromTranslation(out, v) {\n\tout[0] = 1;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = 1;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 0;\n\tout[9] = 0;\n\tout[10] = 1;\n\tout[11] = 0;\n\tout[12] = v[0];\n\tout[13] = v[1];\n\tout[14] = v[2];\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nfunction fromScaling(out, v) {\n\tout[0] = v[0];\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = v[1];\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 0;\n\tout[9] = 0;\n\tout[10] = v[2];\n\tout[11] = 0;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[14] = 0;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nfunction fromRotation(out, rad, axis) {\n\tvar x = axis[0],\n\t\ty = axis[1],\n\t\tz = axis[2];\n\tvar len = Math.hypot(x, y, z);\n\tvar s, c, t;\n\n\tif (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n\t\treturn null;\n\t}\n\n\tlen = 1 / len;\n\tx *= len;\n\ty *= len;\n\tz *= len;\n\ts = Math.sin(rad);\n\tc = Math.cos(rad);\n\tt = 1 - c; // Perform rotation-specific matrix multiplication\n\n\tout[0] = x * x * t + c;\n\tout[1] = y * x * t + z * s;\n\tout[2] = z * x * t - y * s;\n\tout[3] = 0;\n\tout[4] = x * y * t - z * s;\n\tout[5] = y * y * t + c;\n\tout[6] = z * y * t + x * s;\n\tout[7] = 0;\n\tout[8] = x * z * t + y * s;\n\tout[9] = y * z * t - x * s;\n\tout[10] = z * z * t + c;\n\tout[11] = 0;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[14] = 0;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromXRotation(out, rad) {\n\tvar s = Math.sin(rad);\n\tvar c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n\tout[0] = 1;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = c;\n\tout[6] = s;\n\tout[7] = 0;\n\tout[8] = 0;\n\tout[9] = -s;\n\tout[10] = c;\n\tout[11] = 0;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[14] = 0;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromYRotation(out, rad) {\n\tvar s = Math.sin(rad);\n\tvar c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n\tout[0] = c;\n\tout[1] = 0;\n\tout[2] = -s;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = 1;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = s;\n\tout[9] = 0;\n\tout[10] = c;\n\tout[11] = 0;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[14] = 0;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromZRotation(out, rad) {\n\tvar s = Math.sin(rad);\n\tvar c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n\tout[0] = c;\n\tout[1] = s;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = -s;\n\tout[5] = c;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 0;\n\tout[9] = 0;\n\tout[10] = 1;\n\tout[11] = 0;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[14] = 0;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslation(out, q, v) {\n\t// Quaternion math\n\tvar x = q[0],\n\t\ty = q[1],\n\t\tz = q[2],\n\t\tw = q[3];\n\tvar x2 = x + x;\n\tvar y2 = y + y;\n\tvar z2 = z + z;\n\tvar xx = x * x2;\n\tvar xy = x * y2;\n\tvar xz = x * z2;\n\tvar yy = y * y2;\n\tvar yz = y * z2;\n\tvar zz = z * z2;\n\tvar wx = w * x2;\n\tvar wy = w * y2;\n\tvar wz = w * z2;\n\tout[0] = 1 - (yy + zz);\n\tout[1] = xy + wz;\n\tout[2] = xz - wy;\n\tout[3] = 0;\n\tout[4] = xy - wz;\n\tout[5] = 1 - (xx + zz);\n\tout[6] = yz + wx;\n\tout[7] = 0;\n\tout[8] = xz + wy;\n\tout[9] = yz - wx;\n\tout[10] = 1 - (xx + yy);\n\tout[11] = 0;\n\tout[12] = v[0];\n\tout[13] = v[1];\n\tout[14] = v[2];\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nfunction fromQuat2(out, a) {\n\tvar translation = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n\tvar bx = -a[0],\n\t\tby = -a[1],\n\t\tbz = -a[2],\n\t\tbw = a[3],\n\t\tax = a[4],\n\t\tay = a[5],\n\t\taz = a[6],\n\t\taw = a[7];\n\tvar magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n\tif (magnitude > 0) {\n\t\ttranslation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n\t\ttranslation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n\t\ttranslation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n\t} else {\n\t\ttranslation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n\t\ttranslation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n\t\ttranslation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n\t}\n\n\tfromRotationTranslation(out, a, translation);\n\treturn out;\n}\n\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nfunction getTranslation(out, mat) {\n\tout[0] = mat[12];\n\tout[1] = mat[13];\n\tout[2] = mat[14];\n\treturn out;\n}\n\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nfunction getScaling(out, mat) {\n\tvar m11 = mat[0];\n\tvar m12 = mat[1];\n\tvar m13 = mat[2];\n\tvar m21 = mat[4];\n\tvar m22 = mat[5];\n\tvar m23 = mat[6];\n\tvar m31 = mat[8];\n\tvar m32 = mat[9];\n\tvar m33 = mat[10];\n\tout[0] = Math.hypot(m11, m12, m13);\n\tout[1] = Math.hypot(m21, m22, m23);\n\tout[2] = Math.hypot(m31, m32, m33);\n\treturn out;\n}\n\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nfunction getRotation(out, mat) {\n\tvar scaling = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n\tgetScaling(scaling, mat);\n\tvar is1 = 1 / scaling[0];\n\tvar is2 = 1 / scaling[1];\n\tvar is3 = 1 / scaling[2];\n\tvar sm11 = mat[0] * is1;\n\tvar sm12 = mat[1] * is2;\n\tvar sm13 = mat[2] * is3;\n\tvar sm21 = mat[4] * is1;\n\tvar sm22 = mat[5] * is2;\n\tvar sm23 = mat[6] * is3;\n\tvar sm31 = mat[8] * is1;\n\tvar sm32 = mat[9] * is2;\n\tvar sm33 = mat[10] * is3;\n\tvar trace = sm11 + sm22 + sm33;\n\tvar S = 0;\n\n\tif (trace > 0) {\n\t\tS = Math.sqrt(trace + 1.0) * 2;\n\t\tout[3] = 0.25 * S;\n\t\tout[0] = (sm23 - sm32) / S;\n\t\tout[1] = (sm31 - sm13) / S;\n\t\tout[2] = (sm12 - sm21) / S;\n\t} else if (sm11 > sm22 && sm11 > sm33) {\n\t\tS = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n\t\tout[3] = (sm23 - sm32) / S;\n\t\tout[0] = 0.25 * S;\n\t\tout[1] = (sm12 + sm21) / S;\n\t\tout[2] = (sm31 + sm13) / S;\n\t} else if (sm22 > sm33) {\n\t\tS = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n\t\tout[3] = (sm31 - sm13) / S;\n\t\tout[0] = (sm12 + sm21) / S;\n\t\tout[1] = 0.25 * S;\n\t\tout[2] = (sm23 + sm32) / S;\n\t} else {\n\t\tS = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n\t\tout[3] = (sm12 - sm21) / S;\n\t\tout[0] = (sm31 + sm13) / S;\n\t\tout[1] = (sm23 + sm32) / S;\n\t\tout[2] = 0.25 * S;\n\t}\n\n\treturn out;\n}\n\n/**\n * Decomposes a transformation matrix into its rotation, translation\n * and scale components. Returns only the rotation component\n * @param  {quat} out_r Quaternion to receive the rotation component\n * @param  {vec3} out_t Vector to receive the translation vector\n * @param  {vec3} out_s Vector to receive the scaling factor\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @returns {quat} out_r\n */\n\nfunction decompose(out_r, out_t, out_s, mat) {\n\tout_t[0] = mat[12];\n\tout_t[1] = mat[13];\n\tout_t[2] = mat[14];\n\tvar m11 = mat[0];\n\tvar m12 = mat[1];\n\tvar m13 = mat[2];\n\tvar m21 = mat[4];\n\tvar m22 = mat[5];\n\tvar m23 = mat[6];\n\tvar m31 = mat[8];\n\tvar m32 = mat[9];\n\tvar m33 = mat[10];\n\tout_s[0] = Math.hypot(m11, m12, m13);\n\tout_s[1] = Math.hypot(m21, m22, m23);\n\tout_s[2] = Math.hypot(m31, m32, m33);\n\tvar is1 = 1 / out_s[0];\n\tvar is2 = 1 / out_s[1];\n\tvar is3 = 1 / out_s[2];\n\tvar sm11 = m11 * is1;\n\tvar sm12 = m12 * is2;\n\tvar sm13 = m13 * is3;\n\tvar sm21 = m21 * is1;\n\tvar sm22 = m22 * is2;\n\tvar sm23 = m23 * is3;\n\tvar sm31 = m31 * is1;\n\tvar sm32 = m32 * is2;\n\tvar sm33 = m33 * is3;\n\tvar trace = sm11 + sm22 + sm33;\n\tvar S = 0;\n\n\tif (trace > 0) {\n\t\tS = Math.sqrt(trace + 1.0) * 2;\n\t\tout_r[3] = 0.25 * S;\n\t\tout_r[0] = (sm23 - sm32) / S;\n\t\tout_r[1] = (sm31 - sm13) / S;\n\t\tout_r[2] = (sm12 - sm21) / S;\n\t} else if (sm11 > sm22 && sm11 > sm33) {\n\t\tS = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n\t\tout_r[3] = (sm23 - sm32) / S;\n\t\tout_r[0] = 0.25 * S;\n\t\tout_r[1] = (sm12 + sm21) / S;\n\t\tout_r[2] = (sm31 + sm13) / S;\n\t} else if (sm22 > sm33) {\n\t\tS = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n\t\tout_r[3] = (sm31 - sm13) / S;\n\t\tout_r[0] = (sm12 + sm21) / S;\n\t\tout_r[1] = 0.25 * S;\n\t\tout_r[2] = (sm23 + sm32) / S;\n\t} else {\n\t\tS = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n\t\tout_r[3] = (sm12 - sm21) / S;\n\t\tout_r[0] = (sm31 + sm13) / S;\n\t\tout_r[1] = (sm23 + sm32) / S;\n\t\tout_r[2] = 0.25 * S;\n\t}\n\n\treturn out_r;\n}\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n\t// Quaternion math\n\tvar x = q[0],\n\t\ty = q[1],\n\t\tz = q[2],\n\t\tw = q[3];\n\tvar x2 = x + x;\n\tvar y2 = y + y;\n\tvar z2 = z + z;\n\tvar xx = x * x2;\n\tvar xy = x * y2;\n\tvar xz = x * z2;\n\tvar yy = y * y2;\n\tvar yz = y * z2;\n\tvar zz = z * z2;\n\tvar wx = w * x2;\n\tvar wy = w * y2;\n\tvar wz = w * z2;\n\tvar sx = s[0];\n\tvar sy = s[1];\n\tvar sz = s[2];\n\tout[0] = (1 - (yy + zz)) * sx;\n\tout[1] = (xy + wz) * sx;\n\tout[2] = (xz - wy) * sx;\n\tout[3] = 0;\n\tout[4] = (xy - wz) * sy;\n\tout[5] = (1 - (xx + zz)) * sy;\n\tout[6] = (yz + wx) * sy;\n\tout[7] = 0;\n\tout[8] = (xz + wy) * sz;\n\tout[9] = (yz - wx) * sz;\n\tout[10] = (1 - (xx + yy)) * sz;\n\tout[11] = 0;\n\tout[12] = v[0];\n\tout[13] = v[1];\n\tout[14] = v[2];\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n\t// Quaternion math\n\tvar x = q[0],\n\t\ty = q[1],\n\t\tz = q[2],\n\t\tw = q[3];\n\tvar x2 = x + x;\n\tvar y2 = y + y;\n\tvar z2 = z + z;\n\tvar xx = x * x2;\n\tvar xy = x * y2;\n\tvar xz = x * z2;\n\tvar yy = y * y2;\n\tvar yz = y * z2;\n\tvar zz = z * z2;\n\tvar wx = w * x2;\n\tvar wy = w * y2;\n\tvar wz = w * z2;\n\tvar sx = s[0];\n\tvar sy = s[1];\n\tvar sz = s[2];\n\tvar ox = o[0];\n\tvar oy = o[1];\n\tvar oz = o[2];\n\tvar out0 = (1 - (yy + zz)) * sx;\n\tvar out1 = (xy + wz) * sx;\n\tvar out2 = (xz - wy) * sx;\n\tvar out4 = (xy - wz) * sy;\n\tvar out5 = (1 - (xx + zz)) * sy;\n\tvar out6 = (yz + wx) * sy;\n\tvar out8 = (xz + wy) * sz;\n\tvar out9 = (yz - wx) * sz;\n\tvar out10 = (1 - (xx + yy)) * sz;\n\tout[0] = out0;\n\tout[1] = out1;\n\tout[2] = out2;\n\tout[3] = 0;\n\tout[4] = out4;\n\tout[5] = out5;\n\tout[6] = out6;\n\tout[7] = 0;\n\tout[8] = out8;\n\tout[9] = out9;\n\tout[10] = out10;\n\tout[11] = 0;\n\tout[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n\tout[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n\tout[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nfunction fromQuat(out, q) {\n\tvar x = q[0],\n\t\ty = q[1],\n\t\tz = q[2],\n\t\tw = q[3];\n\tvar x2 = x + x;\n\tvar y2 = y + y;\n\tvar z2 = z + z;\n\tvar xx = x * x2;\n\tvar yx = y * x2;\n\tvar yy = y * y2;\n\tvar zx = z * x2;\n\tvar zy = z * y2;\n\tvar zz = z * z2;\n\tvar wx = w * x2;\n\tvar wy = w * y2;\n\tvar wz = w * z2;\n\tout[0] = 1 - yy - zz;\n\tout[1] = yx + wz;\n\tout[2] = zx - wy;\n\tout[3] = 0;\n\tout[4] = yx - wz;\n\tout[5] = 1 - xx - zz;\n\tout[6] = zy + wx;\n\tout[7] = 0;\n\tout[8] = zx + wy;\n\tout[9] = zy - wx;\n\tout[10] = 1 - xx - yy;\n\tout[11] = 0;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[14] = 0;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n\tvar rl = 1 / (right - left);\n\tvar tb = 1 / (top - bottom);\n\tvar nf = 1 / (near - far);\n\tout[0] = near * 2 * rl;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = near * 2 * tb;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = (right + left) * rl;\n\tout[9] = (top + bottom) * tb;\n\tout[10] = (far + near) * nf;\n\tout[11] = -1;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[14] = far * near * 2 * nf;\n\tout[15] = 0;\n\treturn out;\n}\n\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nfunction perspectiveNO(out, fovy, aspect, near, far) {\n\tvar f = 1.0 / Math.tan(fovy / 2);\n\tout[0] = f / aspect;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = f;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 0;\n\tout[9] = 0;\n\tout[11] = -1;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[15] = 0;\n\n\tif (far != null && far !== Infinity) {\n\t\tvar nf = 1 / (near - far);\n\t\tout[10] = (far + near) * nf;\n\t\tout[14] = 2 * far * near * nf;\n\t} else {\n\t\tout[10] = -1;\n\t\tout[14] = -2 * near;\n\t}\n\n\treturn out;\n}\n\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nvar perspective = perspectiveNO;\n\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nfunction perspectiveZO(out, fovy, aspect, near, far) {\n\tvar f = 1.0 / Math.tan(fovy / 2);\n\tout[0] = f / aspect;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = f;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 0;\n\tout[9] = 0;\n\tout[11] = -1;\n\tout[12] = 0;\n\tout[13] = 0;\n\tout[15] = 0;\n\n\tif (far != null && far !== Infinity) {\n\t\tvar nf = 1 / (near - far);\n\t\tout[10] = far * nf;\n\t\tout[14] = far * near * nf;\n\t} else {\n\t\tout[10] = -1;\n\t\tout[14] = -near;\n\t}\n\n\treturn out;\n}\n\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n\tvar upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n\tvar downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n\tvar leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n\tvar rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n\tvar xScale = 2.0 / (leftTan + rightTan);\n\tvar yScale = 2.0 / (upTan + downTan);\n\tout[0] = xScale;\n\tout[1] = 0.0;\n\tout[2] = 0.0;\n\tout[3] = 0.0;\n\tout[4] = 0.0;\n\tout[5] = yScale;\n\tout[6] = 0.0;\n\tout[7] = 0.0;\n\tout[8] = -((leftTan - rightTan) * xScale * 0.5);\n\tout[9] = (upTan - downTan) * yScale * 0.5;\n\tout[10] = far / (near - far);\n\tout[11] = -1.0;\n\tout[12] = 0.0;\n\tout[13] = 0.0;\n\tout[14] = far * near / (near - far);\n\tout[15] = 0.0;\n\treturn out;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction orthoNO(out, left, right, bottom, top, near, far) {\n\tvar lr = 1 / (left - right);\n\tvar bt = 1 / (bottom - top);\n\tvar nf = 1 / (near - far);\n\tout[0] = -2 * lr;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = -2 * bt;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 0;\n\tout[9] = 0;\n\tout[10] = 2 * nf;\n\tout[11] = 0;\n\tout[12] = (left + right) * lr;\n\tout[13] = (top + bottom) * bt;\n\tout[14] = (far + near) * nf;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nvar ortho = orthoNO;\n\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction orthoZO(out, left, right, bottom, top, near, far) {\n\tvar lr = 1 / (left - right);\n\tvar bt = 1 / (bottom - top);\n\tvar nf = 1 / (near - far);\n\tout[0] = -2 * lr;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 0;\n\tout[4] = 0;\n\tout[5] = -2 * bt;\n\tout[6] = 0;\n\tout[7] = 0;\n\tout[8] = 0;\n\tout[9] = 0;\n\tout[10] = nf;\n\tout[11] = 0;\n\tout[12] = (left + right) * lr;\n\tout[13] = (top + bottom) * bt;\n\tout[14] = near * nf;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nfunction lookAt(out, eye, center, up) {\n\tvar x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n\tvar eyex = eye[0];\n\tvar eyey = eye[1];\n\tvar eyez = eye[2];\n\tvar upx = up[0];\n\tvar upy = up[1];\n\tvar upz = up[2];\n\tvar centerx = center[0];\n\tvar centery = center[1];\n\tvar centerz = center[2];\n\n\tif (Math.abs(eyex - centerx) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyey - centery) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyez - centerz) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n\t\treturn identity(out);\n\t}\n\n\tz0 = eyex - centerx;\n\tz1 = eyey - centery;\n\tz2 = eyez - centerz;\n\tlen = 1 / Math.hypot(z0, z1, z2);\n\tz0 *= len;\n\tz1 *= len;\n\tz2 *= len;\n\tx0 = upy * z2 - upz * z1;\n\tx1 = upz * z0 - upx * z2;\n\tx2 = upx * z1 - upy * z0;\n\tlen = Math.hypot(x0, x1, x2);\n\n\tif (!len) {\n\t\tx0 = 0;\n\t\tx1 = 0;\n\t\tx2 = 0;\n\t} else {\n\t\tlen = 1 / len;\n\t\tx0 *= len;\n\t\tx1 *= len;\n\t\tx2 *= len;\n\t}\n\n\ty0 = z1 * x2 - z2 * x1;\n\ty1 = z2 * x0 - z0 * x2;\n\ty2 = z0 * x1 - z1 * x0;\n\tlen = Math.hypot(y0, y1, y2);\n\n\tif (!len) {\n\t\ty0 = 0;\n\t\ty1 = 0;\n\t\ty2 = 0;\n\t} else {\n\t\tlen = 1 / len;\n\t\ty0 *= len;\n\t\ty1 *= len;\n\t\ty2 *= len;\n\t}\n\n\tout[0] = x0;\n\tout[1] = y0;\n\tout[2] = z0;\n\tout[3] = 0;\n\tout[4] = x1;\n\tout[5] = y1;\n\tout[6] = z1;\n\tout[7] = 0;\n\tout[8] = x2;\n\tout[9] = y2;\n\tout[10] = z2;\n\tout[11] = 0;\n\tout[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n\tout[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n\tout[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nfunction targetTo(out, eye, target, up) {\n\tvar eyex = eye[0],\n\t\teyey = eye[1],\n\t\teyez = eye[2],\n\t\tupx = up[0],\n\t\tupy = up[1],\n\t\tupz = up[2];\n\tvar z0 = eyex - target[0],\n\t\tz1 = eyey - target[1],\n\t\tz2 = eyez - target[2];\n\tvar len = z0 * z0 + z1 * z1 + z2 * z2;\n\n\tif (len > 0) {\n\t\tlen = 1 / Math.sqrt(len);\n\t\tz0 *= len;\n\t\tz1 *= len;\n\t\tz2 *= len;\n\t}\n\n\tvar x0 = upy * z2 - upz * z1,\n\t\tx1 = upz * z0 - upx * z2,\n\t\tx2 = upx * z1 - upy * z0;\n\tlen = x0 * x0 + x1 * x1 + x2 * x2;\n\n\tif (len > 0) {\n\t\tlen = 1 / Math.sqrt(len);\n\t\tx0 *= len;\n\t\tx1 *= len;\n\t\tx2 *= len;\n\t}\n\n\tout[0] = x0;\n\tout[1] = x1;\n\tout[2] = x2;\n\tout[3] = 0;\n\tout[4] = z1 * x2 - z2 * x1;\n\tout[5] = z2 * x0 - z0 * x2;\n\tout[6] = z0 * x1 - z1 * x0;\n\tout[7] = 0;\n\tout[8] = z0;\n\tout[9] = z1;\n\tout[10] = z2;\n\tout[11] = 0;\n\tout[12] = eyex;\n\tout[13] = eyey;\n\tout[14] = eyez;\n\tout[15] = 1;\n\treturn out;\n}\n\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n\treturn \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n\treturn Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction add(out, a, b) {\n\tout[0] = a[0] + b[0];\n\tout[1] = a[1] + b[1];\n\tout[2] = a[2] + b[2];\n\tout[3] = a[3] + b[3];\n\tout[4] = a[4] + b[4];\n\tout[5] = a[5] + b[5];\n\tout[6] = a[6] + b[6];\n\tout[7] = a[7] + b[7];\n\tout[8] = a[8] + b[8];\n\tout[9] = a[9] + b[9];\n\tout[10] = a[10] + b[10];\n\tout[11] = a[11] + b[11];\n\tout[12] = a[12] + b[12];\n\tout[13] = a[13] + b[13];\n\tout[14] = a[14] + b[14];\n\tout[15] = a[15] + b[15];\n\treturn out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction subtract(out, a, b) {\n\tout[0] = a[0] - b[0];\n\tout[1] = a[1] - b[1];\n\tout[2] = a[2] - b[2];\n\tout[3] = a[3] - b[3];\n\tout[4] = a[4] - b[4];\n\tout[5] = a[5] - b[5];\n\tout[6] = a[6] - b[6];\n\tout[7] = a[7] - b[7];\n\tout[8] = a[8] - b[8];\n\tout[9] = a[9] - b[9];\n\tout[10] = a[10] - b[10];\n\tout[11] = a[11] - b[11];\n\tout[12] = a[12] - b[12];\n\tout[13] = a[13] - b[13];\n\tout[14] = a[14] - b[14];\n\tout[15] = a[15] - b[15];\n\treturn out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nfunction multiplyScalar(out, a, b) {\n\tout[0] = a[0] * b;\n\tout[1] = a[1] * b;\n\tout[2] = a[2] * b;\n\tout[3] = a[3] * b;\n\tout[4] = a[4] * b;\n\tout[5] = a[5] * b;\n\tout[6] = a[6] * b;\n\tout[7] = a[7] * b;\n\tout[8] = a[8] * b;\n\tout[9] = a[9] * b;\n\tout[10] = a[10] * b;\n\tout[11] = a[11] * b;\n\tout[12] = a[12] * b;\n\tout[13] = a[13] * b;\n\tout[14] = a[14] * b;\n\tout[15] = a[15] * b;\n\treturn out;\n}\n\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n\tout[0] = a[0] + b[0] * scale;\n\tout[1] = a[1] + b[1] * scale;\n\tout[2] = a[2] + b[2] * scale;\n\tout[3] = a[3] + b[3] * scale;\n\tout[4] = a[4] + b[4] * scale;\n\tout[5] = a[5] + b[5] * scale;\n\tout[6] = a[6] + b[6] * scale;\n\tout[7] = a[7] + b[7] * scale;\n\tout[8] = a[8] + b[8] * scale;\n\tout[9] = a[9] + b[9] * scale;\n\tout[10] = a[10] + b[10] * scale;\n\tout[11] = a[11] + b[11] * scale;\n\tout[12] = a[12] + b[12] * scale;\n\tout[13] = a[13] + b[13] * scale;\n\tout[14] = a[14] + b[14] * scale;\n\tout[15] = a[15] + b[15] * scale;\n\treturn out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n\treturn a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3];\n\tvar a4 = a[4],\n\t\ta5 = a[5],\n\t\ta6 = a[6],\n\t\ta7 = a[7];\n\tvar a8 = a[8],\n\t\ta9 = a[9],\n\t\ta10 = a[10],\n\t\ta11 = a[11];\n\tvar a12 = a[12],\n\t\ta13 = a[13],\n\t\ta14 = a[14],\n\t\ta15 = a[15];\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2],\n\t\tb3 = b[3];\n\tvar b4 = b[4],\n\t\tb5 = b[5],\n\t\tb6 = b[6],\n\t\tb7 = b[7];\n\tvar b8 = b[8],\n\t\tb9 = b[9],\n\t\tb10 = b[10],\n\t\tb11 = b[11];\n\tvar b12 = b[12],\n\t\tb13 = b[13],\n\t\tb14 = b[14],\n\t\tb15 = b[15];\n\treturn Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nvar sub = subtract;\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/mat4.js?");

/***/ }),

/***/ "./src/util/gl-matrix/quat.js":
/*!************************************!*\
  !*** ./src/util/gl-matrix/quat.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"calculateW\": () => (/* binding */ calculateW),\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"conjugate\": () => (/* binding */ conjugate),\n/* harmony export */   \"copy\": () => (/* binding */ copy),\n/* harmony export */   \"create\": () => (/* binding */ create),\n/* harmony export */   \"dot\": () => (/* binding */ dot),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"exactEquals\": () => (/* binding */ exactEquals),\n/* harmony export */   \"exp\": () => (/* binding */ exp),\n/* harmony export */   \"fromEuler\": () => (/* binding */ fromEuler),\n/* harmony export */   \"fromMat3\": () => (/* binding */ fromMat3),\n/* harmony export */   \"fromValues\": () => (/* binding */ fromValues),\n/* harmony export */   \"getAngle\": () => (/* binding */ getAngle),\n/* harmony export */   \"getAxisAngle\": () => (/* binding */ getAxisAngle),\n/* harmony export */   \"identity\": () => (/* binding */ identity),\n/* harmony export */   \"invert\": () => (/* binding */ invert),\n/* harmony export */   \"len\": () => (/* binding */ len),\n/* harmony export */   \"length\": () => (/* binding */ length),\n/* harmony export */   \"lerp\": () => (/* binding */ lerp),\n/* harmony export */   \"ln\": () => (/* binding */ ln),\n/* harmony export */   \"mul\": () => (/* binding */ mul),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"normalize\": () => (/* binding */ normalize),\n/* harmony export */   \"pow\": () => (/* binding */ pow),\n/* harmony export */   \"random\": () => (/* binding */ random),\n/* harmony export */   \"rotateX\": () => (/* binding */ rotateX),\n/* harmony export */   \"rotateY\": () => (/* binding */ rotateY),\n/* harmony export */   \"rotateZ\": () => (/* binding */ rotateZ),\n/* harmony export */   \"rotationTo\": () => (/* binding */ rotationTo),\n/* harmony export */   \"scale\": () => (/* binding */ scale),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"setAxes\": () => (/* binding */ setAxes),\n/* harmony export */   \"setAxisAngle\": () => (/* binding */ setAxisAngle),\n/* harmony export */   \"slerp\": () => (/* binding */ slerp),\n/* harmony export */   \"sqlerp\": () => (/* binding */ sqlerp),\n/* harmony export */   \"sqrLen\": () => (/* binding */ sqrLen),\n/* harmony export */   \"squaredLength\": () => (/* binding */ squaredLength),\n/* harmony export */   \"str\": () => (/* binding */ str)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n/* harmony import */ var _mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mat3.js */ \"./src/util/gl-matrix/mat3.js\");\n/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vec3.js */ \"./src/util/gl-matrix/vec3.js\");\n/* harmony import */ var _vec4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vec4.js */ \"./src/util/gl-matrix/vec4.js\");\n\n\n\n\n\n/**\n * Quaternion in the format XYZW\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nfunction create() {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\n\tif (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n\t\tout[0] = 0;\n\t\tout[1] = 0;\n\t\tout[2] = 0;\n\t}\n\n\tout[3] = 1;\n\treturn out;\n}\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nfunction identity(out) {\n\tout[0] = 0;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 1;\n\treturn out;\n}\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nfunction setAxisAngle(out, axis, rad) {\n\trad = rad * 0.5;\n\tvar s = Math.sin(rad);\n\tout[0] = s * axis[0];\n\tout[1] = s * axis[1];\n\tout[2] = s * axis[2];\n\tout[3] = Math.cos(rad);\n\treturn out;\n}\n\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nfunction getAxisAngle(out_axis, q) {\n\tvar rad = Math.acos(q[3]) * 2.0;\n\tvar s = Math.sin(rad / 2.0);\n\n\tif (s > _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n\t\tout_axis[0] = q[0] / s;\n\t\tout_axis[1] = q[1] / s;\n\t\tout_axis[2] = q[2] / s;\n\t} else {\n\t\t// If s is zero, return any axis (no rotation - axis does not matter)\n\t\tout_axis[0] = 1;\n\t\tout_axis[1] = 0;\n\t\tout_axis[2] = 0;\n\t}\n\n\treturn rad;\n}\n\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nfunction getAngle(a, b) {\n\tvar dotproduct = dot(a, b);\n\treturn Math.acos(2 * dotproduct * dotproduct - 1);\n}\n\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nfunction multiply(out, a, b) {\n\tvar ax = a[0],\n\t\tay = a[1],\n\t\taz = a[2],\n\t\taw = a[3];\n\tvar bx = b[0],\n\t\tby = b[1],\n\t\tbz = b[2],\n\t\tbw = b[3];\n\tout[0] = ax * bw + aw * bx + ay * bz - az * by;\n\tout[1] = ay * bw + aw * by + az * bx - ax * bz;\n\tout[2] = az * bw + aw * bz + ax * by - ay * bx;\n\tout[3] = aw * bw - ax * bx - ay * by - az * bz;\n\treturn out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nfunction rotateX(out, a, rad) {\n\trad *= 0.5;\n\tvar ax = a[0],\n\t\tay = a[1],\n\t\taz = a[2],\n\t\taw = a[3];\n\tvar bx = Math.sin(rad),\n\t\tbw = Math.cos(rad);\n\tout[0] = ax * bw + aw * bx;\n\tout[1] = ay * bw + az * bx;\n\tout[2] = az * bw - ay * bx;\n\tout[3] = aw * bw - ax * bx;\n\treturn out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nfunction rotateY(out, a, rad) {\n\trad *= 0.5;\n\tvar ax = a[0],\n\t\tay = a[1],\n\t\taz = a[2],\n\t\taw = a[3];\n\tvar by = Math.sin(rad),\n\t\tbw = Math.cos(rad);\n\tout[0] = ax * bw - az * by;\n\tout[1] = ay * bw + aw * by;\n\tout[2] = az * bw + ax * by;\n\tout[3] = aw * bw - ay * by;\n\treturn out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nfunction rotateZ(out, a, rad) {\n\trad *= 0.5;\n\tvar ax = a[0],\n\t\tay = a[1],\n\t\taz = a[2],\n\t\taw = a[3];\n\tvar bz = Math.sin(rad),\n\t\tbw = Math.cos(rad);\n\tout[0] = ax * bw + ay * bz;\n\tout[1] = ay * bw - ax * bz;\n\tout[2] = az * bw + aw * bz;\n\tout[3] = aw * bw - az * bz;\n\treturn out;\n}\n\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nfunction calculateW(out, a) {\n\tvar x = a[0],\n\t\ty = a[1],\n\t\tz = a[2];\n\tout[0] = x;\n\tout[1] = y;\n\tout[2] = z;\n\tout[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n\treturn out;\n}\n\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nfunction exp(out, a) {\n\tvar x = a[0],\n\t\ty = a[1],\n\t\tz = a[2],\n\t\tw = a[3];\n\tvar r = Math.sqrt(x * x + y * y + z * z);\n\tvar et = Math.exp(w);\n\tvar s = r > 0 ? et * Math.sin(r) / r : 0;\n\tout[0] = x * s;\n\tout[1] = y * s;\n\tout[2] = z * s;\n\tout[3] = et * Math.cos(r);\n\treturn out;\n}\n\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nfunction ln(out, a) {\n\tvar x = a[0],\n\t\ty = a[1],\n\t\tz = a[2],\n\t\tw = a[3];\n\tvar r = Math.sqrt(x * x + y * y + z * z);\n\tvar t = r > 0 ? Math.atan2(r, w) / r : 0;\n\tout[0] = x * t;\n\tout[1] = y * t;\n\tout[2] = z * t;\n\tout[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n\treturn out;\n}\n\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nfunction pow(out, a, b) {\n\tln(out, a);\n\tscale(out, out, b);\n\texp(out, out);\n\treturn out;\n}\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nfunction slerp(out, a, b, t) {\n\t// benchmarks:\n\t//    http://jsperf.com/quaternion-slerp-implementations\n\tvar ax = a[0],\n\t\tay = a[1],\n\t\taz = a[2],\n\t\taw = a[3];\n\tvar bx = b[0],\n\t\tby = b[1],\n\t\tbz = b[2],\n\t\tbw = b[3];\n\tvar omega, cosom, sinom, scale0, scale1; // calc cosine\n\n\tcosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n\tif (cosom < 0.0) {\n\t\tcosom = -cosom;\n\t\tbx = -bx;\n\t\tby = -by;\n\t\tbz = -bz;\n\t\tbw = -bw;\n\t} // calculate coefficients\n\n\tif (1.0 - cosom > _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n\t\t// standard case (slerp)\n\t\tomega = Math.acos(cosom);\n\t\tsinom = Math.sin(omega);\n\t\tscale0 = Math.sin((1.0 - t) * omega) / sinom;\n\t\tscale1 = Math.sin(t * omega) / sinom;\n\t} else {\n\t\t// \"from\" and \"to\" quaternions are very close\n\t\t//  ... so we can do a linear interpolation\n\t\tscale0 = 1.0 - t;\n\t\tscale1 = t;\n\t} // calculate final values\n\n\tout[0] = scale0 * ax + scale1 * bx;\n\tout[1] = scale0 * ay + scale1 * by;\n\tout[2] = scale0 * az + scale1 * bz;\n\tout[3] = scale0 * aw + scale1 * bw;\n\treturn out;\n}\n\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nfunction random(out) {\n\t// Implementation of http://planning.cs.uiuc.edu/node198.html\n\t// TODO: Calling random 3 times is probably not the fastest solution\n\tvar u1 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM();\n\tvar u2 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM();\n\tvar u3 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM();\n\tvar sqrt1MinusU1 = Math.sqrt(1 - u1);\n\tvar sqrtU1 = Math.sqrt(u1);\n\tout[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n\tout[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n\tout[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n\tout[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n\treturn out;\n}\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nfunction invert(out, a) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3];\n\tvar dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n\tvar invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n\tout[0] = -a0 * invDot;\n\tout[1] = -a1 * invDot;\n\tout[2] = -a2 * invDot;\n\tout[3] = a3 * invDot;\n\treturn out;\n}\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nfunction conjugate(out, a) {\n\tout[0] = -a[0];\n\tout[1] = -a[1];\n\tout[2] = -a[2];\n\tout[3] = a[3];\n\treturn out;\n}\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nfunction fromMat3(out, m) {\n\t// Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n\t// article \"Quaternion Calculus and Fast Animation\".\n\tvar fTrace = m[0] + m[4] + m[8];\n\tvar fRoot;\n\n\tif (fTrace > 0.0) {\n\t\t// |w| > 1/2, may as well choose w > 1/2\n\t\tfRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n\t\tout[3] = 0.5 * fRoot;\n\t\tfRoot = 0.5 / fRoot; // 1/(4w)\n\n\t\tout[0] = (m[5] - m[7]) * fRoot;\n\t\tout[1] = (m[6] - m[2]) * fRoot;\n\t\tout[2] = (m[1] - m[3]) * fRoot;\n\t} else {\n\t\t// |w| <= 1/2\n\t\tvar i = 0;\n\t\tif (m[4] > m[0]) i = 1;\n\t\tif (m[8] > m[i * 3 + i]) i = 2;\n\t\tvar j = (i + 1) % 3;\n\t\tvar k = (i + 2) % 3;\n\t\tfRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n\t\tout[i] = 0.5 * fRoot;\n\t\tfRoot = 0.5 / fRoot;\n\t\tout[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n\t\tout[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n\t\tout[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n\t}\n\n\treturn out;\n}\n\n/**\n * Creates a quaternion from the given euler angle x, y, z using the provided intrinsic order for the conversion.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} x Angle to rotate around X axis in degrees.\n * @param {y} y Angle to rotate around Y axis in degrees.\n * @param {z} z Angle to rotate around Z axis in degrees.\n * @param {'zyx'|'xyz'|'yxz'|'yzx'|'zxy'|'zyx'} order Intrinsic order for conversion, default is zyx.\n * @returns {quat} out\n * @function\n */\n\nfunction fromEuler(out, x, y, z) {\n\tvar order = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _common_js__WEBPACK_IMPORTED_MODULE_0__.ANGLE_ORDER;\n\tvar halfToRad = Math.PI / 360;\n\tx *= halfToRad;\n\tz *= halfToRad;\n\ty *= halfToRad;\n\tvar sx = Math.sin(x);\n\tvar cx = Math.cos(x);\n\tvar sy = Math.sin(y);\n\tvar cy = Math.cos(y);\n\tvar sz = Math.sin(z);\n\tvar cz = Math.cos(z);\n\n\tswitch (order) {\n\t\tcase \"xyz\":\n\t\t\tout[0] = sx * cy * cz + cx * sy * sz;\n\t\t\tout[1] = cx * sy * cz - sx * cy * sz;\n\t\t\tout[2] = cx * cy * sz + sx * sy * cz;\n\t\t\tout[3] = cx * cy * cz - sx * sy * sz;\n\t\t\tbreak;\n\n\t\tcase \"xzy\":\n\t\t\tout[0] = sx * cy * cz - cx * sy * sz;\n\t\t\tout[1] = cx * sy * cz - sx * cy * sz;\n\t\t\tout[2] = cx * cy * sz + sx * sy * cz;\n\t\t\tout[3] = cx * cy * cz + sx * sy * sz;\n\t\t\tbreak;\n\n\t\tcase \"yxz\":\n\t\t\tout[0] = sx * cy * cz + cx * sy * sz;\n\t\t\tout[1] = cx * sy * cz - sx * cy * sz;\n\t\t\tout[2] = cx * cy * sz - sx * sy * cz;\n\t\t\tout[3] = cx * cy * cz + sx * sy * sz;\n\t\t\tbreak;\n\n\t\tcase \"yzx\":\n\t\t\tout[0] = sx * cy * cz + cx * sy * sz;\n\t\t\tout[1] = cx * sy * cz + sx * cy * sz;\n\t\t\tout[2] = cx * cy * sz - sx * sy * cz;\n\t\t\tout[3] = cx * cy * cz - sx * sy * sz;\n\t\t\tbreak;\n\n\t\tcase \"zxy\":\n\t\t\tout[0] = sx * cy * cz - cx * sy * sz;\n\t\t\tout[1] = cx * sy * cz + sx * cy * sz;\n\t\t\tout[2] = cx * cy * sz + sx * sy * cz;\n\t\t\tout[3] = cx * cy * cz - sx * sy * sz;\n\t\t\tbreak;\n\n\t\tcase \"zyx\":\n\t\t\tout[0] = sx * cy * cz - cx * sy * sz;\n\t\t\tout[1] = cx * sy * cz + sx * cy * sz;\n\t\t\tout[2] = cx * cy * sz - sx * sy * cz;\n\t\t\tout[3] = cx * cy * cz + sx * sy * sz;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error('Unknown angle order ' + order);\n\t}\n\n\treturn out;\n}\n\n/**\n * Returns a string representation of a quaternion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n\treturn \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nvar clone = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nvar fromValues = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nvar copy = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nvar set = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nvar add = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nvar scale = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nvar dot = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nvar lerp = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nvar length = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nvar len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nvar squaredLength = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nvar normalize = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nvar exactEquals = _vec4_js__WEBPACK_IMPORTED_MODULE_3__.exactEquals;\n\n/**\n * Returns whether or not the quaternions point approximately to the same direction.\n *\n * Both quaternions are assumed to be unit length.\n *\n * @param {ReadonlyQuat} a The first unit quaternion.\n * @param {ReadonlyQuat} b The second unit quaternion.\n * @returns {Boolean} True if the quaternions are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\treturn Math.abs(_vec4_js__WEBPACK_IMPORTED_MODULE_3__.dot(a, b)) >= 1 - _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON;\n}\n\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nvar rotationTo = function () {\n\tvar tmpvec3 = _vec3_js__WEBPACK_IMPORTED_MODULE_2__.create();\n\tvar xUnitVec3 = _vec3_js__WEBPACK_IMPORTED_MODULE_2__.fromValues(1, 0, 0);\n\tvar yUnitVec3 = _vec3_js__WEBPACK_IMPORTED_MODULE_2__.fromValues(0, 1, 0);\n\treturn function (out, a, b) {\n\t\tvar dot = _vec3_js__WEBPACK_IMPORTED_MODULE_2__.dot(a, b);\n\n\t\tif (dot < -0.999999) {\n\t\t\t_vec3_js__WEBPACK_IMPORTED_MODULE_2__.cross(tmpvec3, xUnitVec3, a);\n\t\t\tif (_vec3_js__WEBPACK_IMPORTED_MODULE_2__.len(tmpvec3) < 0.000001) _vec3_js__WEBPACK_IMPORTED_MODULE_2__.cross(tmpvec3, yUnitVec3, a);\n\t\t\t_vec3_js__WEBPACK_IMPORTED_MODULE_2__.normalize(tmpvec3, tmpvec3);\n\t\t\tsetAxisAngle(out, tmpvec3, Math.PI);\n\t\t\treturn out;\n\t\t} else if (dot > 0.999999) {\n\t\t\tout[0] = 0;\n\t\t\tout[1] = 0;\n\t\t\tout[2] = 0;\n\t\t\tout[3] = 1;\n\t\t\treturn out;\n\t\t} else {\n\t\t\t_vec3_js__WEBPACK_IMPORTED_MODULE_2__.cross(tmpvec3, a, b);\n\t\t\tout[0] = tmpvec3[0];\n\t\t\tout[1] = tmpvec3[1];\n\t\t\tout[2] = tmpvec3[2];\n\t\t\tout[3] = 1 + dot;\n\t\t\treturn normalize(out, out);\n\t\t}\n\t};\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nvar sqlerp = function () {\n\tvar temp1 = create();\n\tvar temp2 = create();\n\treturn function (out, a, b, c, d, t) {\n\t\tslerp(temp1, a, d, t);\n\t\tslerp(temp2, b, c, t);\n\t\tslerp(out, temp1, temp2, 2 * t * (1 - t));\n\t\treturn out;\n\t};\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nvar setAxes = function () {\n\tvar matr = _mat3_js__WEBPACK_IMPORTED_MODULE_1__.create();\n\treturn function (out, view, right, up) {\n\t\tmatr[0] = right[0];\n\t\tmatr[3] = right[1];\n\t\tmatr[6] = right[2];\n\t\tmatr[1] = up[0];\n\t\tmatr[4] = up[1];\n\t\tmatr[7] = up[2];\n\t\tmatr[2] = -view[0];\n\t\tmatr[5] = -view[1];\n\t\tmatr[8] = -view[2];\n\t\treturn normalize(out, fromMat3(out, matr));\n\t};\n}();\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/quat.js?");

/***/ }),

/***/ "./src/util/gl-matrix/quat2.js":
/*!*************************************!*\
  !*** ./src/util/gl-matrix/quat2.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"conjugate\": () => (/* binding */ conjugate),\n/* harmony export */   \"copy\": () => (/* binding */ copy),\n/* harmony export */   \"create\": () => (/* binding */ create),\n/* harmony export */   \"dot\": () => (/* binding */ dot),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"exactEquals\": () => (/* binding */ exactEquals),\n/* harmony export */   \"fromMat4\": () => (/* binding */ fromMat4),\n/* harmony export */   \"fromRotation\": () => (/* binding */ fromRotation),\n/* harmony export */   \"fromRotationTranslation\": () => (/* binding */ fromRotationTranslation),\n/* harmony export */   \"fromRotationTranslationValues\": () => (/* binding */ fromRotationTranslationValues),\n/* harmony export */   \"fromTranslation\": () => (/* binding */ fromTranslation),\n/* harmony export */   \"fromValues\": () => (/* binding */ fromValues),\n/* harmony export */   \"getDual\": () => (/* binding */ getDual),\n/* harmony export */   \"getReal\": () => (/* binding */ getReal),\n/* harmony export */   \"getTranslation\": () => (/* binding */ getTranslation),\n/* harmony export */   \"identity\": () => (/* binding */ identity),\n/* harmony export */   \"invert\": () => (/* binding */ invert),\n/* harmony export */   \"len\": () => (/* binding */ len),\n/* harmony export */   \"length\": () => (/* binding */ length),\n/* harmony export */   \"lerp\": () => (/* binding */ lerp),\n/* harmony export */   \"mul\": () => (/* binding */ mul),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"normalize\": () => (/* binding */ normalize),\n/* harmony export */   \"rotateAroundAxis\": () => (/* binding */ rotateAroundAxis),\n/* harmony export */   \"rotateByQuatAppend\": () => (/* binding */ rotateByQuatAppend),\n/* harmony export */   \"rotateByQuatPrepend\": () => (/* binding */ rotateByQuatPrepend),\n/* harmony export */   \"rotateX\": () => (/* binding */ rotateX),\n/* harmony export */   \"rotateY\": () => (/* binding */ rotateY),\n/* harmony export */   \"rotateZ\": () => (/* binding */ rotateZ),\n/* harmony export */   \"scale\": () => (/* binding */ scale),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"setDual\": () => (/* binding */ setDual),\n/* harmony export */   \"setReal\": () => (/* binding */ setReal),\n/* harmony export */   \"sqrLen\": () => (/* binding */ sqrLen),\n/* harmony export */   \"squaredLength\": () => (/* binding */ squaredLength),\n/* harmony export */   \"str\": () => (/* binding */ str),\n/* harmony export */   \"translate\": () => (/* binding */ translate)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n/* harmony import */ var _quat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./quat.js */ \"./src/util/gl-matrix/quat.js\");\n/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mat4.js */ \"./src/util/gl-matrix/mat4.js\");\n\n\n\n\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\n\nfunction create() {\n\tvar dq = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(8);\n\n\tif (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n\t\tdq[0] = 0;\n\t\tdq[1] = 0;\n\t\tdq[2] = 0;\n\t\tdq[4] = 0;\n\t\tdq[5] = 0;\n\t\tdq[6] = 0;\n\t\tdq[7] = 0;\n\t}\n\n\tdq[3] = 1;\n\treturn dq;\n}\n\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nfunction clone(a) {\n\tvar dq = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(8);\n\tdq[0] = a[0];\n\tdq[1] = a[1];\n\tdq[2] = a[2];\n\tdq[3] = a[3];\n\tdq[4] = a[4];\n\tdq[5] = a[5];\n\tdq[6] = a[6];\n\tdq[7] = a[7];\n\treturn dq;\n}\n\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nfunction fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n\tvar dq = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(8);\n\tdq[0] = x1;\n\tdq[1] = y1;\n\tdq[2] = z1;\n\tdq[3] = w1;\n\tdq[4] = x2;\n\tdq[5] = y2;\n\tdq[6] = z2;\n\tdq[7] = w2;\n\treturn dq;\n}\n\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nfunction fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n\tvar dq = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(8);\n\tdq[0] = x1;\n\tdq[1] = y1;\n\tdq[2] = z1;\n\tdq[3] = w1;\n\tvar ax = x2 * 0.5,\n\t\tay = y2 * 0.5,\n\t\taz = z2 * 0.5;\n\tdq[4] = ax * w1 + ay * z1 - az * y1;\n\tdq[5] = ay * w1 + az * x1 - ax * z1;\n\tdq[6] = az * w1 + ax * y1 - ay * x1;\n\tdq[7] = -ax * x1 - ay * y1 - az * z1;\n\treturn dq;\n}\n\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nfunction fromRotationTranslation(out, q, t) {\n\tvar ax = t[0] * 0.5,\n\t\tay = t[1] * 0.5,\n\t\taz = t[2] * 0.5,\n\t\tbx = q[0],\n\t\tby = q[1],\n\t\tbz = q[2],\n\t\tbw = q[3];\n\tout[0] = bx;\n\tout[1] = by;\n\tout[2] = bz;\n\tout[3] = bw;\n\tout[4] = ax * bw + ay * bz - az * by;\n\tout[5] = ay * bw + az * bx - ax * bz;\n\tout[6] = az * bw + ax * by - ay * bx;\n\tout[7] = -ax * bx - ay * by - az * bz;\n\treturn out;\n}\n\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nfunction fromTranslation(out, t) {\n\tout[0] = 0;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 1;\n\tout[4] = t[0] * 0.5;\n\tout[5] = t[1] * 0.5;\n\tout[6] = t[2] * 0.5;\n\tout[7] = 0;\n\treturn out;\n}\n\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nfunction fromRotation(out, q) {\n\tout[0] = q[0];\n\tout[1] = q[1];\n\tout[2] = q[2];\n\tout[3] = q[3];\n\tout[4] = 0;\n\tout[5] = 0;\n\tout[6] = 0;\n\tout[7] = 0;\n\treturn out;\n}\n\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\nfunction fromMat4(out, a) {\n\t//TODO Optimize this\n\tvar outer = _quat_js__WEBPACK_IMPORTED_MODULE_1__.create();\n\t_mat4_js__WEBPACK_IMPORTED_MODULE_2__.getRotation(outer, a);\n\tvar t = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n\t_mat4_js__WEBPACK_IMPORTED_MODULE_2__.getTranslation(t, a);\n\tfromRotationTranslation(out, outer, t);\n\treturn out;\n}\n\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\nfunction copy(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\tout[4] = a[4];\n\tout[5] = a[5];\n\tout[6] = a[6];\n\tout[7] = a[7];\n\treturn out;\n}\n\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\nfunction identity(out) {\n\tout[0] = 0;\n\tout[1] = 0;\n\tout[2] = 0;\n\tout[3] = 1;\n\tout[4] = 0;\n\tout[5] = 0;\n\tout[6] = 0;\n\tout[7] = 0;\n\treturn out;\n}\n\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\nfunction set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n\tout[0] = x1;\n\tout[1] = y1;\n\tout[2] = z1;\n\tout[3] = w1;\n\tout[4] = x2;\n\tout[5] = y2;\n\tout[6] = z2;\n\tout[7] = w2;\n\treturn out;\n}\n\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\nvar getReal = _quat_js__WEBPACK_IMPORTED_MODULE_1__.copy;\n\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nfunction getDual(out, a) {\n\tout[0] = a[4];\n\tout[1] = a[5];\n\tout[2] = a[6];\n\tout[3] = a[7];\n\treturn out;\n}\n\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\nvar setReal = _quat_js__WEBPACK_IMPORTED_MODULE_1__.copy;\n\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nfunction setDual(out, q) {\n\tout[4] = q[0];\n\tout[5] = q[1];\n\tout[6] = q[2];\n\tout[7] = q[3];\n\treturn out;\n}\n\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\nfunction getTranslation(out, a) {\n\tvar ax = a[4],\n\t\tay = a[5],\n\t\taz = a[6],\n\t\taw = a[7],\n\t\tbx = -a[0],\n\t\tby = -a[1],\n\t\tbz = -a[2],\n\t\tbw = a[3];\n\tout[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n\tout[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n\tout[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n\treturn out;\n}\n\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\nfunction translate(out, a, v) {\n\tvar ax1 = a[0],\n\t\tay1 = a[1],\n\t\taz1 = a[2],\n\t\taw1 = a[3],\n\t\tbx1 = v[0] * 0.5,\n\t\tby1 = v[1] * 0.5,\n\t\tbz1 = v[2] * 0.5,\n\t\tax2 = a[4],\n\t\tay2 = a[5],\n\t\taz2 = a[6],\n\t\taw2 = a[7];\n\tout[0] = ax1;\n\tout[1] = ay1;\n\tout[2] = az1;\n\tout[3] = aw1;\n\tout[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n\tout[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n\tout[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n\tout[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n\treturn out;\n}\n\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nfunction rotateX(out, a, rad) {\n\tvar bx = -a[0],\n\t\tby = -a[1],\n\t\tbz = -a[2],\n\t\tbw = a[3],\n\t\tax = a[4],\n\t\tay = a[5],\n\t\taz = a[6],\n\t\taw = a[7],\n\t\tax1 = ax * bw + aw * bx + ay * bz - az * by,\n\t\tay1 = ay * bw + aw * by + az * bx - ax * bz,\n\t\taz1 = az * bw + aw * bz + ax * by - ay * bx,\n\t\taw1 = aw * bw - ax * bx - ay * by - az * bz;\n\t_quat_js__WEBPACK_IMPORTED_MODULE_1__.rotateX(out, a, rad);\n\tbx = out[0];\n\tby = out[1];\n\tbz = out[2];\n\tbw = out[3];\n\tout[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n\tout[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n\tout[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n\tout[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n\treturn out;\n}\n\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nfunction rotateY(out, a, rad) {\n\tvar bx = -a[0],\n\t\tby = -a[1],\n\t\tbz = -a[2],\n\t\tbw = a[3],\n\t\tax = a[4],\n\t\tay = a[5],\n\t\taz = a[6],\n\t\taw = a[7],\n\t\tax1 = ax * bw + aw * bx + ay * bz - az * by,\n\t\tay1 = ay * bw + aw * by + az * bx - ax * bz,\n\t\taz1 = az * bw + aw * bz + ax * by - ay * bx,\n\t\taw1 = aw * bw - ax * bx - ay * by - az * bz;\n\t_quat_js__WEBPACK_IMPORTED_MODULE_1__.rotateY(out, a, rad);\n\tbx = out[0];\n\tby = out[1];\n\tbz = out[2];\n\tbw = out[3];\n\tout[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n\tout[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n\tout[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n\tout[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n\treturn out;\n}\n\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nfunction rotateZ(out, a, rad) {\n\tvar bx = -a[0],\n\t\tby = -a[1],\n\t\tbz = -a[2],\n\t\tbw = a[3],\n\t\tax = a[4],\n\t\tay = a[5],\n\t\taz = a[6],\n\t\taw = a[7],\n\t\tax1 = ax * bw + aw * bx + ay * bz - az * by,\n\t\tay1 = ay * bw + aw * by + az * bx - ax * bz,\n\t\taz1 = az * bw + aw * bz + ax * by - ay * bx,\n\t\taw1 = aw * bw - ax * bx - ay * by - az * bz;\n\t_quat_js__WEBPACK_IMPORTED_MODULE_1__.rotateZ(out, a, rad);\n\tbx = out[0];\n\tby = out[1];\n\tbz = out[2];\n\tbw = out[3];\n\tout[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n\tout[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n\tout[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n\tout[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n\treturn out;\n}\n\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\nfunction rotateByQuatAppend(out, a, q) {\n\tvar qx = q[0],\n\t\tqy = q[1],\n\t\tqz = q[2],\n\t\tqw = q[3],\n\t\tax = a[0],\n\t\tay = a[1],\n\t\taz = a[2],\n\t\taw = a[3];\n\tout[0] = ax * qw + aw * qx + ay * qz - az * qy;\n\tout[1] = ay * qw + aw * qy + az * qx - ax * qz;\n\tout[2] = az * qw + aw * qz + ax * qy - ay * qx;\n\tout[3] = aw * qw - ax * qx - ay * qy - az * qz;\n\tax = a[4];\n\tay = a[5];\n\taz = a[6];\n\taw = a[7];\n\tout[4] = ax * qw + aw * qx + ay * qz - az * qy;\n\tout[5] = ay * qw + aw * qy + az * qx - ax * qz;\n\tout[6] = az * qw + aw * qz + ax * qy - ay * qx;\n\tout[7] = aw * qw - ax * qx - ay * qy - az * qz;\n\treturn out;\n}\n\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\nfunction rotateByQuatPrepend(out, q, a) {\n\tvar qx = q[0],\n\t\tqy = q[1],\n\t\tqz = q[2],\n\t\tqw = q[3],\n\t\tbx = a[0],\n\t\tby = a[1],\n\t\tbz = a[2],\n\t\tbw = a[3];\n\tout[0] = qx * bw + qw * bx + qy * bz - qz * by;\n\tout[1] = qy * bw + qw * by + qz * bx - qx * bz;\n\tout[2] = qz * bw + qw * bz + qx * by - qy * bx;\n\tout[3] = qw * bw - qx * bx - qy * by - qz * bz;\n\tbx = a[4];\n\tby = a[5];\n\tbz = a[6];\n\tbw = a[7];\n\tout[4] = qx * bw + qw * bx + qy * bz - qz * by;\n\tout[5] = qy * bw + qw * by + qz * bx - qx * bz;\n\tout[6] = qz * bw + qw * bz + qx * by - qy * bx;\n\tout[7] = qw * bw - qx * bx - qy * by - qz * bz;\n\treturn out;\n}\n\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\nfunction rotateAroundAxis(out, a, axis, rad) {\n\t//Special case for rad = 0\n\tif (Math.abs(rad) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n\t\treturn copy(out, a);\n\t}\n\n\tvar axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n\trad = rad * 0.5;\n\tvar s = Math.sin(rad);\n\tvar bx = s * axis[0] / axisLength;\n\tvar by = s * axis[1] / axisLength;\n\tvar bz = s * axis[2] / axisLength;\n\tvar bw = Math.cos(rad);\n\tvar ax1 = a[0],\n\t\tay1 = a[1],\n\t\taz1 = a[2],\n\t\taw1 = a[3];\n\tout[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n\tout[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n\tout[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n\tout[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n\tvar ax = a[4],\n\t\tay = a[5],\n\t\taz = a[6],\n\t\taw = a[7];\n\tout[4] = ax * bw + aw * bx + ay * bz - az * by;\n\tout[5] = ay * bw + aw * by + az * bx - ax * bz;\n\tout[6] = az * bw + aw * bz + ax * by - ay * bx;\n\tout[7] = aw * bw - ax * bx - ay * by - az * bz;\n\treturn out;\n}\n\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\nfunction add(out, a, b) {\n\tout[0] = a[0] + b[0];\n\tout[1] = a[1] + b[1];\n\tout[2] = a[2] + b[2];\n\tout[3] = a[3] + b[3];\n\tout[4] = a[4] + b[4];\n\tout[5] = a[5] + b[5];\n\tout[6] = a[6] + b[6];\n\tout[7] = a[7] + b[7];\n\treturn out;\n}\n\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\nfunction multiply(out, a, b) {\n\tvar ax0 = a[0],\n\t\tay0 = a[1],\n\t\taz0 = a[2],\n\t\taw0 = a[3],\n\t\tbx1 = b[4],\n\t\tby1 = b[5],\n\t\tbz1 = b[6],\n\t\tbw1 = b[7],\n\t\tax1 = a[4],\n\t\tay1 = a[5],\n\t\taz1 = a[6],\n\t\taw1 = a[7],\n\t\tbx0 = b[0],\n\t\tby0 = b[1],\n\t\tbz0 = b[2],\n\t\tbw0 = b[3];\n\tout[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n\tout[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n\tout[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n\tout[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n\tout[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n\tout[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n\tout[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n\tout[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n\treturn out;\n}\n\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\nvar mul = multiply;\n\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nfunction scale(out, a, b) {\n\tout[0] = a[0] * b;\n\tout[1] = a[1] * b;\n\tout[2] = a[2] * b;\n\tout[3] = a[3] * b;\n\tout[4] = a[4] * b;\n\tout[5] = a[5] * b;\n\tout[6] = a[6] * b;\n\tout[7] = a[7] * b;\n\treturn out;\n}\n\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nvar dot = _quat_js__WEBPACK_IMPORTED_MODULE_1__.dot;\n\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nfunction lerp(out, a, b, t) {\n\tvar mt = 1 - t;\n\tif (dot(a, b) < 0) t = -t;\n\tout[0] = a[0] * mt + b[0] * t;\n\tout[1] = a[1] * mt + b[1] * t;\n\tout[2] = a[2] * mt + b[2] * t;\n\tout[3] = a[3] * mt + b[3] * t;\n\tout[4] = a[4] * mt + b[4] * t;\n\tout[5] = a[5] * mt + b[5] * t;\n\tout[6] = a[6] * mt + b[6] * t;\n\tout[7] = a[7] * mt + b[7] * t;\n\treturn out;\n}\n\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\nfunction invert(out, a) {\n\tvar sqlen = squaredLength(a);\n\tout[0] = -a[0] / sqlen;\n\tout[1] = -a[1] / sqlen;\n\tout[2] = -a[2] / sqlen;\n\tout[3] = a[3] / sqlen;\n\tout[4] = -a[4] / sqlen;\n\tout[5] = -a[5] / sqlen;\n\tout[6] = -a[6] / sqlen;\n\tout[7] = a[7] / sqlen;\n\treturn out;\n}\n\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\nfunction conjugate(out, a) {\n\tout[0] = -a[0];\n\tout[1] = -a[1];\n\tout[2] = -a[2];\n\tout[3] = a[3];\n\tout[4] = -a[4];\n\tout[5] = -a[5];\n\tout[6] = -a[6];\n\tout[7] = a[7];\n\treturn out;\n}\n\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\nvar length = _quat_js__WEBPACK_IMPORTED_MODULE_1__.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nvar len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nvar squaredLength = _quat_js__WEBPACK_IMPORTED_MODULE_1__.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nfunction normalize(out, a) {\n\tvar magnitude = squaredLength(a);\n\n\tif (magnitude > 0) {\n\t\tmagnitude = Math.sqrt(magnitude);\n\t\tvar a0 = a[0] / magnitude;\n\t\tvar a1 = a[1] / magnitude;\n\t\tvar a2 = a[2] / magnitude;\n\t\tvar a3 = a[3] / magnitude;\n\t\tvar b0 = a[4];\n\t\tvar b1 = a[5];\n\t\tvar b2 = a[6];\n\t\tvar b3 = a[7];\n\t\tvar a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n\t\tout[0] = a0;\n\t\tout[1] = a1;\n\t\tout[2] = a2;\n\t\tout[3] = a3;\n\t\tout[4] = (b0 - a0 * a_dot_b) / magnitude;\n\t\tout[5] = (b1 - a1 * a_dot_b) / magnitude;\n\t\tout[6] = (b2 - a2 * a_dot_b) / magnitude;\n\t\tout[7] = (b3 - a3 * a_dot_b) / magnitude;\n\t}\n\n\treturn out;\n}\n\n/**\n * Returns a string representation of a dual quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\nfunction str(a) {\n\treturn \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n\treturn a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3],\n\t\ta4 = a[4],\n\t\ta5 = a[5],\n\t\ta6 = a[6],\n\t\ta7 = a[7];\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2],\n\t\tb3 = b[3],\n\t\tb4 = b[4],\n\t\tb5 = b[5],\n\t\tb6 = b[6],\n\t\tb7 = b[7];\n\treturn Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/quat2.js?");

/***/ }),

/***/ "./src/util/gl-matrix/vec2.js":
/*!************************************!*\
  !*** ./src/util/gl-matrix/vec2.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"angle\": () => (/* binding */ angle),\n/* harmony export */   \"ceil\": () => (/* binding */ ceil),\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"copy\": () => (/* binding */ copy),\n/* harmony export */   \"create\": () => (/* binding */ create),\n/* harmony export */   \"cross\": () => (/* binding */ cross),\n/* harmony export */   \"dist\": () => (/* binding */ dist),\n/* harmony export */   \"distance\": () => (/* binding */ distance),\n/* harmony export */   \"div\": () => (/* binding */ div),\n/* harmony export */   \"divide\": () => (/* binding */ divide),\n/* harmony export */   \"dot\": () => (/* binding */ dot),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"exactEquals\": () => (/* binding */ exactEquals),\n/* harmony export */   \"floor\": () => (/* binding */ floor),\n/* harmony export */   \"forEach\": () => (/* binding */ forEach),\n/* harmony export */   \"fromValues\": () => (/* binding */ fromValues),\n/* harmony export */   \"inverse\": () => (/* binding */ inverse),\n/* harmony export */   \"len\": () => (/* binding */ len),\n/* harmony export */   \"length\": () => (/* binding */ length),\n/* harmony export */   \"lerp\": () => (/* binding */ lerp),\n/* harmony export */   \"max\": () => (/* binding */ max),\n/* harmony export */   \"min\": () => (/* binding */ min),\n/* harmony export */   \"mul\": () => (/* binding */ mul),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"negate\": () => (/* binding */ negate),\n/* harmony export */   \"normalize\": () => (/* binding */ normalize),\n/* harmony export */   \"random\": () => (/* binding */ random),\n/* harmony export */   \"rotate\": () => (/* binding */ rotate),\n/* harmony export */   \"round\": () => (/* binding */ round),\n/* harmony export */   \"scale\": () => (/* binding */ scale),\n/* harmony export */   \"scaleAndAdd\": () => (/* binding */ scaleAndAdd),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"sqrDist\": () => (/* binding */ sqrDist),\n/* harmony export */   \"sqrLen\": () => (/* binding */ sqrLen),\n/* harmony export */   \"squaredDistance\": () => (/* binding */ squaredDistance),\n/* harmony export */   \"squaredLength\": () => (/* binding */ squaredLength),\n/* harmony export */   \"str\": () => (/* binding */ str),\n/* harmony export */   \"sub\": () => (/* binding */ sub),\n/* harmony export */   \"subtract\": () => (/* binding */ subtract),\n/* harmony export */   \"transformMat2\": () => (/* binding */ transformMat2),\n/* harmony export */   \"transformMat2d\": () => (/* binding */ transformMat2d),\n/* harmony export */   \"transformMat3\": () => (/* binding */ transformMat3),\n/* harmony export */   \"transformMat4\": () => (/* binding */ transformMat4),\n/* harmony export */   \"zero\": () => (/* binding */ zero)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nfunction create() {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(2);\n\n\tif (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n\t\tout[0] = 0;\n\t\tout[1] = 0;\n\t}\n\n\treturn out;\n}\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nfunction clone(a) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(2);\n\tout[0] = a[0];\n\tout[1] = a[1];\n\treturn out;\n}\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nfunction fromValues(x, y) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(2);\n\tout[0] = x;\n\tout[1] = y;\n\treturn out;\n}\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nfunction copy(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\treturn out;\n}\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nfunction set(out, x, y) {\n\tout[0] = x;\n\tout[1] = y;\n\treturn out;\n}\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction add(out, a, b) {\n\tout[0] = a[0] + b[0];\n\tout[1] = a[1] + b[1];\n\treturn out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction subtract(out, a, b) {\n\tout[0] = a[0] - b[0];\n\tout[1] = a[1] - b[1];\n\treturn out;\n}\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction multiply(out, a, b) {\n\tout[0] = a[0] * b[0];\n\tout[1] = a[1] * b[1];\n\treturn out;\n}\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction divide(out, a, b) {\n\tout[0] = a[0] / b[0];\n\tout[1] = a[1] / b[1];\n\treturn out;\n}\n\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nfunction ceil(out, a) {\n\tout[0] = Math.ceil(a[0]);\n\tout[1] = Math.ceil(a[1]);\n\treturn out;\n}\n\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nfunction floor(out, a) {\n\tout[0] = Math.floor(a[0]);\n\tout[1] = Math.floor(a[1]);\n\treturn out;\n}\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction min(out, a, b) {\n\tout[0] = Math.min(a[0], b[0]);\n\tout[1] = Math.min(a[1], b[1]);\n\treturn out;\n}\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction max(out, a, b) {\n\tout[0] = Math.max(a[0], b[0]);\n\tout[1] = Math.max(a[1], b[1]);\n\treturn out;\n}\n\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nfunction round(out, a) {\n\tout[0] = Math.round(a[0]);\n\tout[1] = Math.round(a[1]);\n\treturn out;\n}\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nfunction scale(out, a, b) {\n\tout[0] = a[0] * b;\n\tout[1] = a[1] * b;\n\treturn out;\n}\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n\tout[0] = a[0] + b[0] * scale;\n\tout[1] = a[1] + b[1] * scale;\n\treturn out;\n}\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n\tvar x = b[0] - a[0],\n\t\ty = b[1] - a[1];\n\treturn Math.hypot(x, y);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n\tvar x = b[0] - a[0],\n\t\ty = b[1] - a[1];\n\treturn x * x + y * y;\n}\n\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n\tvar x = a[0],\n\t\ty = a[1];\n\treturn Math.hypot(x, y);\n}\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n\tvar x = a[0],\n\t\ty = a[1];\n\treturn x * x + y * y;\n}\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nfunction negate(out, a) {\n\tout[0] = -a[0];\n\tout[1] = -a[1];\n\treturn out;\n}\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nfunction inverse(out, a) {\n\tout[0] = 1.0 / a[0];\n\tout[1] = 1.0 / a[1];\n\treturn out;\n}\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nfunction normalize(out, a) {\n\tvar x = a[0],\n\t\ty = a[1];\n\tvar len = x * x + y * y;\n\n\tif (len > 0) {\n\t\t//TODO: evaluate use of glm_invsqrt here?\n\t\tlen = 1 / Math.sqrt(len);\n\t}\n\n\tout[0] = a[0] * len;\n\tout[1] = a[1] * len;\n\treturn out;\n}\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n\treturn a[0] * b[0] + a[1] * b[1];\n}\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nfunction cross(out, a, b) {\n\tvar z = a[0] * b[1] - a[1] * b[0];\n\tout[0] = out[1] = 0;\n\tout[2] = z;\n\treturn out;\n}\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nfunction lerp(out, a, b, t) {\n\tvar ax = a[0],\n\t\tay = a[1];\n\tout[0] = ax + t * (b[0] - ax);\n\tout[1] = ay + t * (b[1] - ay);\n\treturn out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If omitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nfunction random(out, scale) {\n\tscale = scale === undefined ? 1.0 : scale;\n\tvar r = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 * Math.PI;\n\tout[0] = Math.cos(r) * scale;\n\tout[1] = Math.sin(r) * scale;\n\treturn out;\n}\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat2(out, a, m) {\n\tvar x = a[0],\n\t\ty = a[1];\n\tout[0] = m[0] * x + m[2] * y;\n\tout[1] = m[1] * x + m[3] * y;\n\treturn out;\n}\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat2d(out, a, m) {\n\tvar x = a[0],\n\t\ty = a[1];\n\tout[0] = m[0] * x + m[2] * y + m[4];\n\tout[1] = m[1] * x + m[3] * y + m[5];\n\treturn out;\n}\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat3(out, a, m) {\n\tvar x = a[0],\n\t\ty = a[1];\n\tout[0] = m[0] * x + m[3] * y + m[6];\n\tout[1] = m[1] * x + m[4] * y + m[7];\n\treturn out;\n}\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat4(out, a, m) {\n\tvar x = a[0];\n\tvar y = a[1];\n\tout[0] = m[0] * x + m[4] * y + m[12];\n\tout[1] = m[1] * x + m[5] * y + m[13];\n\treturn out;\n}\n\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nfunction rotate(out, a, b, rad) {\n\t//Translate point to the origin\n\tvar p0 = a[0] - b[0],\n\t\tp1 = a[1] - b[1],\n\t\tsinC = Math.sin(rad),\n\t\tcosC = Math.cos(rad); //perform rotation and translate to correct position\n\n\tout[0] = p0 * cosC - p1 * sinC + b[0];\n\tout[1] = p0 * sinC + p1 * cosC + b[1];\n\treturn out;\n}\n\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nfunction angle(a, b) {\n\tvar x1 = a[0],\n\t\ty1 = a[1],\n\t\tx2 = b[0],\n\t\ty2 = b[1],\n\t\t// mag is the product of the magnitudes of a and b\n\t\tmag = Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2)),\n\t\t// mag &&.. short circuits if mag == 0\n\t\tcosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n\treturn Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nfunction zero(out) {\n\tout[0] = 0.0;\n\tout[1] = 0.0;\n\treturn out;\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n\treturn \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n\treturn a[0] === b[0] && a[1] === b[1];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1];\n\tvar b0 = b[0],\n\t\tb1 = b[1];\n\treturn Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n\tvar vec = create();\n\treturn function (a, stride, offset, count, fn, arg) {\n\t\tvar i, l;\n\n\t\tif (!stride) {\n\t\t\tstride = 2;\n\t\t}\n\n\t\tif (!offset) {\n\t\t\toffset = 0;\n\t\t}\n\n\t\tif (count) {\n\t\t\tl = Math.min(count * stride + offset, a.length);\n\t\t} else {\n\t\t\tl = a.length;\n\t\t}\n\n\t\tfor (i = offset; i < l; i += stride) {\n\t\t\tvec[0] = a[i];\n\t\t\tvec[1] = a[i + 1];\n\t\t\tfn(vec, vec, arg);\n\t\t\ta[i] = vec[0];\n\t\t\ta[i + 1] = vec[1];\n\t\t}\n\n\t\treturn a;\n\t};\n}();\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/vec2.js?");

/***/ }),

/***/ "./src/util/gl-matrix/vec3.js":
/*!************************************!*\
  !*** ./src/util/gl-matrix/vec3.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"angle\": () => (/* binding */ angle),\n/* harmony export */   \"bezier\": () => (/* binding */ bezier),\n/* harmony export */   \"ceil\": () => (/* binding */ ceil),\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"copy\": () => (/* binding */ copy),\n/* harmony export */   \"create\": () => (/* binding */ create),\n/* harmony export */   \"cross\": () => (/* binding */ cross),\n/* harmony export */   \"dist\": () => (/* binding */ dist),\n/* harmony export */   \"distance\": () => (/* binding */ distance),\n/* harmony export */   \"div\": () => (/* binding */ div),\n/* harmony export */   \"divide\": () => (/* binding */ divide),\n/* harmony export */   \"dot\": () => (/* binding */ dot),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"exactEquals\": () => (/* binding */ exactEquals),\n/* harmony export */   \"floor\": () => (/* binding */ floor),\n/* harmony export */   \"forEach\": () => (/* binding */ forEach),\n/* harmony export */   \"fromValues\": () => (/* binding */ fromValues),\n/* harmony export */   \"hermite\": () => (/* binding */ hermite),\n/* harmony export */   \"inverse\": () => (/* binding */ inverse),\n/* harmony export */   \"len\": () => (/* binding */ len),\n/* harmony export */   \"length\": () => (/* binding */ length),\n/* harmony export */   \"lerp\": () => (/* binding */ lerp),\n/* harmony export */   \"max\": () => (/* binding */ max),\n/* harmony export */   \"min\": () => (/* binding */ min),\n/* harmony export */   \"mul\": () => (/* binding */ mul),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"negate\": () => (/* binding */ negate),\n/* harmony export */   \"normalize\": () => (/* binding */ normalize),\n/* harmony export */   \"random\": () => (/* binding */ random),\n/* harmony export */   \"rotateX\": () => (/* binding */ rotateX),\n/* harmony export */   \"rotateY\": () => (/* binding */ rotateY),\n/* harmony export */   \"rotateZ\": () => (/* binding */ rotateZ),\n/* harmony export */   \"round\": () => (/* binding */ round),\n/* harmony export */   \"scale\": () => (/* binding */ scale),\n/* harmony export */   \"scaleAndAdd\": () => (/* binding */ scaleAndAdd),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"slerp\": () => (/* binding */ slerp),\n/* harmony export */   \"sqrDist\": () => (/* binding */ sqrDist),\n/* harmony export */   \"sqrLen\": () => (/* binding */ sqrLen),\n/* harmony export */   \"squaredDistance\": () => (/* binding */ squaredDistance),\n/* harmony export */   \"squaredLength\": () => (/* binding */ squaredLength),\n/* harmony export */   \"str\": () => (/* binding */ str),\n/* harmony export */   \"sub\": () => (/* binding */ sub),\n/* harmony export */   \"subtract\": () => (/* binding */ subtract),\n/* harmony export */   \"transformMat3\": () => (/* binding */ transformMat3),\n/* harmony export */   \"transformMat4\": () => (/* binding */ transformMat4),\n/* harmony export */   \"transformQuat\": () => (/* binding */ transformQuat),\n/* harmony export */   \"zero\": () => (/* binding */ zero)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nfunction create() {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n\n\tif (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n\t\tout[0] = 0;\n\t\tout[1] = 0;\n\t\tout[2] = 0;\n\t}\n\n\treturn out;\n}\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nfunction clone(a) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\treturn out;\n}\n\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n\tvar x = a[0];\n\tvar y = a[1];\n\tvar z = a[2];\n\treturn Math.hypot(x, y, z);\n}\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nfunction fromValues(x, y, z) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n\tout[0] = x;\n\tout[1] = y;\n\tout[2] = z;\n\treturn out;\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nfunction copy(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\treturn out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nfunction set(out, x, y, z) {\n\tout[0] = x;\n\tout[1] = y;\n\tout[2] = z;\n\treturn out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction add(out, a, b) {\n\tout[0] = a[0] + b[0];\n\tout[1] = a[1] + b[1];\n\tout[2] = a[2] + b[2];\n\treturn out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction subtract(out, a, b) {\n\tout[0] = a[0] - b[0];\n\tout[1] = a[1] - b[1];\n\tout[2] = a[2] - b[2];\n\treturn out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction multiply(out, a, b) {\n\tout[0] = a[0] * b[0];\n\tout[1] = a[1] * b[1];\n\tout[2] = a[2] * b[2];\n\treturn out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction divide(out, a, b) {\n\tout[0] = a[0] / b[0];\n\tout[1] = a[1] / b[1];\n\tout[2] = a[2] / b[2];\n\treturn out;\n}\n\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nfunction ceil(out, a) {\n\tout[0] = Math.ceil(a[0]);\n\tout[1] = Math.ceil(a[1]);\n\tout[2] = Math.ceil(a[2]);\n\treturn out;\n}\n\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nfunction floor(out, a) {\n\tout[0] = Math.floor(a[0]);\n\tout[1] = Math.floor(a[1]);\n\tout[2] = Math.floor(a[2]);\n\treturn out;\n}\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction min(out, a, b) {\n\tout[0] = Math.min(a[0], b[0]);\n\tout[1] = Math.min(a[1], b[1]);\n\tout[2] = Math.min(a[2], b[2]);\n\treturn out;\n}\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction max(out, a, b) {\n\tout[0] = Math.max(a[0], b[0]);\n\tout[1] = Math.max(a[1], b[1]);\n\tout[2] = Math.max(a[2], b[2]);\n\treturn out;\n}\n\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nfunction round(out, a) {\n\tout[0] = Math.round(a[0]);\n\tout[1] = Math.round(a[1]);\n\tout[2] = Math.round(a[2]);\n\treturn out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nfunction scale(out, a, b) {\n\tout[0] = a[0] * b;\n\tout[1] = a[1] * b;\n\tout[2] = a[2] * b;\n\treturn out;\n}\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n\tout[0] = a[0] + b[0] * scale;\n\tout[1] = a[1] + b[1] * scale;\n\tout[2] = a[2] + b[2] * scale;\n\treturn out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n\tvar x = b[0] - a[0];\n\tvar y = b[1] - a[1];\n\tvar z = b[2] - a[2];\n\treturn Math.hypot(x, y, z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n\tvar x = b[0] - a[0];\n\tvar y = b[1] - a[1];\n\tvar z = b[2] - a[2];\n\treturn x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n\tvar x = a[0];\n\tvar y = a[1];\n\tvar z = a[2];\n\treturn x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nfunction negate(out, a) {\n\tout[0] = -a[0];\n\tout[1] = -a[1];\n\tout[2] = -a[2];\n\treturn out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nfunction inverse(out, a) {\n\tout[0] = 1.0 / a[0];\n\tout[1] = 1.0 / a[1];\n\tout[2] = 1.0 / a[2];\n\treturn out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nfunction normalize(out, a) {\n\tvar x = a[0];\n\tvar y = a[1];\n\tvar z = a[2];\n\tvar len = x * x + y * y + z * z;\n\n\tif (len > 0) {\n\t\t//TODO: evaluate use of glm_invsqrt here?\n\t\tlen = 1 / Math.sqrt(len);\n\t}\n\n\tout[0] = a[0] * len;\n\tout[1] = a[1] * len;\n\tout[2] = a[2] * len;\n\treturn out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n\treturn a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction cross(out, a, b) {\n\tvar ax = a[0],\n\t\tay = a[1],\n\t\taz = a[2];\n\tvar bx = b[0],\n\t\tby = b[1],\n\t\tbz = b[2];\n\tout[0] = ay * bz - az * by;\n\tout[1] = az * bx - ax * bz;\n\tout[2] = ax * by - ay * bx;\n\treturn out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction lerp(out, a, b, t) {\n\tvar ax = a[0];\n\tvar ay = a[1];\n\tvar az = a[2];\n\tout[0] = ax + t * (b[0] - ax);\n\tout[1] = ay + t * (b[1] - ay);\n\tout[2] = az + t * (b[2] - az);\n\treturn out;\n}\n\n/**\n * Performs a spherical linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction slerp(out, a, b, t) {\n\tvar angle = Math.acos(Math.min(Math.max(dot(a, b), -1), 1));\n\tvar sinTotal = Math.sin(angle);\n\tvar ratioA = Math.sin((1 - t) * angle) / sinTotal;\n\tvar ratioB = Math.sin(t * angle) / sinTotal;\n\tout[0] = ratioA * a[0] + ratioB * b[0];\n\tout[1] = ratioA * a[1] + ratioB * b[1];\n\tout[2] = ratioA * a[2] + ratioB * b[2];\n\treturn out;\n}\n\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction hermite(out, a, b, c, d, t) {\n\tvar factorTimes2 = t * t;\n\tvar factor1 = factorTimes2 * (2 * t - 3) + 1;\n\tvar factor2 = factorTimes2 * (t - 2) + t;\n\tvar factor3 = factorTimes2 * (t - 1);\n\tvar factor4 = factorTimes2 * (3 - 2 * t);\n\tout[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n\tout[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n\tout[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\treturn out;\n}\n\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction bezier(out, a, b, c, d, t) {\n\tvar inverseFactor = 1 - t;\n\tvar inverseFactorTimesTwo = inverseFactor * inverseFactor;\n\tvar factorTimes2 = t * t;\n\tvar factor1 = inverseFactorTimesTwo * inverseFactor;\n\tvar factor2 = 3 * t * inverseFactorTimesTwo;\n\tvar factor3 = 3 * factorTimes2 * inverseFactor;\n\tvar factor4 = factorTimes2 * t;\n\tout[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n\tout[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n\tout[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\treturn out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If omitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nfunction random(out, scale) {\n\tscale = scale === undefined ? 1.0 : scale;\n\tvar r = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 * Math.PI;\n\tvar z = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 - 1.0;\n\tvar zScale = Math.sqrt(1.0 - z * z) * scale;\n\tout[0] = Math.cos(r) * zScale;\n\tout[1] = Math.sin(r) * zScale;\n\tout[2] = z * scale;\n\treturn out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nfunction transformMat4(out, a, m) {\n\tvar x = a[0],\n\t\ty = a[1],\n\t\tz = a[2];\n\tvar w = m[3] * x + m[7] * y + m[11] * z + m[15];\n\tw = w || 1.0;\n\tout[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n\tout[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n\tout[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n\treturn out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nfunction transformMat3(out, a, m) {\n\tvar x = a[0],\n\t\ty = a[1],\n\t\tz = a[2];\n\tout[0] = x * m[0] + y * m[3] + z * m[6];\n\tout[1] = x * m[1] + y * m[4] + z * m[7];\n\tout[2] = x * m[2] + y * m[5] + z * m[8];\n\treturn out;\n}\n\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nfunction transformQuat(out, a, q) {\n\t// benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n\tvar qx = q[0],\n\t\tqy = q[1],\n\t\tqz = q[2],\n\t\tqw = q[3];\n\tvar x = a[0],\n\t\ty = a[1],\n\t\tz = a[2]; // var qvec = [qx, qy, qz];\n\t// var uv = vec3.cross([], qvec, a);\n\n\tvar uvx = qy * z - qz * y,\n\t\tuvy = qz * x - qx * z,\n\t\tuvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n\tvar uuvx = qy * uvz - qz * uvy,\n\t\tuuvy = qz * uvx - qx * uvz,\n\t\tuuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n\tvar w2 = qw * 2;\n\tuvx *= w2;\n\tuvy *= w2;\n\tuvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n\tuuvx *= 2;\n\tuuvy *= 2;\n\tuuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n\tout[0] = x + uvx + uuvx;\n\tout[1] = y + uvy + uuvy;\n\tout[2] = z + uvz + uuvz;\n\treturn out;\n}\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateX(out, a, b, rad) {\n\tvar p = [],\n\t\tr = []; //Translate point to the origin\n\n\tp[0] = a[0] - b[0];\n\tp[1] = a[1] - b[1];\n\tp[2] = a[2] - b[2]; //perform rotation\n\n\tr[0] = p[0];\n\tr[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n\tr[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n\tout[0] = r[0] + b[0];\n\tout[1] = r[1] + b[1];\n\tout[2] = r[2] + b[2];\n\treturn out;\n}\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateY(out, a, b, rad) {\n\tvar p = [],\n\t\tr = []; //Translate point to the origin\n\n\tp[0] = a[0] - b[0];\n\tp[1] = a[1] - b[1];\n\tp[2] = a[2] - b[2]; //perform rotation\n\n\tr[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n\tr[1] = p[1];\n\tr[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n\tout[0] = r[0] + b[0];\n\tout[1] = r[1] + b[1];\n\tout[2] = r[2] + b[2];\n\treturn out;\n}\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateZ(out, a, b, rad) {\n\tvar p = [],\n\t\tr = []; //Translate point to the origin\n\n\tp[0] = a[0] - b[0];\n\tp[1] = a[1] - b[1];\n\tp[2] = a[2] - b[2]; //perform rotation\n\n\tr[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n\tr[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n\tr[2] = p[2]; //translate to correct position\n\n\tout[0] = r[0] + b[0];\n\tout[1] = r[1] + b[1];\n\tout[2] = r[2] + b[2];\n\treturn out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nfunction angle(a, b) {\n\tvar ax = a[0],\n\t\tay = a[1],\n\t\taz = a[2],\n\t\tbx = b[0],\n\t\tby = b[1],\n\t\tbz = b[2],\n\t\tmag = Math.sqrt((ax * ax + ay * ay + az * az) * (bx * bx + by * by + bz * bz)),\n\t\tcosine = mag && dot(a, b) / mag;\n\treturn Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nfunction zero(out) {\n\tout[0] = 0.0;\n\tout[1] = 0.0;\n\tout[2] = 0.0;\n\treturn out;\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n\treturn \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n\treturn a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2];\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2];\n\treturn Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n\tvar vec = create();\n\treturn function (a, stride, offset, count, fn, arg) {\n\t\tvar i, l;\n\n\t\tif (!stride) {\n\t\t\tstride = 3;\n\t\t}\n\n\t\tif (!offset) {\n\t\t\toffset = 0;\n\t\t}\n\n\t\tif (count) {\n\t\t\tl = Math.min(count * stride + offset, a.length);\n\t\t} else {\n\t\t\tl = a.length;\n\t\t}\n\n\t\tfor (i = offset; i < l; i += stride) {\n\t\t\tvec[0] = a[i];\n\t\t\tvec[1] = a[i + 1];\n\t\t\tvec[2] = a[i + 2];\n\t\t\tfn(vec, vec, arg);\n\t\t\ta[i] = vec[0];\n\t\t\ta[i + 1] = vec[1];\n\t\t\ta[i + 2] = vec[2];\n\t\t}\n\n\t\treturn a;\n\t};\n}();\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/vec3.js?");

/***/ }),

/***/ "./src/util/gl-matrix/vec4.js":
/*!************************************!*\
  !*** ./src/util/gl-matrix/vec4.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"ceil\": () => (/* binding */ ceil),\n/* harmony export */   \"clone\": () => (/* binding */ clone),\n/* harmony export */   \"copy\": () => (/* binding */ copy),\n/* harmony export */   \"create\": () => (/* binding */ create),\n/* harmony export */   \"cross\": () => (/* binding */ cross),\n/* harmony export */   \"dist\": () => (/* binding */ dist),\n/* harmony export */   \"distance\": () => (/* binding */ distance),\n/* harmony export */   \"div\": () => (/* binding */ div),\n/* harmony export */   \"divide\": () => (/* binding */ divide),\n/* harmony export */   \"dot\": () => (/* binding */ dot),\n/* harmony export */   \"equals\": () => (/* binding */ equals),\n/* harmony export */   \"exactEquals\": () => (/* binding */ exactEquals),\n/* harmony export */   \"floor\": () => (/* binding */ floor),\n/* harmony export */   \"forEach\": () => (/* binding */ forEach),\n/* harmony export */   \"fromValues\": () => (/* binding */ fromValues),\n/* harmony export */   \"inverse\": () => (/* binding */ inverse),\n/* harmony export */   \"len\": () => (/* binding */ len),\n/* harmony export */   \"length\": () => (/* binding */ length),\n/* harmony export */   \"lerp\": () => (/* binding */ lerp),\n/* harmony export */   \"max\": () => (/* binding */ max),\n/* harmony export */   \"min\": () => (/* binding */ min),\n/* harmony export */   \"mul\": () => (/* binding */ mul),\n/* harmony export */   \"multiply\": () => (/* binding */ multiply),\n/* harmony export */   \"negate\": () => (/* binding */ negate),\n/* harmony export */   \"normalize\": () => (/* binding */ normalize),\n/* harmony export */   \"random\": () => (/* binding */ random),\n/* harmony export */   \"round\": () => (/* binding */ round),\n/* harmony export */   \"scale\": () => (/* binding */ scale),\n/* harmony export */   \"scaleAndAdd\": () => (/* binding */ scaleAndAdd),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"sqrDist\": () => (/* binding */ sqrDist),\n/* harmony export */   \"sqrLen\": () => (/* binding */ sqrLen),\n/* harmony export */   \"squaredDistance\": () => (/* binding */ squaredDistance),\n/* harmony export */   \"squaredLength\": () => (/* binding */ squaredLength),\n/* harmony export */   \"str\": () => (/* binding */ str),\n/* harmony export */   \"sub\": () => (/* binding */ sub),\n/* harmony export */   \"subtract\": () => (/* binding */ subtract),\n/* harmony export */   \"transformMat4\": () => (/* binding */ transformMat4),\n/* harmony export */   \"transformQuat\": () => (/* binding */ transformQuat),\n/* harmony export */   \"zero\": () => (/* binding */ zero)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./src/util/gl-matrix/common.js\");\n\n\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nfunction create() {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\n\tif (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n\t\tout[0] = 0;\n\t\tout[1] = 0;\n\t\tout[2] = 0;\n\t\tout[3] = 0;\n\t}\n\n\treturn out;\n}\n\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nfunction clone(a) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\treturn out;\n}\n\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nfunction fromValues(x, y, z, w) {\n\tvar out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\tout[0] = x;\n\tout[1] = y;\n\tout[2] = z;\n\tout[3] = w;\n\treturn out;\n}\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nfunction copy(out, a) {\n\tout[0] = a[0];\n\tout[1] = a[1];\n\tout[2] = a[2];\n\tout[3] = a[3];\n\treturn out;\n}\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nfunction set(out, x, y, z, w) {\n\tout[0] = x;\n\tout[1] = y;\n\tout[2] = z;\n\tout[3] = w;\n\treturn out;\n}\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction add(out, a, b) {\n\tout[0] = a[0] + b[0];\n\tout[1] = a[1] + b[1];\n\tout[2] = a[2] + b[2];\n\tout[3] = a[3] + b[3];\n\treturn out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction subtract(out, a, b) {\n\tout[0] = a[0] - b[0];\n\tout[1] = a[1] - b[1];\n\tout[2] = a[2] - b[2];\n\tout[3] = a[3] - b[3];\n\treturn out;\n}\n\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction multiply(out, a, b) {\n\tout[0] = a[0] * b[0];\n\tout[1] = a[1] * b[1];\n\tout[2] = a[2] * b[2];\n\tout[3] = a[3] * b[3];\n\treturn out;\n}\n\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction divide(out, a, b) {\n\tout[0] = a[0] / b[0];\n\tout[1] = a[1] / b[1];\n\tout[2] = a[2] / b[2];\n\tout[3] = a[3] / b[3];\n\treturn out;\n}\n\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nfunction ceil(out, a) {\n\tout[0] = Math.ceil(a[0]);\n\tout[1] = Math.ceil(a[1]);\n\tout[2] = Math.ceil(a[2]);\n\tout[3] = Math.ceil(a[3]);\n\treturn out;\n}\n\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nfunction floor(out, a) {\n\tout[0] = Math.floor(a[0]);\n\tout[1] = Math.floor(a[1]);\n\tout[2] = Math.floor(a[2]);\n\tout[3] = Math.floor(a[3]);\n\treturn out;\n}\n\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction min(out, a, b) {\n\tout[0] = Math.min(a[0], b[0]);\n\tout[1] = Math.min(a[1], b[1]);\n\tout[2] = Math.min(a[2], b[2]);\n\tout[3] = Math.min(a[3], b[3]);\n\treturn out;\n}\n\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction max(out, a, b) {\n\tout[0] = Math.max(a[0], b[0]);\n\tout[1] = Math.max(a[1], b[1]);\n\tout[2] = Math.max(a[2], b[2]);\n\tout[3] = Math.max(a[3], b[3]);\n\treturn out;\n}\n\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nfunction round(out, a) {\n\tout[0] = Math.round(a[0]);\n\tout[1] = Math.round(a[1]);\n\tout[2] = Math.round(a[2]);\n\tout[3] = Math.round(a[3]);\n\treturn out;\n}\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nfunction scale(out, a, b) {\n\tout[0] = a[0] * b;\n\tout[1] = a[1] * b;\n\tout[2] = a[2] * b;\n\tout[3] = a[3] * b;\n\treturn out;\n}\n\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n\tout[0] = a[0] + b[0] * scale;\n\tout[1] = a[1] + b[1] * scale;\n\tout[2] = a[2] + b[2] * scale;\n\tout[3] = a[3] + b[3] * scale;\n\treturn out;\n}\n\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n\tvar x = b[0] - a[0];\n\tvar y = b[1] - a[1];\n\tvar z = b[2] - a[2];\n\tvar w = b[3] - a[3];\n\treturn Math.hypot(x, y, z, w);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n\tvar x = b[0] - a[0];\n\tvar y = b[1] - a[1];\n\tvar z = b[2] - a[2];\n\tvar w = b[3] - a[3];\n\treturn x * x + y * y + z * z + w * w;\n}\n\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n\tvar x = a[0];\n\tvar y = a[1];\n\tvar z = a[2];\n\tvar w = a[3];\n\treturn Math.hypot(x, y, z, w);\n}\n\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n\tvar x = a[0];\n\tvar y = a[1];\n\tvar z = a[2];\n\tvar w = a[3];\n\treturn x * x + y * y + z * z + w * w;\n}\n\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nfunction negate(out, a) {\n\tout[0] = -a[0];\n\tout[1] = -a[1];\n\tout[2] = -a[2];\n\tout[3] = -a[3];\n\treturn out;\n}\n\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nfunction inverse(out, a) {\n\tout[0] = 1.0 / a[0];\n\tout[1] = 1.0 / a[1];\n\tout[2] = 1.0 / a[2];\n\tout[3] = 1.0 / a[3];\n\treturn out;\n}\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nfunction normalize(out, a) {\n\tvar x = a[0];\n\tvar y = a[1];\n\tvar z = a[2];\n\tvar w = a[3];\n\tvar len = x * x + y * y + z * z + w * w;\n\n\tif (len > 0) {\n\t\tlen = 1 / Math.sqrt(len);\n\t}\n\n\tout[0] = x * len;\n\tout[1] = y * len;\n\tout[2] = z * len;\n\tout[3] = w * len;\n\treturn out;\n}\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n\treturn a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nfunction cross(out, u, v, w) {\n\tvar A = v[0] * w[1] - v[1] * w[0],\n\t\tB = v[0] * w[2] - v[2] * w[0],\n\t\tC = v[0] * w[3] - v[3] * w[0],\n\t\tD = v[1] * w[2] - v[2] * w[1],\n\t\tE = v[1] * w[3] - v[3] * w[1],\n\t\tF = v[2] * w[3] - v[3] * w[2];\n\tvar G = u[0];\n\tvar H = u[1];\n\tvar I = u[2];\n\tvar J = u[3];\n\tout[0] = H * F - I * E + J * D;\n\tout[1] = -(G * F) + I * C - J * B;\n\tout[2] = G * E - H * C + J * A;\n\tout[3] = -(G * D) + H * B - I * A;\n\treturn out;\n}\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nfunction lerp(out, a, b, t) {\n\tvar ax = a[0];\n\tvar ay = a[1];\n\tvar az = a[2];\n\tvar aw = a[3];\n\tout[0] = ax + t * (b[0] - ax);\n\tout[1] = ay + t * (b[1] - ay);\n\tout[2] = az + t * (b[2] - az);\n\tout[3] = aw + t * (b[3] - aw);\n\treturn out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If omitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nfunction random(out, scale) {\n\tscale = scale === undefined ? 1.0 : scale; // Marsaglia, George. Choosing a Point from the Surface of a\n\t// Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n\t// http://projecteuclid.org/euclid.aoms/1177692644;\n\n\tvar v1, v2, v3, v4;\n\tvar s1, s2;\n\n\tdo {\n\t\tv1 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n\t\tv2 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n\t\ts1 = v1 * v1 + v2 * v2;\n\t} while (s1 >= 1);\n\n\tdo {\n\t\tv3 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n\t\tv4 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n\t\ts2 = v3 * v3 + v4 * v4;\n\t} while (s2 >= 1);\n\n\tvar d = Math.sqrt((1 - s1) / s2);\n\tout[0] = scale * v1;\n\tout[1] = scale * v2;\n\tout[2] = scale * v3 * d;\n\tout[3] = scale * v4 * d;\n\treturn out;\n}\n\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nfunction transformMat4(out, a, m) {\n\tvar x = a[0],\n\t\ty = a[1],\n\t\tz = a[2],\n\t\tw = a[3];\n\tout[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n\tout[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n\tout[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n\tout[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n\treturn out;\n}\n\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nfunction transformQuat(out, a, q) {\n\tvar x = a[0],\n\t\ty = a[1],\n\t\tz = a[2];\n\tvar qx = q[0],\n\t\tqy = q[1],\n\t\tqz = q[2],\n\t\tqw = q[3]; // calculate quat * vec\n\n\tvar ix = qw * x + qy * z - qz * y;\n\tvar iy = qw * y + qz * x - qx * z;\n\tvar iz = qw * z + qx * y - qy * x;\n\tvar iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n\tout[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n\tout[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n\tout[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\tout[3] = a[3];\n\treturn out;\n}\n\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nfunction zero(out) {\n\tout[0] = 0.0;\n\tout[1] = 0.0;\n\tout[2] = 0.0;\n\tout[3] = 0.0;\n\treturn out;\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n\treturn \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n\treturn a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n\tvar a0 = a[0],\n\t\ta1 = a[1],\n\t\ta2 = a[2],\n\t\ta3 = a[3];\n\tvar b0 = b[0],\n\t\tb1 = b[1],\n\t\tb2 = b[2],\n\t\tb3 = b[3];\n\treturn Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n\tvar vec = create();\n\treturn function (a, stride, offset, count, fn, arg) {\n\t\tvar i, l;\n\n\t\tif (!stride) {\n\t\t\tstride = 4;\n\t\t}\n\n\t\tif (!offset) {\n\t\t\toffset = 0;\n\t\t}\n\n\t\tif (count) {\n\t\t\tl = Math.min(count * stride + offset, a.length);\n\t\t} else {\n\t\t\tl = a.length;\n\t\t}\n\n\t\tfor (i = offset; i < l; i += stride) {\n\t\t\tvec[0] = a[i];\n\t\t\tvec[1] = a[i + 1];\n\t\t\tvec[2] = a[i + 2];\n\t\t\tvec[3] = a[i + 3];\n\t\t\tfn(vec, vec, arg);\n\t\t\ta[i] = vec[0];\n\t\t\ta[i + 1] = vec[1];\n\t\t\ta[i + 2] = vec[2];\n\t\t\ta[i + 3] = vec[3];\n\t\t}\n\n\t\treturn a;\n\t};\n}();\n\n//# sourceURL=webpack://RedGPU/./src/util/gl-matrix/vec4.js?");

/***/ }),

/***/ "./src/util/index.js":
/*!***************************!*\
  !*** ./src/util/index.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeViewFrustumPlanes\": () => (/* reexport safe */ _computeViewFrustumPlanes__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"getConstructorName\": () => (/* reexport safe */ _getConstructorName__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"hexadecimalToRgb\": () => (/* reexport safe */ _color__WEBPACK_IMPORTED_MODULE_3__.hexadecimalToRgb),\n/* harmony export */   \"throwError\": () => (/* reexport safe */ _errorFunc__WEBPACK_IMPORTED_MODULE_2__.throwError),\n/* harmony export */   \"throwErrorInstanceOf\": () => (/* reexport safe */ _errorFunc__WEBPACK_IMPORTED_MODULE_2__.throwErrorInstanceOf),\n/* harmony export */   \"throwErrorNumberType\": () => (/* reexport safe */ _errorFunc__WEBPACK_IMPORTED_MODULE_2__.throwErrorNumberType)\n/* harmony export */ });\n/* harmony import */ var _getConstructorName__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getConstructorName */ \"./src/util/getConstructorName.ts\");\n/* harmony import */ var _computeViewFrustumPlanes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./computeViewFrustumPlanes */ \"./src/util/computeViewFrustumPlanes.ts\");\n/* harmony import */ var _errorFunc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errorFunc */ \"./src/util/errorFunc/index.ts\");\n/* harmony import */ var _color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./color */ \"./src/util/color/index.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://RedGPU/./src/util/index.js?");

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
/******/ 
/******/ // startup
/******/ // Load entry module and return exports
/******/ // This entry module can't be inlined because the eval devtool is used.
/******/ var __webpack_exports__ = __webpack_require__("./src/RedGPU.ts");
/******/ var __webpack_exports__AmbientLight = __webpack_exports__.AmbientLight;
/******/ var __webpack_exports__Axis = __webpack_exports__.Axis;
/******/ var __webpack_exports__BaseLight = __webpack_exports__.BaseLight;
/******/ var __webpack_exports__BaseObject3D = __webpack_exports__.BaseObject3D;
/******/ var __webpack_exports__BaseObject3DPipeline = __webpack_exports__.BaseObject3DPipeline;
/******/ var __webpack_exports__BasicCamera = __webpack_exports__.BasicCamera;
/******/ var __webpack_exports__BitmapCubeTexture = __webpack_exports__.BitmapCubeTexture;
/******/ var __webpack_exports__BitmapMaterial = __webpack_exports__.BitmapMaterial;
/******/ var __webpack_exports__BitmapTexture = __webpack_exports__.BitmapTexture;
/******/ var __webpack_exports__Box = __webpack_exports__.Box;
/******/ var __webpack_exports__CONST_DIRTY_TRANSFORM_STATE = __webpack_exports__.CONST_DIRTY_TRANSFORM_STATE;
/******/ var __webpack_exports__ColorMaterial = __webpack_exports__.ColorMaterial;
/******/ var __webpack_exports__DirectionalLight = __webpack_exports__.DirectionalLight;
/******/ var __webpack_exports__Geometry = __webpack_exports__.Geometry;
/******/ var __webpack_exports__Grid = __webpack_exports__.Grid;
/******/ var __webpack_exports__IndexBuffer = __webpack_exports__.IndexBuffer;
/******/ var __webpack_exports__InterleaveInfo = __webpack_exports__.InterleaveInfo;
/******/ var __webpack_exports__InterleaveUnit = __webpack_exports__.InterleaveUnit;
/******/ var __webpack_exports__LightManager = __webpack_exports__.LightManager;
/******/ var __webpack_exports__Mesh = __webpack_exports__.Mesh;
/******/ var __webpack_exports__NormalHelper = __webpack_exports__.NormalHelper;
/******/ var __webpack_exports__PassLightClusters = __webpack_exports__.PassLightClusters;
/******/ var __webpack_exports__PassLightClustersBound = __webpack_exports__.PassLightClustersBound;
/******/ var __webpack_exports__PassLightClustersHelper = __webpack_exports__.PassLightClustersHelper;
/******/ var __webpack_exports__PointLight = __webpack_exports__.PointLight;
/******/ var __webpack_exports__RedGPUContext = __webpack_exports__.RedGPUContext;
/******/ var __webpack_exports__RedGPUContextBase = __webpack_exports__.RedGPUContextBase;
/******/ var __webpack_exports__RedGPUContextResourceManager = __webpack_exports__.RedGPUContextResourceManager;
/******/ var __webpack_exports__Renderer = __webpack_exports__.Renderer;
/******/ var __webpack_exports__SHADER_DEFINE = __webpack_exports__.SHADER_DEFINE;
/******/ var __webpack_exports__Scene = __webpack_exports__.Scene;
/******/ var __webpack_exports__SkyBox = __webpack_exports__.SkyBox;
/******/ var __webpack_exports__SkyBoxMaterial = __webpack_exports__.SkyBoxMaterial;
/******/ var __webpack_exports__Sphere = __webpack_exports__.Sphere;
/******/ var __webpack_exports__TextureSampler = __webpack_exports__.TextureSampler;
/******/ var __webpack_exports__TypeSize = __webpack_exports__.TypeSize;
/******/ var __webpack_exports__UniformBufferDescriptor = __webpack_exports__.UniformBufferDescriptor;
/******/ var __webpack_exports__UniformBufferFloat32 = __webpack_exports__.UniformBufferFloat32;
/******/ var __webpack_exports__VertexBuffer = __webpack_exports__.VertexBuffer;
/******/ var __webpack_exports__View = __webpack_exports__.View;
/******/ var __webpack_exports__ViewDebugger = __webpack_exports__.ViewDebugger;
/******/ var __webpack_exports__computeViewFrustumPlanes = __webpack_exports__.computeViewFrustumPlanes;
/******/ var __webpack_exports__getConstructorName = __webpack_exports__.getConstructorName;
/******/ var __webpack_exports__glMatrix = __webpack_exports__.glMatrix;
/******/ var __webpack_exports__hexadecimalToRgb = __webpack_exports__.hexadecimalToRgb;
/******/ var __webpack_exports__init = __webpack_exports__.init;
/******/ var __webpack_exports__mat2 = __webpack_exports__.mat2;
/******/ var __webpack_exports__mat2d = __webpack_exports__.mat2d;
/******/ var __webpack_exports__mat3 = __webpack_exports__.mat3;
/******/ var __webpack_exports__mat4 = __webpack_exports__.mat4;
/******/ var __webpack_exports__quat = __webpack_exports__.quat;
/******/ var __webpack_exports__quat2 = __webpack_exports__.quat2;
/******/ var __webpack_exports__throwError = __webpack_exports__.throwError;
/******/ var __webpack_exports__throwErrorInstanceOf = __webpack_exports__.throwErrorInstanceOf;
/******/ var __webpack_exports__throwErrorNumberType = __webpack_exports__.throwErrorNumberType;
/******/ var __webpack_exports__vec2 = __webpack_exports__.vec2;
/******/ var __webpack_exports__vec3 = __webpack_exports__.vec3;
/******/ var __webpack_exports__vec4 = __webpack_exports__.vec4;
/******/ export { __webpack_exports__AmbientLight as AmbientLight, __webpack_exports__Axis as Axis, __webpack_exports__BaseLight as BaseLight, __webpack_exports__BaseObject3D as BaseObject3D, __webpack_exports__BaseObject3DPipeline as BaseObject3DPipeline, __webpack_exports__BasicCamera as BasicCamera, __webpack_exports__BitmapCubeTexture as BitmapCubeTexture, __webpack_exports__BitmapMaterial as BitmapMaterial, __webpack_exports__BitmapTexture as BitmapTexture, __webpack_exports__Box as Box, __webpack_exports__CONST_DIRTY_TRANSFORM_STATE as CONST_DIRTY_TRANSFORM_STATE, __webpack_exports__ColorMaterial as ColorMaterial, __webpack_exports__DirectionalLight as DirectionalLight, __webpack_exports__Geometry as Geometry, __webpack_exports__Grid as Grid, __webpack_exports__IndexBuffer as IndexBuffer, __webpack_exports__InterleaveInfo as InterleaveInfo, __webpack_exports__InterleaveUnit as InterleaveUnit, __webpack_exports__LightManager as LightManager, __webpack_exports__Mesh as Mesh, __webpack_exports__NormalHelper as NormalHelper, __webpack_exports__PassLightClusters as PassLightClusters, __webpack_exports__PassLightClustersBound as PassLightClustersBound, __webpack_exports__PassLightClustersHelper as PassLightClustersHelper, __webpack_exports__PointLight as PointLight, __webpack_exports__RedGPUContext as RedGPUContext, __webpack_exports__RedGPUContextBase as RedGPUContextBase, __webpack_exports__RedGPUContextResourceManager as RedGPUContextResourceManager, __webpack_exports__Renderer as Renderer, __webpack_exports__SHADER_DEFINE as SHADER_DEFINE, __webpack_exports__Scene as Scene, __webpack_exports__SkyBox as SkyBox, __webpack_exports__SkyBoxMaterial as SkyBoxMaterial, __webpack_exports__Sphere as Sphere, __webpack_exports__TextureSampler as TextureSampler, __webpack_exports__TypeSize as TypeSize, __webpack_exports__UniformBufferDescriptor as UniformBufferDescriptor, __webpack_exports__UniformBufferFloat32 as UniformBufferFloat32, __webpack_exports__VertexBuffer as VertexBuffer, __webpack_exports__View as View, __webpack_exports__ViewDebugger as ViewDebugger, __webpack_exports__computeViewFrustumPlanes as computeViewFrustumPlanes, __webpack_exports__getConstructorName as getConstructorName, __webpack_exports__glMatrix as glMatrix, __webpack_exports__hexadecimalToRgb as hexadecimalToRgb, __webpack_exports__init as init, __webpack_exports__mat2 as mat2, __webpack_exports__mat2d as mat2d, __webpack_exports__mat3 as mat3, __webpack_exports__mat4 as mat4, __webpack_exports__quat as quat, __webpack_exports__quat2 as quat2, __webpack_exports__throwError as throwError, __webpack_exports__throwErrorInstanceOf as throwErrorInstanceOf, __webpack_exports__throwErrorNumberType as throwErrorNumberType, __webpack_exports__vec2 as vec2, __webpack_exports__vec3 as vec3, __webpack_exports__vec4 as vec4 };
/******/ 
