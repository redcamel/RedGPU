import{_ as e,a,b as i,c as s}from"./chunks/acesNark.CWowxZ7N.js";import{f as n,o as l,c as o,a2 as r}from"./chunks/framework.DZW1bhNM.js";const u=JSON.parse('{"title":"Tone Mapping","description":"","frontmatter":{"title":"Tone Mapping","order":3},"headers":[],"relativePath":"en/post-effect/tone-mapping.md","filePath":"en/post-effect/tone-mapping.md","lastUpdated":1770713971000}'),d={name:"en/post-effect/tone-mapping.md"};function p(h,t,g,c,k,m){return l(),o("div",null,[...t[0]||(t[0]=[r(`<h1 id="tone-mapping" tabindex="-1">Tone Mapping <a class="header-anchor" href="#tone-mapping" aria-label="Permalink to &quot;Tone Mapping&quot;">​</a></h1><p>Tone mapping is the process of converting the wide range of brightness in HDR images to a range that can be expressed on standard monitors. It acts as the <strong>Entry Point</strong> of the post-processing pipeline and determines the overall atmosphere of the scene.</p><h2 id="_1-tonemappingmanager" tabindex="-1">1. ToneMappingManager <a class="header-anchor" href="#_1-tonemappingmanager" aria-label="Permalink to &quot;1. ToneMappingManager&quot;">​</a></h2><p>All settings are made through <code>view.toneMappingManager</code>. It is automatically included when a <code>View3D</code> is created, so no separate instance creation is necessary.</p><h3 id="default-settings" tabindex="-1">Default Settings <a class="header-anchor" href="#default-settings" aria-label="Permalink to &quot;Default Settings&quot;">​</a></h3><p>RedGPU adopts <strong>Khronos PBR Neutral</strong>, optimized for physically based rendering, as its default algorithm.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Property</th><th style="text-align:left;">Default Value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>mode</code></td><td style="text-align:left;"><code>KHRONOS_PBR_NEUTRAL</code></td><td style="text-align:left;">Tone mapping algorithm (<code>RedGPU.ToneMapping.TONE_MAPPING_MODE</code>)</td></tr><tr><td style="text-align:left;"><code>exposure</code></td><td style="text-align:left;"><code>1.0</code></td><td style="text-align:left;">Exposure value (brightness intensity)</td></tr><tr><td style="text-align:left;"><code>contrast</code></td><td style="text-align:left;"><code>1.0</code></td><td style="text-align:left;">Brightness contrast (0.0 ~ 2.0)</td></tr><tr><td style="text-align:left;"><code>brightness</code></td><td style="text-align:left;"><code>0.0</code></td><td style="text-align:left;">Brightness correction (-1.0 ~ 1.0)</td></tr></tbody></table><h2 id="_2-changing-settings" tabindex="-1">2. Changing Settings <a class="header-anchor" href="#_2-changing-settings" aria-label="Permalink to &quot;2. Changing Settings&quot;">​</a></h2><h3 id="_2-1-tone-mapping-mode-mode" tabindex="-1">2.1 Tone Mapping Mode (mode) <a class="header-anchor" href="#_2-1-tone-mapping-mode-mode" aria-label="Permalink to &quot;2.1 Tone Mapping Mode (mode)&quot;">​</a></h3><p>Select the algorithm according to the desired visual style. All constant values are defined in the <code>RedGPU.ToneMapping.TONE_MAPPING_MODE</code> object.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Apply strong contrast and cinematic color like a movie</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view.toneMappingManager.mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RedGPU.ToneMapping.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TONE_MAPPING_MODE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ACES_FILMIC_HILL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p><strong>Available Mode Constants and Visual Differences:</strong></p><table tabindex="0"><thead><tr><th style="text-align:left;">Mode (Constant)</th><th style="text-align:left;">Description</th><th style="text-align:left;">Comparison Image</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>LINEAR</strong></td><td style="text-align:left;">Linear transformation without correction</td><td style="text-align:left;"><img src="`+e+'" alt="Linear"></td></tr><tr><td style="text-align:left;"><strong>KHRONOS_PBR_NEUTRAL</strong></td><td style="text-align:left;">Physically based standard (Default)</td><td style="text-align:left;"><img src="'+a+'" alt="Khronos"></td></tr><tr><td style="text-align:left;"><strong>ACES_FILMIC_HILL</strong></td><td style="text-align:left;">Cinematic contrast (Hill version)</td><td style="text-align:left;"><img src="'+i+'" alt="ACES Hill"></td></tr><tr><td style="text-align:left;"><strong>ACES_FILMIC_NARKOWICZ</strong></td><td style="text-align:left;">Cinematic contrast (Narkowicz version)</td><td style="text-align:left;"><img src="'+s+`" alt="ACES Nark"></td></tr></tbody></table><h3 id="_2-2-adjusting-detailed-properties" tabindex="-1">2.2 Adjusting Detailed Properties <a class="header-anchor" href="#_2-2-adjusting-detailed-properties" aria-label="Permalink to &quot;2.2 Adjusting Detailed Properties&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> view.toneMappingManager;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tm.exposure </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Increase overall exposure</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tm.contrast </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.05</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Fine-tune brightness contrast</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tm.brightness </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.02</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Correct shadow brightness</span></span></code></pre></div><h2 id="key-summary" tabindex="-1">Key Summary <a class="header-anchor" href="#key-summary" aria-label="Permalink to &quot;Key Summary&quot;">​</a></h2><ul><li>Tone mapping is managed with separate configuration (<code>ToneMappingManager</code>) and execution (<code>PostEffectManager</code>).</li><li>It is executed at the <strong>very first stage</strong> of the post-processing pipeline.</li><li>It is a core window for controlling exposure and contrast, determining the first impression of the scene.</li></ul><h2 id="next-learning-recommendations" tabindex="-1">Next Learning Recommendations <a class="header-anchor" href="#next-learning-recommendations" aria-label="Permalink to &quot;Next Learning Recommendations&quot;">​</a></h2><ul><li><strong><a href="./builtin-effects.html">Built-in Effects</a></strong></li><li><strong><a href="./general-effects.html">General Effects</a></strong></li></ul>`,19)])])}const E=n(d,[["render",p]]);export{u as __pageData,E as default};
