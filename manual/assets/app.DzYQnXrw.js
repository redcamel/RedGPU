import{u as _,a5 as E,x as w,_ as P,y as T,c as S,n as b,q as y,o as R,S as f,a6 as x,a7 as D,a8 as L,a9 as M,aa as I,ab as k,ac as O,ad as B,ae as $,af as q,d as U,v as V,ag as j,ah as F,ai as H,a4 as z}from"./chunks/framework.DZW1bhNM.js";import{aA as u,aB as N}from"./chunks/theme.B7bY9Z0b.js";const G=async a=>{try{u.registerExternalDiagrams&&await u.registerExternalDiagrams(a)}catch(e){console.error(e)}},W=async(a,e,t)=>{u.initialize(t);const{svg:s}=await u.render(a,e);return s},J=["innerHTML"],K={__name:"Mermaid",props:{graph:{type:String,required:!0},id:{type:String,required:!0},class:{type:String,required:!1,default:"mermaid"}},setup(a){const e=y({securityLevel:"loose",startOnLoad:!1,externalDiagrams:[]}),{page:t}=_(),{frontmatter:s}=E(t.value),g=s.mermaidTheme||"",i=a,h=y(null);let p=null;w(async()=>{var l;await G(e.value.externalDiagrams);let n=await P(()=>import("./chunks/virtual_mermaid-config.DVL99QaB.js"),[]);n!=null&&n.default&&(e.value=n.default),p=new MutationObserver(async()=>await m()),p.observe(document.documentElement,{attributes:!0}),await m(),((l=/<img([\w\W]+?)>/.exec(decodeURIComponent(i.graph)))==null?void 0:l.length)>0&&setTimeout(()=>{let d=document.getElementsByTagName("img"),v=Array.from(d);v.length&&Promise.all(v.filter(c=>!c.complete).map(c=>new Promise(C=>{c.onload=c.onerror=C}))).then(async()=>{await m()})},100)}),T(()=>p.disconnect());const m=async()=>{const n=document.documentElement.classList.contains("dark");let o={...e.value};g&&(o.theme=g),n&&(o.theme="dark");let l=await W(i.id,decodeURIComponent(i.graph),o);const d=Math.random().toString(36).substring(7);h.value=`${l} <span style="display: none">${d}</span>`};return(n,o)=>(R(),S("div",{innerHTML:h.value,class:b(i.class)},null,10,J))}};function A(a){if(a.extends){const e=A(a.extends);return{...e,...a,async enhanceApp(t){e.enhanceApp&&await e.enhanceApp(t),a.enhanceApp&&await a.enhanceApp(t)}}}return a}const r=A(N),Q=U({name:"VitePressApp",setup(){const{site:a,lang:e,dir:t}=_();return w(()=>{V(()=>{document.documentElement.lang=e.value,document.documentElement.dir=t.value})}),a.value.router.prefetchLinks&&j(),F(),H(),r.setup&&r.setup(),()=>z(r.Layout)}});async function X(){globalThis.__VITEPRESS__=!0;const a=Z(),e=Y();e.provide(D,a);const t=L(a.route);return e.provide(M,t),e.component("Mermaid",K),e.component("Content",I),e.component("ClientOnly",k),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),r.enhanceApp&&await r.enhanceApp({app:e,router:a,siteData:O}),{app:e,router:a,data:t}}function Y(){return q(Q)}function Z(){let a=f;return B(e=>{let t=$(e),s=null;return t&&(a&&(t=t.replace(/\.js$/,".lean.js")),s=import(t)),f&&(a=!1),s},r.NotFound)}f&&X().then(({app:a,router:e,data:t})=>{e.go().then(()=>{x(e.route,t.site),a.mount("#app")})});export{X as createApp};
